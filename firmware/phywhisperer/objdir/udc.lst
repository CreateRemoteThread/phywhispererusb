   1              	 .cpu cortex-m3
   2              	 .eabi_attribute 20,1
   3              	 .eabi_attribute 21,1
   4              	 .eabi_attribute 23,3
   5              	 .eabi_attribute 24,1
   6              	 .eabi_attribute 25,1
   7              	 .eabi_attribute 26,1
   8              	 .eabi_attribute 30,6
   9              	 .eabi_attribute 34,1
  10              	 .eabi_attribute 18,4
  11              	 .file "udc.c"
  12              	 .text
  13              	.Ltext0:
  14              	 .cfi_sections .debug_frame
  15              	 .section .bss.cpu_irq_critical_section_counter,"aw",%nobits
  16              	 .align 2
  19              	cpu_irq_critical_section_counter:
  20 0000 00000000 	 .space 4
  21              	 .section .bss.cpu_irq_prev_interrupt_state,"aw",%nobits
  24              	cpu_irq_prev_interrupt_state:
  25 0000 00       	 .space 1
  26              	 .section .bss.udc_device_status,"aw",%nobits
  27              	 .align 1
  30              	udc_device_status:
  31 0000 0000     	 .space 2
  32              	 .section .bss.udc_num_configuration,"aw",%nobits
  35              	udc_num_configuration:
  36 0000 00       	 .space 1
  37              	 .section .bss.udc_ptr_conf,"aw",%nobits
  38              	 .align 2
  41              	udc_ptr_conf:
  42 0000 00000000 	 .space 4
  43              	 .section .bss.udc_ptr_iface,"aw",%nobits
  44              	 .align 2
  47              	udc_ptr_iface:
  48 0000 00000000 	 .space 4
  49              	 .section .data.udc_string_desc_languageid,"aw",%progbits
  50              	 .align 2
  53              	udc_string_desc_languageid:
  54 0000 04       	 .byte 4
  55 0001 03       	 .byte 3
  56 0002 0904     	 .short 1033
  57              	 .section .data.udc_string_manufacturer_name,"aw",%progbits
  58              	 .align 2
  61              	udc_string_manufacturer_name:
  62 0000 4E657741 	 .ascii "NewAE Technology Inc.\000"
  62      45205465 
  62      63686E6F 
  62      6C6F6779 
  62      20496E63 
  63              	 .section .data.udc_string_product_name,"aw",%progbits
  64              	 .align 2
  67              	udc_string_product_name:
  68 0000 42616C6C 	 .ascii "Ballistic Gel CW521\000"
  68      69737469 
  68      63204765 
  68      6C204357 
  68      35323100 
  69              	 .section .text.udc_get_string_serial_name,"ax",%progbits
  70              	 .align 1
  71              	 .syntax unified
  72              	 .thumb
  73              	 .thumb_func
  74              	 .fpu softvfp
  76              	udc_get_string_serial_name:
  77              	.LFB71:
  78              	 .file 1 ".././hal/sam3u1c/udc.c"
   1:.././hal/sam3u1c/udc.c **** /**
   2:.././hal/sam3u1c/udc.c ****  * \file
   3:.././hal/sam3u1c/udc.c ****  *
   4:.././hal/sam3u1c/udc.c ****  * \brief USB Device Controller (UDC)
   5:.././hal/sam3u1c/udc.c ****  *
   6:.././hal/sam3u1c/udc.c ****  * Copyright (c) 2009 - 2014 Atmel Corporation. All rights reserved.
   7:.././hal/sam3u1c/udc.c ****  *
   8:.././hal/sam3u1c/udc.c ****  * \asf_license_start
   9:.././hal/sam3u1c/udc.c ****  *
  10:.././hal/sam3u1c/udc.c ****  * \page License
  11:.././hal/sam3u1c/udc.c ****  *
  12:.././hal/sam3u1c/udc.c ****  * Redistribution and use in source and binary forms, with or without
  13:.././hal/sam3u1c/udc.c ****  * modification, are permitted provided that the following conditions are met:
  14:.././hal/sam3u1c/udc.c ****  *
  15:.././hal/sam3u1c/udc.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:.././hal/sam3u1c/udc.c ****  *    this list of conditions and the following disclaimer.
  17:.././hal/sam3u1c/udc.c ****  *
  18:.././hal/sam3u1c/udc.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:.././hal/sam3u1c/udc.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:.././hal/sam3u1c/udc.c ****  *    and/or other materials provided with the distribution.
  21:.././hal/sam3u1c/udc.c ****  *
  22:.././hal/sam3u1c/udc.c ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:.././hal/sam3u1c/udc.c ****  *    from this software without specific prior written permission.
  24:.././hal/sam3u1c/udc.c ****  *
  25:.././hal/sam3u1c/udc.c ****  * 4. This software may only be redistributed and used in connection with an
  26:.././hal/sam3u1c/udc.c ****  *    Atmel microcontroller product.
  27:.././hal/sam3u1c/udc.c ****  *
  28:.././hal/sam3u1c/udc.c ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:.././hal/sam3u1c/udc.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:.././hal/sam3u1c/udc.c ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:.././hal/sam3u1c/udc.c ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:.././hal/sam3u1c/udc.c ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:.././hal/sam3u1c/udc.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:.././hal/sam3u1c/udc.c ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:.././hal/sam3u1c/udc.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:.././hal/sam3u1c/udc.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:.././hal/sam3u1c/udc.c ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:.././hal/sam3u1c/udc.c ****  * POSSIBILITY OF SUCH DAMAGE.
  39:.././hal/sam3u1c/udc.c ****  *
  40:.././hal/sam3u1c/udc.c ****  * \asf_license_stop
  41:.././hal/sam3u1c/udc.c ****  *
  42:.././hal/sam3u1c/udc.c ****  */
  43:.././hal/sam3u1c/udc.c **** 
  44:.././hal/sam3u1c/udc.c **** #include "conf_usb.h"
  45:.././hal/sam3u1c/udc.c **** #include "usb_protocol.h"
  46:.././hal/sam3u1c/udc.c **** #include "udd.h"
  47:.././hal/sam3u1c/udc.c **** #include "udc_desc.h"
  48:.././hal/sam3u1c/udc.c **** #include "udi.h"
  49:.././hal/sam3u1c/udc.c **** #include "udc.h"
  50:.././hal/sam3u1c/udc.c **** 
  51:.././hal/sam3u1c/udc.c **** /**
  52:.././hal/sam3u1c/udc.c ****  * \ingroup udc_group
  53:.././hal/sam3u1c/udc.c ****  * \defgroup udc_group_interne Implementation of UDC
  54:.././hal/sam3u1c/udc.c ****  *
  55:.././hal/sam3u1c/udc.c ****  * Internal implementation
  56:.././hal/sam3u1c/udc.c ****  * @{
  57:.././hal/sam3u1c/udc.c ****  */
  58:.././hal/sam3u1c/udc.c **** 
  59:.././hal/sam3u1c/udc.c **** //! \name Internal variables to manage the USB device
  60:.././hal/sam3u1c/udc.c **** //! @{
  61:.././hal/sam3u1c/udc.c **** 
  62:.././hal/sam3u1c/udc.c **** //! Device status state (see enum usb_device_status in usb_protocol.h)
  63:.././hal/sam3u1c/udc.c **** static le16_t udc_device_status;
  64:.././hal/sam3u1c/udc.c **** 
  65:.././hal/sam3u1c/udc.c **** //! Device Configuration number selected by the USB host
  66:.././hal/sam3u1c/udc.c **** static uint8_t udc_num_configuration = 0;
  67:.././hal/sam3u1c/udc.c **** 
  68:.././hal/sam3u1c/udc.c **** //! Pointer on the selected speed device configuration
  69:.././hal/sam3u1c/udc.c **** static udc_config_speed_t UDC_DESC_STORAGE *udc_ptr_conf;
  70:.././hal/sam3u1c/udc.c **** 
  71:.././hal/sam3u1c/udc.c **** //! Pointer on interface descriptor used by SETUP request.
  72:.././hal/sam3u1c/udc.c **** static usb_iface_desc_t UDC_DESC_STORAGE *udc_ptr_iface;
  73:.././hal/sam3u1c/udc.c **** 
  74:.././hal/sam3u1c/udc.c **** //! @}
  75:.././hal/sam3u1c/udc.c **** 
  76:.././hal/sam3u1c/udc.c **** 
  77:.././hal/sam3u1c/udc.c **** //! \name Internal structure to store the USB device main strings
  78:.././hal/sam3u1c/udc.c **** //! @{
  79:.././hal/sam3u1c/udc.c **** 
  80:.././hal/sam3u1c/udc.c **** /**
  81:.././hal/sam3u1c/udc.c ****  * \brief Language ID of USB device (US ID by default)
  82:.././hal/sam3u1c/udc.c ****  */
  83:.././hal/sam3u1c/udc.c **** COMPILER_WORD_ALIGNED
  84:.././hal/sam3u1c/udc.c **** static UDC_DESC_STORAGE usb_str_lgid_desc_t udc_string_desc_languageid = {
  85:.././hal/sam3u1c/udc.c **** 	.desc.bLength = sizeof(usb_str_lgid_desc_t),
  86:.././hal/sam3u1c/udc.c **** 	.desc.bDescriptorType = USB_DT_STRING,
  87:.././hal/sam3u1c/udc.c **** 	.string = {LE16(USB_LANGID_EN_US)}
  88:.././hal/sam3u1c/udc.c **** };
  89:.././hal/sam3u1c/udc.c **** 
  90:.././hal/sam3u1c/udc.c **** /**
  91:.././hal/sam3u1c/udc.c ****  * \brief USB device manufacture name storage
  92:.././hal/sam3u1c/udc.c ****  * String is allocated only if USB_DEVICE_MANUFACTURE_NAME is declared
  93:.././hal/sam3u1c/udc.c ****  * by usb application configuration
  94:.././hal/sam3u1c/udc.c ****  */
  95:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_MANUFACTURE_NAME
  96:.././hal/sam3u1c/udc.c **** static uint8_t udc_string_manufacturer_name[] = USB_DEVICE_MANUFACTURE_NAME;
  97:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_MANUFACTURE_NAME_SIZE  \
  98:.././hal/sam3u1c/udc.c **** 	(sizeof(udc_string_manufacturer_name)-1)
  99:.././hal/sam3u1c/udc.c **** #else
 100:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_MANUFACTURE_NAME_SIZE  0
 101:.././hal/sam3u1c/udc.c **** #endif
 102:.././hal/sam3u1c/udc.c **** 
 103:.././hal/sam3u1c/udc.c **** /**
 104:.././hal/sam3u1c/udc.c ****  * \brief USB device product name storage
 105:.././hal/sam3u1c/udc.c ****  * String is allocated only if USB_DEVICE_PRODUCT_NAME is declared
 106:.././hal/sam3u1c/udc.c ****  * by usb application configuration
 107:.././hal/sam3u1c/udc.c ****  */
 108:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_PRODUCT_NAME
 109:.././hal/sam3u1c/udc.c **** static uint8_t udc_string_product_name[] = USB_DEVICE_PRODUCT_NAME;
 110:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_PRODUCT_NAME_SIZE  (sizeof(udc_string_product_name)-1)
 111:.././hal/sam3u1c/udc.c **** #else
 112:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_PRODUCT_NAME_SIZE  0
 113:.././hal/sam3u1c/udc.c **** #endif
 114:.././hal/sam3u1c/udc.c **** 
 115:.././hal/sam3u1c/udc.c **** /**
 116:.././hal/sam3u1c/udc.c ****  * \brief Get USB device serial number
 117:.././hal/sam3u1c/udc.c ****  *
 118:.././hal/sam3u1c/udc.c ****  * Use the define USB_DEVICE_SERIAL_NAME to set static serial number.
 119:.././hal/sam3u1c/udc.c ****  *
 120:.././hal/sam3u1c/udc.c ****  * For dynamic serial number set the define USB_DEVICE_GET_SERIAL_NAME_POINTER
 121:.././hal/sam3u1c/udc.c ****  * to a suitable pointer. This will also require the serial number length
 122:.././hal/sam3u1c/udc.c ****  * define USB_DEVICE_GET_SERIAL_NAME_LENGTH.
 123:.././hal/sam3u1c/udc.c ****  */
 124:.././hal/sam3u1c/udc.c **** #if defined USB_DEVICE_GET_SERIAL_NAME_POINTER
 125:.././hal/sam3u1c/udc.c **** 	static const uint8_t *udc_get_string_serial_name(void)
 126:.././hal/sam3u1c/udc.c **** 	{
  79              	 .loc 1 126 0
  80              	 .cfi_startproc
  81              	 
  82              	 
  83              	 
  84 0000 80B4     	 push {r7}
  85              	.LCFI0:
  86              	 .cfi_def_cfa_offset 4
  87              	 .cfi_offset 7,-4
  88 0002 00AF     	 add r7,sp,#0
  89              	.LCFI1:
  90              	 .cfi_def_cfa_register 7
 127:.././hal/sam3u1c/udc.c **** 		return (const uint8_t *)USB_DEVICE_GET_SERIAL_NAME_POINTER;
  91              	 .loc 1 127 0
  92 0004 024B     	 ldr r3,.L3
 128:.././hal/sam3u1c/udc.c **** 	}
  93              	 .loc 1 128 0
  94 0006 1846     	 mov r0,r3
  95 0008 BD46     	 mov sp,r7
  96              	.LCFI2:
  97              	 .cfi_def_cfa_register 13
  98              	 
  99 000a 80BC     	 pop {r7}
 100              	.LCFI3:
 101              	 .cfi_restore 7
 102              	 .cfi_def_cfa_offset 0
 103 000c 7047     	 bx lr
 104              	.L4:
 105 000e 00BF     	 .align 2
 106              	.L3:
 107 0010 00000000 	 .word usb_serial_number
 108              	 .cfi_endproc
 109              	.LFE71:
 111              	 .section .data.udc_string_desc,"aw",%progbits
 112              	 .align 2
 115              	udc_string_desc:
 116 0000 00       	 .space 1
 117 0001 03       	 .byte 3
 118 0002 00000000 	 .space 64
 118      00000000 
 118      00000000 
 118      00000000 
 118      00000000 
 119              	 .section .text.udc_get_interface_desc,"ax",%progbits
 120              	 .align 1
 121              	 .global udc_get_interface_desc
 122              	 .syntax unified
 123              	 .thumb
 124              	 .thumb_func
 125              	 .fpu softvfp
 127              	udc_get_interface_desc:
 128              	.LFB72:
 129:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_SERIAL_NAME_SIZE \
 130:.././hal/sam3u1c/udc.c **** 	USB_DEVICE_GET_SERIAL_NAME_LENGTH
 131:.././hal/sam3u1c/udc.c **** #elif defined USB_DEVICE_SERIAL_NAME
 132:.././hal/sam3u1c/udc.c **** 	static const uint8_t *udc_get_string_serial_name(void)
 133:.././hal/sam3u1c/udc.c **** 	{
 134:.././hal/sam3u1c/udc.c **** 		return (const uint8_t *)USB_DEVICE_SERIAL_NAME;
 135:.././hal/sam3u1c/udc.c **** 	}
 136:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_SERIAL_NAME_SIZE \
 137:.././hal/sam3u1c/udc.c **** 	(sizeof(USB_DEVICE_SERIAL_NAME)-1)
 138:.././hal/sam3u1c/udc.c **** #else
 139:.././hal/sam3u1c/udc.c **** #  define USB_DEVICE_SERIAL_NAME_SIZE  0
 140:.././hal/sam3u1c/udc.c **** #endif
 141:.././hal/sam3u1c/udc.c **** 
 142:.././hal/sam3u1c/udc.c **** /**
 143:.././hal/sam3u1c/udc.c ****  * \brief USB device string descriptor
 144:.././hal/sam3u1c/udc.c ****  * Structure used to transfer ASCII strings to USB String descriptor structure.
 145:.././hal/sam3u1c/udc.c ****  */
 146:.././hal/sam3u1c/udc.c **** struct udc_string_desc_t {
 147:.././hal/sam3u1c/udc.c **** 	usb_str_desc_t header;
 148:.././hal/sam3u1c/udc.c **** 	le16_t string[Max(Max(USB_DEVICE_MANUFACTURE_NAME_SIZE, \
 149:.././hal/sam3u1c/udc.c **** 			USB_DEVICE_PRODUCT_NAME_SIZE), USB_DEVICE_SERIAL_NAME_SIZE)];
 150:.././hal/sam3u1c/udc.c **** };
 151:.././hal/sam3u1c/udc.c **** COMPILER_WORD_ALIGNED
 152:.././hal/sam3u1c/udc.c **** static UDC_DESC_STORAGE struct udc_string_desc_t udc_string_desc = {
 153:.././hal/sam3u1c/udc.c **** 	.header.bDescriptorType = USB_DT_STRING
 154:.././hal/sam3u1c/udc.c **** };
 155:.././hal/sam3u1c/udc.c **** //! @}
 156:.././hal/sam3u1c/udc.c **** 
 157:.././hal/sam3u1c/udc.c **** usb_iface_desc_t UDC_DESC_STORAGE *udc_get_interface_desc(void)
 158:.././hal/sam3u1c/udc.c **** {
 129              	 .loc 1 158 0
 130              	 .cfi_startproc
 131              	 
 132              	 
 133              	 
 134 0000 80B4     	 push {r7}
 135              	.LCFI4:
 136              	 .cfi_def_cfa_offset 4
 137              	 .cfi_offset 7,-4
 138 0002 00AF     	 add r7,sp,#0
 139              	.LCFI5:
 140              	 .cfi_def_cfa_register 7
 159:.././hal/sam3u1c/udc.c **** 	return udc_ptr_iface;
 141              	 .loc 1 159 0
 142 0004 024B     	 ldr r3,.L7
 143 0006 1B68     	 ldr r3,[r3]
 160:.././hal/sam3u1c/udc.c **** }
 144              	 .loc 1 160 0
 145 0008 1846     	 mov r0,r3
 146 000a BD46     	 mov sp,r7
 147              	.LCFI6:
 148              	 .cfi_def_cfa_register 13
 149              	 
 150 000c 80BC     	 pop {r7}
 151              	.LCFI7:
 152              	 .cfi_restore 7
 153              	 .cfi_def_cfa_offset 0
 154 000e 7047     	 bx lr
 155              	.L8:
 156              	 .align 2
 157              	.L7:
 158 0010 00000000 	 .word udc_ptr_iface
 159              	 .cfi_endproc
 160              	.LFE72:
 162              	 .section .text.udc_get_eof_conf,"ax",%progbits
 163              	 .align 1
 164              	 .syntax unified
 165              	 .thumb
 166              	 .thumb_func
 167              	 .fpu softvfp
 169              	udc_get_eof_conf:
 170              	.LFB73:
 161:.././hal/sam3u1c/udc.c **** 
 162:.././hal/sam3u1c/udc.c **** /**
 163:.././hal/sam3u1c/udc.c ****  * \brief Returns a value to check the end of USB Configuration descriptor
 164:.././hal/sam3u1c/udc.c ****  *
 165:.././hal/sam3u1c/udc.c ****  * \return address after the last byte of USB Configuration descriptor
 166:.././hal/sam3u1c/udc.c ****  */
 167:.././hal/sam3u1c/udc.c **** static usb_conf_desc_t UDC_DESC_STORAGE *udc_get_eof_conf(void)
 168:.././hal/sam3u1c/udc.c **** {
 171              	 .loc 1 168 0
 172              	 .cfi_startproc
 173              	 
 174              	 
 175              	 
 176 0000 80B4     	 push {r7}
 177              	.LCFI8:
 178              	 .cfi_def_cfa_offset 4
 179              	 .cfi_offset 7,-4
 180 0002 00AF     	 add r7,sp,#0
 181              	.LCFI9:
 182              	 .cfi_def_cfa_register 7
 169:.././hal/sam3u1c/udc.c **** 	return (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *)
 170:.././hal/sam3u1c/udc.c **** 			udc_ptr_conf->desc +
 183              	 .loc 1 170 0
 184 0004 064B     	 ldr r3,.L11
 185 0006 1B68     	 ldr r3,[r3]
 186 0008 1B68     	 ldr r3,[r3]
 171:.././hal/sam3u1c/udc.c **** 			le16_to_cpu(udc_ptr_conf->desc->wTotalLength));
 187              	 .loc 1 171 0
 188 000a 054A     	 ldr r2,.L11
 189 000c 1268     	 ldr r2,[r2]
 190 000e 1268     	 ldr r2,[r2]
 191 0010 5288     	 ldrh r2,[r2,#2]
 192 0012 92B2     	 uxth r2,r2
 169:.././hal/sam3u1c/udc.c **** 	return (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *)
 193              	 .loc 1 169 0
 194 0014 1344     	 add r3,r3,r2
 172:.././hal/sam3u1c/udc.c **** }
 195              	 .loc 1 172 0
 196 0016 1846     	 mov r0,r3
 197 0018 BD46     	 mov sp,r7
 198              	.LCFI10:
 199              	 .cfi_def_cfa_register 13
 200              	 
 201 001a 80BC     	 pop {r7}
 202              	.LCFI11:
 203              	 .cfi_restore 7
 204              	 .cfi_def_cfa_offset 0
 205 001c 7047     	 bx lr
 206              	.L12:
 207 001e 00BF     	 .align 2
 208              	.L11:
 209 0020 00000000 	 .word udc_ptr_conf
 210              	 .cfi_endproc
 211              	.LFE73:
 213              	 .section .text.udc_next_desc_in_iface,"ax",%progbits
 214              	 .align 1
 215              	 .syntax unified
 216              	 .thumb
 217              	 .thumb_func
 218              	 .fpu softvfp
 220              	udc_next_desc_in_iface:
 221              	.LFB74:
 173:.././hal/sam3u1c/udc.c **** 
 174:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 175:.././hal/sam3u1c/udc.c **** /**
 176:.././hal/sam3u1c/udc.c ****  * \brief Search specific descriptor in global interface descriptor
 177:.././hal/sam3u1c/udc.c ****  *
 178:.././hal/sam3u1c/udc.c ****  * \param desc       Address of interface descriptor
 179:.././hal/sam3u1c/udc.c ****  *                   or previous specific descriptor found
 180:.././hal/sam3u1c/udc.c ****  * \param desc_id    Descriptor ID to search
 181:.././hal/sam3u1c/udc.c ****  *
 182:.././hal/sam3u1c/udc.c ****  * \return address of specific descriptor found
 183:.././hal/sam3u1c/udc.c ****  * \return NULL if it is the end of global interface descriptor
 184:.././hal/sam3u1c/udc.c ****  */
 185:.././hal/sam3u1c/udc.c **** static usb_conf_desc_t UDC_DESC_STORAGE *udc_next_desc_in_iface(usb_conf_desc_t
 186:.././hal/sam3u1c/udc.c **** 		UDC_DESC_STORAGE * desc, uint8_t desc_id)
 187:.././hal/sam3u1c/udc.c **** {
 222              	 .loc 1 187 0
 223              	 .cfi_startproc
 224              	 
 225              	 
 226 0000 80B5     	 push {r7,lr}
 227              	.LCFI12:
 228              	 .cfi_def_cfa_offset 8
 229              	 .cfi_offset 7,-8
 230              	 .cfi_offset 14,-4
 231 0002 84B0     	 sub sp,sp,#16
 232              	.LCFI13:
 233              	 .cfi_def_cfa_offset 24
 234 0004 00AF     	 add r7,sp,#0
 235              	.LCFI14:
 236              	 .cfi_def_cfa_register 7
 237 0006 7860     	 str r0,[r7,#4]
 238 0008 0B46     	 mov r3,r1
 239 000a FB70     	 strb r3,[r7,#3]
 188:.././hal/sam3u1c/udc.c **** 	usb_conf_desc_t UDC_DESC_STORAGE *ptr_eof_desc;
 189:.././hal/sam3u1c/udc.c **** 
 190:.././hal/sam3u1c/udc.c **** 	ptr_eof_desc = udc_get_eof_conf();
 240              	 .loc 1 190 0
 241 000c 124B     	 ldr r3,.L21
 242 000e 9847     	 blx r3
 243              	.LVL0:
 244 0010 F860     	 str r0,[r7,#12]
 191:.././hal/sam3u1c/udc.c **** 	// Go to next descriptor
 192:.././hal/sam3u1c/udc.c **** 	desc = (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *) desc +
 193:.././hal/sam3u1c/udc.c **** 			desc->bLength);
 245              	 .loc 1 193 0
 246 0012 7B68     	 ldr r3,[r7,#4]
 247 0014 1B78     	 ldrb r3,[r3]
 248 0016 1A46     	 mov r2,r3
 192:.././hal/sam3u1c/udc.c **** 			desc->bLength);
 249              	 .loc 1 192 0
 250 0018 7B68     	 ldr r3,[r7,#4]
 251 001a 1344     	 add r3,r3,r2
 252 001c 7B60     	 str r3,[r7,#4]
 194:.././hal/sam3u1c/udc.c **** 	// Check the end of configuration descriptor
 195:.././hal/sam3u1c/udc.c **** 	while (ptr_eof_desc > desc) {
 253              	 .loc 1 195 0
 254 001e 10E0     	 b .L14
 255              	.L19:
 196:.././hal/sam3u1c/udc.c **** 		// If new interface descriptor is found,
 197:.././hal/sam3u1c/udc.c **** 		// then it is the end of the current global interface descriptor
 198:.././hal/sam3u1c/udc.c **** 		if (USB_DT_INTERFACE == desc->bDescriptorType) {
 256              	 .loc 1 198 0
 257 0020 7B68     	 ldr r3,[r7,#4]
 258 0022 5B78     	 ldrb r3,[r3,#1]
 259 0024 042B     	 cmp r3,#4
 260 0026 11D0     	 beq .L20
 199:.././hal/sam3u1c/udc.c **** 			break; // End of global interface descriptor
 200:.././hal/sam3u1c/udc.c **** 		}
 201:.././hal/sam3u1c/udc.c **** 		if (desc_id == desc->bDescriptorType) {
 261              	 .loc 1 201 0
 262 0028 7B68     	 ldr r3,[r7,#4]
 263 002a 5B78     	 ldrb r3,[r3,#1]
 264 002c FA78     	 ldrb r2,[r7,#3]
 265 002e 9A42     	 cmp r2,r3
 266 0030 01D1     	 bne .L17
 202:.././hal/sam3u1c/udc.c **** 			return desc; // Specific descriptor found
 267              	 .loc 1 202 0
 268 0032 7B68     	 ldr r3,[r7,#4]
 269 0034 0CE0     	 b .L18
 270              	.L17:
 203:.././hal/sam3u1c/udc.c **** 		}
 204:.././hal/sam3u1c/udc.c **** 		// Go to next descriptor
 205:.././hal/sam3u1c/udc.c **** 		desc = (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *) desc +
 206:.././hal/sam3u1c/udc.c **** 				desc->bLength);
 271              	 .loc 1 206 0
 272 0036 7B68     	 ldr r3,[r7,#4]
 273 0038 1B78     	 ldrb r3,[r3]
 274 003a 1A46     	 mov r2,r3
 205:.././hal/sam3u1c/udc.c **** 				desc->bLength);
 275              	 .loc 1 205 0
 276 003c 7B68     	 ldr r3,[r7,#4]
 277 003e 1344     	 add r3,r3,r2
 278 0040 7B60     	 str r3,[r7,#4]
 279              	.L14:
 195:.././hal/sam3u1c/udc.c **** 		// If new interface descriptor is found,
 280              	 .loc 1 195 0
 281 0042 FA68     	 ldr r2,[r7,#12]
 282 0044 7B68     	 ldr r3,[r7,#4]
 283 0046 9A42     	 cmp r2,r3
 284 0048 EAD8     	 bhi .L19
 285 004a 00E0     	 b .L16
 286              	.L20:
 199:.././hal/sam3u1c/udc.c **** 		}
 287              	 .loc 1 199 0
 288 004c 00BF     	 nop
 289              	.L16:
 207:.././hal/sam3u1c/udc.c **** 	}
 208:.././hal/sam3u1c/udc.c **** 	return NULL; // No specific descriptor found
 290              	 .loc 1 208 0
 291 004e 0023     	 movs r3,#0
 292              	.L18:
 209:.././hal/sam3u1c/udc.c **** }
 293              	 .loc 1 209 0
 294 0050 1846     	 mov r0,r3
 295 0052 1037     	 adds r7,r7,#16
 296              	.LCFI15:
 297              	 .cfi_def_cfa_offset 8
 298 0054 BD46     	 mov sp,r7
 299              	.LCFI16:
 300              	 .cfi_def_cfa_register 13
 301              	 
 302 0056 80BD     	 pop {r7,pc}
 303              	.L22:
 304              	 .align 2
 305              	.L21:
 306 0058 00000000 	 .word udc_get_eof_conf
 307              	 .cfi_endproc
 308              	.LFE74:
 310              	 .section .text.udc_update_iface_desc,"ax",%progbits
 311              	 .align 1
 312              	 .syntax unified
 313              	 .thumb
 314              	 .thumb_func
 315              	 .fpu softvfp
 317              	udc_update_iface_desc:
 318              	.LFB75:
 210:.././hal/sam3u1c/udc.c **** #endif
 211:.././hal/sam3u1c/udc.c **** 
 212:.././hal/sam3u1c/udc.c **** /**
 213:.././hal/sam3u1c/udc.c ****  * \brief Search an interface descriptor
 214:.././hal/sam3u1c/udc.c ****  * This routine updates the internal pointer udc_ptr_iface.
 215:.././hal/sam3u1c/udc.c ****  *
 216:.././hal/sam3u1c/udc.c ****  * \param iface_num     Interface number to find in Configuration Descriptor
 217:.././hal/sam3u1c/udc.c ****  * \param setting_num   Setting number of interface to find
 218:.././hal/sam3u1c/udc.c ****  *
 219:.././hal/sam3u1c/udc.c ****  * \return 1 if found or 0 if not found
 220:.././hal/sam3u1c/udc.c ****  */
 221:.././hal/sam3u1c/udc.c **** static bool udc_update_iface_desc(uint8_t iface_num, uint8_t setting_num)
 222:.././hal/sam3u1c/udc.c **** {
 319              	 .loc 1 222 0
 320              	 .cfi_startproc
 321              	 
 322              	 
 323 0000 80B5     	 push {r7,lr}
 324              	.LCFI17:
 325              	 .cfi_def_cfa_offset 8
 326              	 .cfi_offset 7,-8
 327              	 .cfi_offset 14,-4
 328 0002 84B0     	 sub sp,sp,#16
 329              	.LCFI18:
 330              	 .cfi_def_cfa_offset 24
 331 0004 00AF     	 add r7,sp,#0
 332              	.LCFI19:
 333              	 .cfi_def_cfa_register 7
 334 0006 0346     	 mov r3,r0
 335 0008 0A46     	 mov r2,r1
 336 000a FB71     	 strb r3,[r7,#7]
 337 000c 1346     	 mov r3,r2
 338 000e BB71     	 strb r3,[r7,#6]
 223:.././hal/sam3u1c/udc.c **** 	usb_conf_desc_t UDC_DESC_STORAGE *ptr_end_desc;
 224:.././hal/sam3u1c/udc.c **** 
 225:.././hal/sam3u1c/udc.c **** 	if (0 == udc_num_configuration) {
 339              	 .loc 1 225 0
 340 0010 1E4B     	 ldr r3,.L30
 341 0012 1B78     	 ldrb r3,[r3]
 342 0014 002B     	 cmp r3,#0
 343 0016 01D1     	 bne .L24
 226:.././hal/sam3u1c/udc.c **** 		return false;
 344              	 .loc 1 226 0
 345 0018 0023     	 movs r3,#0
 346 001a 32E0     	 b .L25
 347              	.L24:
 227:.././hal/sam3u1c/udc.c **** 	}
 228:.././hal/sam3u1c/udc.c **** 
 229:.././hal/sam3u1c/udc.c **** 	if (iface_num >= udc_ptr_conf->desc->bNumInterfaces) {
 348              	 .loc 1 229 0
 349 001c 1C4B     	 ldr r3,.L30+4
 350 001e 1B68     	 ldr r3,[r3]
 351 0020 1B68     	 ldr r3,[r3]
 352 0022 1B79     	 ldrb r3,[r3,#4]
 353 0024 FA79     	 ldrb r2,[r7,#7]
 354 0026 9A42     	 cmp r2,r3
 355 0028 01D3     	 bcc .L26
 230:.././hal/sam3u1c/udc.c **** 		return false;
 356              	 .loc 1 230 0
 357 002a 0023     	 movs r3,#0
 358 002c 29E0     	 b .L25
 359              	.L26:
 231:.././hal/sam3u1c/udc.c **** 	}
 232:.././hal/sam3u1c/udc.c **** 
 233:.././hal/sam3u1c/udc.c **** 	// Start at the beginning of configuration descriptor
 234:.././hal/sam3u1c/udc.c **** 	udc_ptr_iface = (UDC_DESC_STORAGE usb_iface_desc_t *)
 235:.././hal/sam3u1c/udc.c **** 			udc_ptr_conf->desc;
 360              	 .loc 1 235 0
 361 002e 184B     	 ldr r3,.L30+4
 362 0030 1B68     	 ldr r3,[r3]
 363 0032 1B68     	 ldr r3,[r3]
 234:.././hal/sam3u1c/udc.c **** 			udc_ptr_conf->desc;
 364              	 .loc 1 234 0
 365 0034 174A     	 ldr r2,.L30+8
 366 0036 1360     	 str r3,[r2]
 236:.././hal/sam3u1c/udc.c **** 
 237:.././hal/sam3u1c/udc.c **** 	// Check the end of configuration descriptor
 238:.././hal/sam3u1c/udc.c **** 	ptr_end_desc = udc_get_eof_conf();
 367              	 .loc 1 238 0
 368 0038 174B     	 ldr r3,.L30+12
 369 003a 9847     	 blx r3
 370              	.LVL1:
 371 003c F860     	 str r0,[r7,#12]
 239:.././hal/sam3u1c/udc.c **** 	while (ptr_end_desc >
 372              	 .loc 1 239 0
 373 003e 1AE0     	 b .L27
 374              	.L29:
 240:.././hal/sam3u1c/udc.c **** 			(UDC_DESC_STORAGE usb_conf_desc_t *) udc_ptr_iface) {
 241:.././hal/sam3u1c/udc.c **** 		if (USB_DT_INTERFACE == udc_ptr_iface->bDescriptorType) {
 375              	 .loc 1 241 0
 376 0040 144B     	 ldr r3,.L30+8
 377 0042 1B68     	 ldr r3,[r3]
 378 0044 5B78     	 ldrb r3,[r3,#1]
 379 0046 042B     	 cmp r3,#4
 380 0048 0DD1     	 bne .L28
 242:.././hal/sam3u1c/udc.c **** 			// A interface descriptor is found
 243:.././hal/sam3u1c/udc.c **** 			// Check interface and alternate setting number
 244:.././hal/sam3u1c/udc.c **** 			if ((iface_num == udc_ptr_iface->bInterfaceNumber) &&
 381              	 .loc 1 244 0
 382 004a 124B     	 ldr r3,.L30+8
 383 004c 1B68     	 ldr r3,[r3]
 384 004e 9B78     	 ldrb r3,[r3,#2]
 385 0050 FA79     	 ldrb r2,[r7,#7]
 386 0052 9A42     	 cmp r2,r3
 387 0054 07D1     	 bne .L28
 245:.././hal/sam3u1c/udc.c **** 					(setting_num ==
 246:.././hal/sam3u1c/udc.c **** 					udc_ptr_iface->bAlternateSetting)) {
 388              	 .loc 1 246 0 discriminator 1
 389 0056 0F4B     	 ldr r3,.L30+8
 390 0058 1B68     	 ldr r3,[r3]
 391 005a DB78     	 ldrb r3,[r3,#3]
 244:.././hal/sam3u1c/udc.c **** 					(setting_num ==
 392              	 .loc 1 244 0 discriminator 1
 393 005c BA79     	 ldrb r2,[r7,#6]
 394 005e 9A42     	 cmp r2,r3
 395 0060 01D1     	 bne .L28
 247:.././hal/sam3u1c/udc.c **** 				return true; // Interface found
 396              	 .loc 1 247 0
 397 0062 0123     	 movs r3,#1
 398 0064 0DE0     	 b .L25
 399              	.L28:
 248:.././hal/sam3u1c/udc.c **** 			}
 249:.././hal/sam3u1c/udc.c **** 		}
 250:.././hal/sam3u1c/udc.c **** 		// Go to next descriptor
 251:.././hal/sam3u1c/udc.c **** 		udc_ptr_iface = (UDC_DESC_STORAGE usb_iface_desc_t *) (
 400              	 .loc 1 251 0
 401 0066 0B4B     	 ldr r3,.L30+8
 402 0068 1B68     	 ldr r3,[r3]
 252:.././hal/sam3u1c/udc.c **** 				(uint8_t *) udc_ptr_iface +
 253:.././hal/sam3u1c/udc.c **** 				udc_ptr_iface->bLength);
 403              	 .loc 1 253 0
 404 006a 0A4A     	 ldr r2,.L30+8
 405 006c 1268     	 ldr r2,[r2]
 406 006e 1278     	 ldrb r2,[r2]
 251:.././hal/sam3u1c/udc.c **** 				(uint8_t *) udc_ptr_iface +
 407              	 .loc 1 251 0
 408 0070 1344     	 add r3,r3,r2
 409 0072 084A     	 ldr r2,.L30+8
 410 0074 1360     	 str r3,[r2]
 411              	.L27:
 240:.././hal/sam3u1c/udc.c **** 		if (USB_DT_INTERFACE == udc_ptr_iface->bDescriptorType) {
 412              	 .loc 1 240 0
 413 0076 074B     	 ldr r3,.L30+8
 414 0078 1B68     	 ldr r3,[r3]
 239:.././hal/sam3u1c/udc.c **** 			(UDC_DESC_STORAGE usb_conf_desc_t *) udc_ptr_iface) {
 415              	 .loc 1 239 0
 416 007a FA68     	 ldr r2,[r7,#12]
 417 007c 9A42     	 cmp r2,r3
 418 007e DFD8     	 bhi .L29
 254:.././hal/sam3u1c/udc.c **** 	}
 255:.././hal/sam3u1c/udc.c **** 	return false; // Interface not found
 419              	 .loc 1 255 0
 420 0080 0023     	 movs r3,#0
 421              	.L25:
 256:.././hal/sam3u1c/udc.c **** }
 422              	 .loc 1 256 0
 423 0082 1846     	 mov r0,r3
 424 0084 1037     	 adds r7,r7,#16
 425              	.LCFI20:
 426              	 .cfi_def_cfa_offset 8
 427 0086 BD46     	 mov sp,r7
 428              	.LCFI21:
 429              	 .cfi_def_cfa_register 13
 430              	 
 431 0088 80BD     	 pop {r7,pc}
 432              	.L31:
 433 008a 00BF     	 .align 2
 434              	.L30:
 435 008c 00000000 	 .word udc_num_configuration
 436 0090 00000000 	 .word udc_ptr_conf
 437 0094 00000000 	 .word udc_ptr_iface
 438 0098 00000000 	 .word udc_get_eof_conf
 439              	 .cfi_endproc
 440              	.LFE75:
 442              	 .section .text.udc_iface_disable,"ax",%progbits
 443              	 .align 1
 444              	 .syntax unified
 445              	 .thumb
 446              	 .thumb_func
 447              	 .fpu softvfp
 449              	udc_iface_disable:
 450              	.LFB76:
 257:.././hal/sam3u1c/udc.c **** 
 258:.././hal/sam3u1c/udc.c **** /**
 259:.././hal/sam3u1c/udc.c ****  * \brief Disables an usb device interface (UDI)
 260:.././hal/sam3u1c/udc.c ****  * This routine call the UDI corresponding to interface number
 261:.././hal/sam3u1c/udc.c ****  *
 262:.././hal/sam3u1c/udc.c ****  * \param iface_num     Interface number to disable
 263:.././hal/sam3u1c/udc.c ****  *
 264:.././hal/sam3u1c/udc.c ****  * \return 1 if it is done or 0 if interface is not found
 265:.././hal/sam3u1c/udc.c ****  */
 266:.././hal/sam3u1c/udc.c **** static bool udc_iface_disable(uint8_t iface_num)
 267:.././hal/sam3u1c/udc.c **** {
 451              	 .loc 1 267 0
 452              	 .cfi_startproc
 453              	 
 454              	 
 455 0000 80B5     	 push {r7,lr}
 456              	.LCFI22:
 457              	 .cfi_def_cfa_offset 8
 458              	 .cfi_offset 7,-8
 459              	 .cfi_offset 14,-4
 460 0002 84B0     	 sub sp,sp,#16
 461              	.LCFI23:
 462              	 .cfi_def_cfa_offset 24
 463 0004 00AF     	 add r7,sp,#0
 464              	.LCFI24:
 465              	 .cfi_def_cfa_register 7
 466 0006 0346     	 mov r3,r0
 467 0008 FB71     	 strb r3,[r7,#7]
 268:.././hal/sam3u1c/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
 269:.././hal/sam3u1c/udc.c **** 
 270:.././hal/sam3u1c/udc.c **** 	// Select first alternate setting of the interface
 271:.././hal/sam3u1c/udc.c **** 	// to update udc_ptr_iface before call iface->getsetting()
 272:.././hal/sam3u1c/udc.c **** 	if (!udc_update_iface_desc(iface_num, 0)) {
 468              	 .loc 1 272 0
 469 000a FB79     	 ldrb r3,[r7,#7]
 470 000c 0021     	 movs r1,#0
 471 000e 1846     	 mov r0,r3
 472 0010 1E4B     	 ldr r3,.L41
 473 0012 9847     	 blx r3
 474              	.LVL2:
 475 0014 0346     	 mov r3,r0
 476 0016 83F00103 	 eor r3,r3,#1
 477 001a DBB2     	 uxtb r3,r3
 478 001c 002B     	 cmp r3,#0
 479 001e 01D0     	 beq .L33
 273:.././hal/sam3u1c/udc.c **** 		return false;
 480              	 .loc 1 273 0
 481 0020 0023     	 movs r3,#0
 482 0022 2FE0     	 b .L34
 483              	.L33:
 274:.././hal/sam3u1c/udc.c **** 	}
 275:.././hal/sam3u1c/udc.c **** 
 276:.././hal/sam3u1c/udc.c **** 	// Select the interface with the current alternate setting
 277:.././hal/sam3u1c/udc.c **** 	udi_api = udc_ptr_conf->udi_apis[iface_num];
 484              	 .loc 1 277 0
 485 0024 1A4B     	 ldr r3,.L41+4
 486 0026 1B68     	 ldr r3,[r3]
 487 0028 5A68     	 ldr r2,[r3,#4]
 488 002a FB79     	 ldrb r3,[r7,#7]
 489 002c 9B00     	 lsls r3,r3,#2
 490 002e 1344     	 add r3,r3,r2
 491 0030 1B68     	 ldr r3,[r3]
 492 0032 BB60     	 str r3,[r7,#8]
 278:.././hal/sam3u1c/udc.c **** 
 279:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 280:.././hal/sam3u1c/udc.c **** 	if (!udc_update_iface_desc(iface_num, udi_api->getsetting())) {
 493              	 .loc 1 280 0
 494 0034 BB68     	 ldr r3,[r7,#8]
 495 0036 DB68     	 ldr r3,[r3,#12]
 496 0038 9847     	 blx r3
 497              	.LVL3:
 498 003a 0346     	 mov r3,r0
 499 003c 1A46     	 mov r2,r3
 500 003e FB79     	 ldrb r3,[r7,#7]
 501 0040 1146     	 mov r1,r2
 502 0042 1846     	 mov r0,r3
 503 0044 114B     	 ldr r3,.L41
 504 0046 9847     	 blx r3
 505              	.LVL4:
 506 0048 0346     	 mov r3,r0
 507 004a 83F00103 	 eor r3,r3,#1
 508 004e DBB2     	 uxtb r3,r3
 509 0050 002B     	 cmp r3,#0
 510 0052 01D0     	 beq .L35
 281:.././hal/sam3u1c/udc.c **** 		return false;
 511              	 .loc 1 281 0
 512 0054 0023     	 movs r3,#0
 513 0056 15E0     	 b .L34
 514              	.L35:
 515              	.LBB2:
 282:.././hal/sam3u1c/udc.c **** 	}
 283:.././hal/sam3u1c/udc.c **** 
 284:.././hal/sam3u1c/udc.c **** 	// Start at the beginning of interface descriptor
 285:.././hal/sam3u1c/udc.c **** 	{
 286:.././hal/sam3u1c/udc.c **** 		usb_ep_desc_t UDC_DESC_STORAGE *ep_desc;
 287:.././hal/sam3u1c/udc.c **** 		ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *) udc_ptr_iface;
 516              	 .loc 1 287 0
 517 0058 0E4B     	 ldr r3,.L41+8
 518 005a 1B68     	 ldr r3,[r3]
 519 005c FB60     	 str r3,[r7,#12]
 520              	.L38:
 288:.././hal/sam3u1c/udc.c **** 		while (1) {
 289:.././hal/sam3u1c/udc.c **** 			// Search Endpoint descriptor included in global interface descriptor
 290:.././hal/sam3u1c/udc.c **** 			ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *)
 521              	 .loc 1 290 0
 522 005e 0521     	 movs r1,#5
 523 0060 F868     	 ldr r0,[r7,#12]
 524 0062 0D4B     	 ldr r3,.L41+12
 525 0064 9847     	 blx r3
 526              	.LVL5:
 527 0066 F860     	 str r0,[r7,#12]
 291:.././hal/sam3u1c/udc.c **** 					udc_next_desc_in_iface((UDC_DESC_STORAGE
 292:.././hal/sam3u1c/udc.c **** 					usb_conf_desc_t *)
 293:.././hal/sam3u1c/udc.c **** 					ep_desc, USB_DT_ENDPOINT);
 294:.././hal/sam3u1c/udc.c **** 			if (NULL == ep_desc) {
 528              	 .loc 1 294 0
 529 0068 FB68     	 ldr r3,[r7,#12]
 530 006a 002B     	 cmp r3,#0
 531 006c 05D0     	 beq .L40
 295:.././hal/sam3u1c/udc.c **** 				break;
 296:.././hal/sam3u1c/udc.c **** 			}
 297:.././hal/sam3u1c/udc.c **** 			// Free the endpoint used by the interface
 298:.././hal/sam3u1c/udc.c **** 			udd_ep_free(ep_desc->bEndpointAddress);
 532              	 .loc 1 298 0
 533 006e FB68     	 ldr r3,[r7,#12]
 534 0070 9B78     	 ldrb r3,[r3,#2]
 535 0072 1846     	 mov r0,r3
 536 0074 094B     	 ldr r3,.L41+16
 537 0076 9847     	 blx r3
 538              	.LVL6:
 290:.././hal/sam3u1c/udc.c **** 					udc_next_desc_in_iface((UDC_DESC_STORAGE
 539              	 .loc 1 290 0
 540 0078 F1E7     	 b .L38
 541              	.L40:
 295:.././hal/sam3u1c/udc.c **** 				break;
 542              	 .loc 1 295 0
 543 007a 00BF     	 nop
 544              	.LBE2:
 299:.././hal/sam3u1c/udc.c **** 		}
 300:.././hal/sam3u1c/udc.c **** 	}
 301:.././hal/sam3u1c/udc.c **** #endif
 302:.././hal/sam3u1c/udc.c **** 
 303:.././hal/sam3u1c/udc.c **** 	// Disable interface
 304:.././hal/sam3u1c/udc.c **** 	udi_api->disable();
 545              	 .loc 1 304 0
 546 007c BB68     	 ldr r3,[r7,#8]
 547 007e 5B68     	 ldr r3,[r3,#4]
 548 0080 9847     	 blx r3
 549              	.LVL7:
 305:.././hal/sam3u1c/udc.c **** 	return true;
 550              	 .loc 1 305 0
 551 0082 0123     	 movs r3,#1
 552              	.L34:
 306:.././hal/sam3u1c/udc.c **** }
 553              	 .loc 1 306 0
 554 0084 1846     	 mov r0,r3
 555 0086 1037     	 adds r7,r7,#16
 556              	.LCFI25:
 557              	 .cfi_def_cfa_offset 8
 558 0088 BD46     	 mov sp,r7
 559              	.LCFI26:
 560              	 .cfi_def_cfa_register 13
 561              	 
 562 008a 80BD     	 pop {r7,pc}
 563              	.L42:
 564              	 .align 2
 565              	.L41:
 566 008c 00000000 	 .word udc_update_iface_desc
 567 0090 00000000 	 .word udc_ptr_conf
 568 0094 00000000 	 .word udc_ptr_iface
 569 0098 00000000 	 .word udc_next_desc_in_iface
 570 009c 00000000 	 .word udd_ep_free
 571              	 .cfi_endproc
 572              	.LFE76:
 574              	 .section .text.udc_iface_enable,"ax",%progbits
 575              	 .align 1
 576              	 .syntax unified
 577              	 .thumb
 578              	 .thumb_func
 579              	 .fpu softvfp
 581              	udc_iface_enable:
 582              	.LFB77:
 307:.././hal/sam3u1c/udc.c **** 
 308:.././hal/sam3u1c/udc.c **** /**
 309:.././hal/sam3u1c/udc.c ****  * \brief Enables an usb device interface (UDI)
 310:.././hal/sam3u1c/udc.c ****  * This routine calls the UDI corresponding
 311:.././hal/sam3u1c/udc.c ****  * to the interface and setting number.
 312:.././hal/sam3u1c/udc.c ****  *
 313:.././hal/sam3u1c/udc.c ****  * \param iface_num     Interface number to enable
 314:.././hal/sam3u1c/udc.c ****  * \param setting_num   Setting number to enable
 315:.././hal/sam3u1c/udc.c ****  *
 316:.././hal/sam3u1c/udc.c ****  * \return 1 if it is done or 0 if interface is not found
 317:.././hal/sam3u1c/udc.c ****  */
 318:.././hal/sam3u1c/udc.c **** static bool udc_iface_enable(uint8_t iface_num, uint8_t setting_num)
 319:.././hal/sam3u1c/udc.c **** {
 583              	 .loc 1 319 0
 584              	 .cfi_startproc
 585              	 
 586              	 
 587 0000 80B5     	 push {r7,lr}
 588              	.LCFI27:
 589              	 .cfi_def_cfa_offset 8
 590              	 .cfi_offset 7,-8
 591              	 .cfi_offset 14,-4
 592 0002 84B0     	 sub sp,sp,#16
 593              	.LCFI28:
 594              	 .cfi_def_cfa_offset 24
 595 0004 00AF     	 add r7,sp,#0
 596              	.LCFI29:
 597              	 .cfi_def_cfa_register 7
 598 0006 0346     	 mov r3,r0
 599 0008 0A46     	 mov r2,r1
 600 000a FB71     	 strb r3,[r7,#7]
 601 000c 1346     	 mov r3,r2
 602 000e BB71     	 strb r3,[r7,#6]
 320:.././hal/sam3u1c/udc.c **** 	// Select the interface descriptor
 321:.././hal/sam3u1c/udc.c **** 	if (!udc_update_iface_desc(iface_num, setting_num)) {
 603              	 .loc 1 321 0
 604 0010 BA79     	 ldrb r2,[r7,#6]
 605 0012 FB79     	 ldrb r3,[r7,#7]
 606 0014 1146     	 mov r1,r2
 607 0016 1846     	 mov r0,r3
 608 0018 1A4B     	 ldr r3,.L52
 609 001a 9847     	 blx r3
 610              	.LVL8:
 611 001c 0346     	 mov r3,r0
 612 001e 83F00103 	 eor r3,r3,#1
 613 0022 DBB2     	 uxtb r3,r3
 614 0024 002B     	 cmp r3,#0
 615 0026 01D0     	 beq .L44
 322:.././hal/sam3u1c/udc.c **** 		return false;
 616              	 .loc 1 322 0
 617 0028 0023     	 movs r3,#0
 618 002a 27E0     	 b .L45
 619              	.L44:
 323:.././hal/sam3u1c/udc.c **** 	}
 324:.././hal/sam3u1c/udc.c **** 
 325:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 326:.././hal/sam3u1c/udc.c **** 	usb_ep_desc_t UDC_DESC_STORAGE *ep_desc;
 327:.././hal/sam3u1c/udc.c **** 
 328:.././hal/sam3u1c/udc.c **** 	// Start at the beginning of the global interface descriptor
 329:.././hal/sam3u1c/udc.c **** 	ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *) udc_ptr_iface;
 620              	 .loc 1 329 0
 621 002c 164B     	 ldr r3,.L52+4
 622 002e 1B68     	 ldr r3,[r3]
 623 0030 FB60     	 str r3,[r7,#12]
 624              	.L49:
 330:.././hal/sam3u1c/udc.c **** 	while (1) {
 331:.././hal/sam3u1c/udc.c **** 		// Search Endpoint descriptor included in the global interface descriptor
 332:.././hal/sam3u1c/udc.c **** 		ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *)
 625              	 .loc 1 332 0
 626 0032 0521     	 movs r1,#5
 627 0034 F868     	 ldr r0,[r7,#12]
 628 0036 154B     	 ldr r3,.L52+8
 629 0038 9847     	 blx r3
 630              	.LVL9:
 631 003a F860     	 str r0,[r7,#12]
 333:.././hal/sam3u1c/udc.c **** 				udc_next_desc_in_iface((UDC_DESC_STORAGE
 334:.././hal/sam3u1c/udc.c **** 						usb_conf_desc_t *) ep_desc,
 335:.././hal/sam3u1c/udc.c **** 				USB_DT_ENDPOINT);
 336:.././hal/sam3u1c/udc.c **** 		if (NULL == ep_desc)
 632              	 .loc 1 336 0
 633 003c FB68     	 ldr r3,[r7,#12]
 634 003e 002B     	 cmp r3,#0
 635 0040 11D0     	 beq .L51
 337:.././hal/sam3u1c/udc.c **** 			break;
 338:.././hal/sam3u1c/udc.c **** 		// Alloc the endpoint used by the interface
 339:.././hal/sam3u1c/udc.c **** 		if (!udd_ep_alloc(ep_desc->bEndpointAddress,
 636              	 .loc 1 339 0
 637 0042 FB68     	 ldr r3,[r7,#12]
 638 0044 9878     	 ldrb r0,[r3,#2]
 639 0046 FB68     	 ldr r3,[r7,#12]
 640 0048 D978     	 ldrb r1,[r3,#3]
 641 004a FB68     	 ldr r3,[r7,#12]
 642 004c 9B88     	 ldrh r3,[r3,#4]
 643 004e 9BB2     	 uxth r3,r3
 644 0050 1A46     	 mov r2,r3
 645 0052 0F4B     	 ldr r3,.L52+12
 646 0054 9847     	 blx r3
 647              	.LVL10:
 648 0056 0346     	 mov r3,r0
 649 0058 83F00103 	 eor r3,r3,#1
 650 005c DBB2     	 uxtb r3,r3
 651 005e 002B     	 cmp r3,#0
 652 0060 E7D0     	 beq .L49
 340:.././hal/sam3u1c/udc.c **** 				ep_desc->bmAttributes,
 341:.././hal/sam3u1c/udc.c **** 				le16_to_cpu
 342:.././hal/sam3u1c/udc.c **** 				(ep_desc->wMaxPacketSize))) {
 343:.././hal/sam3u1c/udc.c **** 			return false;
 653              	 .loc 1 343 0
 654 0062 0023     	 movs r3,#0
 655 0064 0AE0     	 b .L45
 656              	.L51:
 337:.././hal/sam3u1c/udc.c **** 			break;
 657              	 .loc 1 337 0
 658 0066 00BF     	 nop
 344:.././hal/sam3u1c/udc.c **** 		}
 345:.././hal/sam3u1c/udc.c **** 	}
 346:.././hal/sam3u1c/udc.c **** #endif
 347:.././hal/sam3u1c/udc.c **** 	// Enable the interface
 348:.././hal/sam3u1c/udc.c **** 	return udc_ptr_conf->udi_apis[iface_num]->enable();
 659              	 .loc 1 348 0
 660 0068 0A4B     	 ldr r3,.L52+16
 661 006a 1B68     	 ldr r3,[r3]
 662 006c 5A68     	 ldr r2,[r3,#4]
 663 006e FB79     	 ldrb r3,[r7,#7]
 664 0070 9B00     	 lsls r3,r3,#2
 665 0072 1344     	 add r3,r3,r2
 666 0074 1B68     	 ldr r3,[r3]
 667 0076 1B68     	 ldr r3,[r3]
 668 0078 9847     	 blx r3
 669              	.LVL11:
 670 007a 0346     	 mov r3,r0
 671              	.L45:
 349:.././hal/sam3u1c/udc.c **** }
 672              	 .loc 1 349 0
 673 007c 1846     	 mov r0,r3
 674 007e 1037     	 adds r7,r7,#16
 675              	.LCFI30:
 676              	 .cfi_def_cfa_offset 8
 677 0080 BD46     	 mov sp,r7
 678              	.LCFI31:
 679              	 .cfi_def_cfa_register 13
 680              	 
 681 0082 80BD     	 pop {r7,pc}
 682              	.L53:
 683              	 .align 2
 684              	.L52:
 685 0084 00000000 	 .word udc_update_iface_desc
 686 0088 00000000 	 .word udc_ptr_iface
 687 008c 00000000 	 .word udc_next_desc_in_iface
 688 0090 00000000 	 .word udd_ep_alloc
 689 0094 00000000 	 .word udc_ptr_conf
 690              	 .cfi_endproc
 691              	.LFE77:
 693              	 .section .text.udc_start,"ax",%progbits
 694              	 .align 1
 695              	 .global udc_start
 696              	 .syntax unified
 697              	 .thumb
 698              	 .thumb_func
 699              	 .fpu softvfp
 701              	udc_start:
 702              	.LFB78:
 350:.././hal/sam3u1c/udc.c **** 
 351:.././hal/sam3u1c/udc.c **** /*! \brief Start the USB Device stack
 352:.././hal/sam3u1c/udc.c ****  */
 353:.././hal/sam3u1c/udc.c **** void udc_start(void)
 354:.././hal/sam3u1c/udc.c **** {
 703              	 .loc 1 354 0
 704              	 .cfi_startproc
 705              	 
 706              	 
 707 0000 80B5     	 push {r7,lr}
 708              	.LCFI32:
 709              	 .cfi_def_cfa_offset 8
 710              	 .cfi_offset 7,-8
 711              	 .cfi_offset 14,-4
 712 0002 00AF     	 add r7,sp,#0
 713              	.LCFI33:
 714              	 .cfi_def_cfa_register 7
 355:.././hal/sam3u1c/udc.c **** 	udd_enable();
 715              	 .loc 1 355 0
 716 0004 014B     	 ldr r3,.L55
 717 0006 9847     	 blx r3
 718              	.LVL12:
 356:.././hal/sam3u1c/udc.c **** }
 719              	 .loc 1 356 0
 720 0008 00BF     	 nop
 721 000a 80BD     	 pop {r7,pc}
 722              	.L56:
 723              	 .align 2
 724              	.L55:
 725 000c 00000000 	 .word udd_enable
 726              	 .cfi_endproc
 727              	.LFE78:
 729              	 .section .text.udc_stop,"ax",%progbits
 730              	 .align 1
 731              	 .global udc_stop
 732              	 .syntax unified
 733              	 .thumb
 734              	 .thumb_func
 735              	 .fpu softvfp
 737              	udc_stop:
 738              	.LFB79:
 357:.././hal/sam3u1c/udc.c **** 
 358:.././hal/sam3u1c/udc.c **** /*! \brief Stop the USB Device stack
 359:.././hal/sam3u1c/udc.c ****  */
 360:.././hal/sam3u1c/udc.c **** void udc_stop(void)
 361:.././hal/sam3u1c/udc.c **** {
 739              	 .loc 1 361 0
 740              	 .cfi_startproc
 741              	 
 742              	 
 743 0000 80B5     	 push {r7,lr}
 744              	.LCFI34:
 745              	 .cfi_def_cfa_offset 8
 746              	 .cfi_offset 7,-8
 747              	 .cfi_offset 14,-4
 748 0002 00AF     	 add r7,sp,#0
 749              	.LCFI35:
 750              	 .cfi_def_cfa_register 7
 362:.././hal/sam3u1c/udc.c **** 	udd_disable();
 751              	 .loc 1 362 0
 752 0004 024B     	 ldr r3,.L58
 753 0006 9847     	 blx r3
 754              	.LVL13:
 363:.././hal/sam3u1c/udc.c **** 	udc_reset();
 755              	 .loc 1 363 0
 756 0008 024B     	 ldr r3,.L58+4
 757 000a 9847     	 blx r3
 758              	.LVL14:
 364:.././hal/sam3u1c/udc.c **** }
 759              	 .loc 1 364 0
 760 000c 00BF     	 nop
 761 000e 80BD     	 pop {r7,pc}
 762              	.L59:
 763              	 .align 2
 764              	.L58:
 765 0010 00000000 	 .word udd_disable
 766 0014 00000000 	 .word udc_reset
 767              	 .cfi_endproc
 768              	.LFE79:
 770              	 .section .text.udc_reset,"ax",%progbits
 771              	 .align 1
 772              	 .global udc_reset
 773              	 .syntax unified
 774              	 .thumb
 775              	 .thumb_func
 776              	 .fpu softvfp
 778              	udc_reset:
 779              	.LFB80:
 365:.././hal/sam3u1c/udc.c **** 
 366:.././hal/sam3u1c/udc.c **** /**
 367:.././hal/sam3u1c/udc.c ****  * \brief Reset the current configuration of the USB device,
 368:.././hal/sam3u1c/udc.c ****  * This routines can be called by UDD when a RESET on the USB line occurs.
 369:.././hal/sam3u1c/udc.c ****  */
 370:.././hal/sam3u1c/udc.c **** void udc_reset(void)
 371:.././hal/sam3u1c/udc.c **** {
 780              	 .loc 1 371 0
 781              	 .cfi_startproc
 782              	 
 783              	 
 784 0000 80B5     	 push {r7,lr}
 785              	.LCFI36:
 786              	 .cfi_def_cfa_offset 8
 787              	 .cfi_offset 7,-8
 788              	 .cfi_offset 14,-4
 789 0002 82B0     	 sub sp,sp,#8
 790              	.LCFI37:
 791              	 .cfi_def_cfa_offset 16
 792 0004 00AF     	 add r7,sp,#0
 793              	.LCFI38:
 794              	 .cfi_def_cfa_register 7
 372:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num;
 373:.././hal/sam3u1c/udc.c **** 
 374:.././hal/sam3u1c/udc.c **** 	if (udc_num_configuration) {
 795              	 .loc 1 374 0
 796 0006 0F4B     	 ldr r3,.L64
 797 0008 1B78     	 ldrb r3,[r3]
 798 000a 002B     	 cmp r3,#0
 799 000c 10D0     	 beq .L61
 375:.././hal/sam3u1c/udc.c **** 		for (iface_num = 0;
 800              	 .loc 1 375 0
 801 000e 0023     	 movs r3,#0
 802 0010 FB71     	 strb r3,[r7,#7]
 803 0012 06E0     	 b .L62
 804              	.L63:
 376:.././hal/sam3u1c/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 377:.././hal/sam3u1c/udc.c **** 				iface_num++) {
 378:.././hal/sam3u1c/udc.c **** 			udc_iface_disable(iface_num);
 805              	 .loc 1 378 0
 806 0014 FB79     	 ldrb r3,[r7,#7]
 807 0016 1846     	 mov r0,r3
 808 0018 0B4B     	 ldr r3,.L64+4
 809 001a 9847     	 blx r3
 810              	.LVL15:
 377:.././hal/sam3u1c/udc.c **** 			udc_iface_disable(iface_num);
 811              	 .loc 1 377 0
 812 001c FB79     	 ldrb r3,[r7,#7]
 813 001e 0133     	 adds r3,r3,#1
 814 0020 FB71     	 strb r3,[r7,#7]
 815              	.L62:
 376:.././hal/sam3u1c/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 816              	 .loc 1 376 0 discriminator 1
 817 0022 0A4B     	 ldr r3,.L64+8
 818 0024 1B68     	 ldr r3,[r3]
 819 0026 1B68     	 ldr r3,[r3]
 820 0028 1B79     	 ldrb r3,[r3,#4]
 375:.././hal/sam3u1c/udc.c **** 		for (iface_num = 0;
 821              	 .loc 1 375 0 discriminator 1
 822 002a FA79     	 ldrb r2,[r7,#7]
 823 002c 9A42     	 cmp r2,r3
 824 002e F1D3     	 bcc .L63
 825              	.L61:
 379:.././hal/sam3u1c/udc.c **** 		}
 380:.././hal/sam3u1c/udc.c **** 	}
 381:.././hal/sam3u1c/udc.c **** 	udc_num_configuration = 0;
 826              	 .loc 1 381 0
 827 0030 044B     	 ldr r3,.L64
 828 0032 0022     	 movs r2,#0
 829 0034 1A70     	 strb r2,[r3]
 382:.././hal/sam3u1c/udc.c **** #if (USB_CONFIG_ATTR_REMOTE_WAKEUP \
 383:.././hal/sam3u1c/udc.c **** 	== (USB_DEVICE_ATTR & USB_CONFIG_ATTR_REMOTE_WAKEUP))
 384:.././hal/sam3u1c/udc.c **** 	if (CPU_TO_LE16(USB_DEV_STATUS_REMOTEWAKEUP) & udc_device_status) {
 385:.././hal/sam3u1c/udc.c **** 		// Remote wakeup is enabled then disable it
 386:.././hal/sam3u1c/udc.c **** 		UDC_REMOTEWAKEUP_DISABLE();
 387:.././hal/sam3u1c/udc.c **** 	}
 388:.././hal/sam3u1c/udc.c **** #endif
 389:.././hal/sam3u1c/udc.c **** 	udc_device_status =
 830              	 .loc 1 389 0
 831 0036 064B     	 ldr r3,.L64+12
 832 0038 0022     	 movs r2,#0
 833 003a 1A80     	 strh r2,[r3]
 390:.././hal/sam3u1c/udc.c **** #if (USB_DEVICE_ATTR & USB_CONFIG_ATTR_SELF_POWERED)
 391:.././hal/sam3u1c/udc.c **** 			CPU_TO_LE16(USB_DEV_STATUS_SELF_POWERED);
 392:.././hal/sam3u1c/udc.c **** #else
 393:.././hal/sam3u1c/udc.c **** 			CPU_TO_LE16(USB_DEV_STATUS_BUS_POWERED);
 394:.././hal/sam3u1c/udc.c **** #endif
 395:.././hal/sam3u1c/udc.c **** }
 834              	 .loc 1 395 0
 835 003c 00BF     	 nop
 836 003e 0837     	 adds r7,r7,#8
 837              	.LCFI39:
 838              	 .cfi_def_cfa_offset 8
 839 0040 BD46     	 mov sp,r7
 840              	.LCFI40:
 841              	 .cfi_def_cfa_register 13
 842              	 
 843 0042 80BD     	 pop {r7,pc}
 844              	.L65:
 845              	 .align 2
 846              	.L64:
 847 0044 00000000 	 .word udc_num_configuration
 848 0048 00000000 	 .word udc_iface_disable
 849 004c 00000000 	 .word udc_ptr_conf
 850 0050 00000000 	 .word udc_device_status
 851              	 .cfi_endproc
 852              	.LFE80:
 854              	 .section .text.udc_sof_notify,"ax",%progbits
 855              	 .align 1
 856              	 .global udc_sof_notify
 857              	 .syntax unified
 858              	 .thumb
 859              	 .thumb_func
 860              	 .fpu softvfp
 862              	udc_sof_notify:
 863              	.LFB81:
 396:.././hal/sam3u1c/udc.c **** 
 397:.././hal/sam3u1c/udc.c **** void udc_sof_notify(void)
 398:.././hal/sam3u1c/udc.c **** {
 864              	 .loc 1 398 0
 865              	 .cfi_startproc
 866              	 
 867              	 
 868 0000 80B5     	 push {r7,lr}
 869              	.LCFI41:
 870              	 .cfi_def_cfa_offset 8
 871              	 .cfi_offset 7,-8
 872              	 .cfi_offset 14,-4
 873 0002 82B0     	 sub sp,sp,#8
 874              	.LCFI42:
 875              	 .cfi_def_cfa_offset 16
 876 0004 00AF     	 add r7,sp,#0
 877              	.LCFI43:
 878              	 .cfi_def_cfa_register 7
 399:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num;
 400:.././hal/sam3u1c/udc.c **** 
 401:.././hal/sam3u1c/udc.c **** 	if (udc_num_configuration) {
 879              	 .loc 1 401 0
 880 0006 144B     	 ldr r3,.L72
 881 0008 1B78     	 ldrb r3,[r3]
 882 000a 002B     	 cmp r3,#0
 883 000c 1FD0     	 beq .L71
 402:.././hal/sam3u1c/udc.c **** 		for (iface_num = 0;
 884              	 .loc 1 402 0
 885 000e 0023     	 movs r3,#0
 886 0010 FB71     	 strb r3,[r7,#7]
 887 0012 15E0     	 b .L68
 888              	.L70:
 403:.././hal/sam3u1c/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 404:.././hal/sam3u1c/udc.c **** 				iface_num++) {
 405:.././hal/sam3u1c/udc.c **** 			if (udc_ptr_conf->udi_apis[iface_num]->sof_notify != NULL) {
 889              	 .loc 1 405 0
 890 0014 114B     	 ldr r3,.L72+4
 891 0016 1B68     	 ldr r3,[r3]
 892 0018 5A68     	 ldr r2,[r3,#4]
 893 001a FB79     	 ldrb r3,[r7,#7]
 894 001c 9B00     	 lsls r3,r3,#2
 895 001e 1344     	 add r3,r3,r2
 896 0020 1B68     	 ldr r3,[r3]
 897 0022 1B69     	 ldr r3,[r3,#16]
 898 0024 002B     	 cmp r3,#0
 899 0026 08D0     	 beq .L69
 406:.././hal/sam3u1c/udc.c **** 				udc_ptr_conf->udi_apis[iface_num]->sof_notify();
 900              	 .loc 1 406 0
 901 0028 0C4B     	 ldr r3,.L72+4
 902 002a 1B68     	 ldr r3,[r3]
 903 002c 5A68     	 ldr r2,[r3,#4]
 904 002e FB79     	 ldrb r3,[r7,#7]
 905 0030 9B00     	 lsls r3,r3,#2
 906 0032 1344     	 add r3,r3,r2
 907 0034 1B68     	 ldr r3,[r3]
 908 0036 1B69     	 ldr r3,[r3,#16]
 909 0038 9847     	 blx r3
 910              	.LVL16:
 911              	.L69:
 404:.././hal/sam3u1c/udc.c **** 			if (udc_ptr_conf->udi_apis[iface_num]->sof_notify != NULL) {
 912              	 .loc 1 404 0
 913 003a FB79     	 ldrb r3,[r7,#7]
 914 003c 0133     	 adds r3,r3,#1
 915 003e FB71     	 strb r3,[r7,#7]
 916              	.L68:
 403:.././hal/sam3u1c/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 917              	 .loc 1 403 0 discriminator 1
 918 0040 064B     	 ldr r3,.L72+4
 919 0042 1B68     	 ldr r3,[r3]
 920 0044 1B68     	 ldr r3,[r3]
 921 0046 1B79     	 ldrb r3,[r3,#4]
 402:.././hal/sam3u1c/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 922              	 .loc 1 402 0 discriminator 1
 923 0048 FA79     	 ldrb r2,[r7,#7]
 924 004a 9A42     	 cmp r2,r3
 925 004c E2D3     	 bcc .L70
 926              	.L71:
 407:.././hal/sam3u1c/udc.c **** 			}
 408:.././hal/sam3u1c/udc.c **** 		}
 409:.././hal/sam3u1c/udc.c **** 	}
 410:.././hal/sam3u1c/udc.c **** }
 927              	 .loc 1 410 0
 928 004e 00BF     	 nop
 929 0050 0837     	 adds r7,r7,#8
 930              	.LCFI44:
 931              	 .cfi_def_cfa_offset 8
 932 0052 BD46     	 mov sp,r7
 933              	.LCFI45:
 934              	 .cfi_def_cfa_register 13
 935              	 
 936 0054 80BD     	 pop {r7,pc}
 937              	.L73:
 938 0056 00BF     	 .align 2
 939              	.L72:
 940 0058 00000000 	 .word udc_num_configuration
 941 005c 00000000 	 .word udc_ptr_conf
 942              	 .cfi_endproc
 943              	.LFE81:
 945              	 .section .text.udc_req_std_dev_get_status,"ax",%progbits
 946              	 .align 1
 947              	 .syntax unified
 948              	 .thumb
 949              	 .thumb_func
 950              	 .fpu softvfp
 952              	udc_req_std_dev_get_status:
 953              	.LFB82:
 411:.././hal/sam3u1c/udc.c **** 
 412:.././hal/sam3u1c/udc.c **** /**
 413:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to get device status
 414:.././hal/sam3u1c/udc.c ****  *
 415:.././hal/sam3u1c/udc.c ****  * \return true if success
 416:.././hal/sam3u1c/udc.c ****  */
 417:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_get_status(void)
 418:.././hal/sam3u1c/udc.c **** {
 954              	 .loc 1 418 0
 955              	 .cfi_startproc
 956              	 
 957              	 
 958 0000 80B5     	 push {r7,lr}
 959              	.LCFI46:
 960              	 .cfi_def_cfa_offset 8
 961              	 .cfi_offset 7,-8
 962              	 .cfi_offset 14,-4
 963 0002 00AF     	 add r7,sp,#0
 964              	.LCFI47:
 965              	 .cfi_def_cfa_register 7
 419:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength != sizeof(udc_device_status)) {
 966              	 .loc 1 419 0
 967 0004 064B     	 ldr r3,.L77
 968 0006 DB88     	 ldrh r3,[r3,#6]
 969 0008 022B     	 cmp r3,#2
 970 000a 01D0     	 beq .L75
 420:.././hal/sam3u1c/udc.c **** 		return false;
 971              	 .loc 1 420 0
 972 000c 0023     	 movs r3,#0
 973 000e 04E0     	 b .L76
 974              	.L75:
 421:.././hal/sam3u1c/udc.c **** 	}
 422:.././hal/sam3u1c/udc.c **** 
 423:.././hal/sam3u1c/udc.c **** 	udd_set_setup_payload( (uint8_t *) & udc_device_status,
 975              	 .loc 1 423 0
 976 0010 0221     	 movs r1,#2
 977 0012 0448     	 ldr r0,.L77+4
 978 0014 044B     	 ldr r3,.L77+8
 979 0016 9847     	 blx r3
 980              	.LVL17:
 424:.././hal/sam3u1c/udc.c **** 			sizeof(udc_device_status));
 425:.././hal/sam3u1c/udc.c **** 	return true;
 981              	 .loc 1 425 0
 982 0018 0123     	 movs r3,#1
 983              	.L76:
 426:.././hal/sam3u1c/udc.c **** }
 984              	 .loc 1 426 0
 985 001a 1846     	 mov r0,r3
 986 001c 80BD     	 pop {r7,pc}
 987              	.L78:
 988 001e 00BF     	 .align 2
 989              	.L77:
 990 0020 00000000 	 .word udd_g_ctrlreq
 991 0024 00000000 	 .word udc_device_status
 992 0028 00000000 	 .word udd_set_setup_payload
 993              	 .cfi_endproc
 994              	.LFE82:
 996              	 .section .text.udc_req_std_ep_get_status,"ax",%progbits
 997              	 .align 1
 998              	 .syntax unified
 999              	 .thumb
 1000              	 .thumb_func
 1001              	 .fpu softvfp
 1003              	udc_req_std_ep_get_status:
 1004              	.LFB83:
 427:.././hal/sam3u1c/udc.c **** 
 428:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 429:.././hal/sam3u1c/udc.c **** /**
 430:.././hal/sam3u1c/udc.c ****  * \brief Standard endpoint request to get endpoint status
 431:.././hal/sam3u1c/udc.c ****  *
 432:.././hal/sam3u1c/udc.c ****  * \return true if success
 433:.././hal/sam3u1c/udc.c ****  */
 434:.././hal/sam3u1c/udc.c **** static bool udc_req_std_ep_get_status(void)
 435:.././hal/sam3u1c/udc.c **** {
 1005              	 .loc 1 435 0
 1006              	 .cfi_startproc
 1007              	 
 1008              	 
 1009 0000 80B5     	 push {r7,lr}
 1010              	.LCFI48:
 1011              	 .cfi_def_cfa_offset 8
 1012              	 .cfi_offset 7,-8
 1013              	 .cfi_offset 14,-4
 1014 0002 00AF     	 add r7,sp,#0
 1015              	.LCFI49:
 1016              	 .cfi_def_cfa_register 7
 436:.././hal/sam3u1c/udc.c **** 	static le16_t udc_ep_status;
 437:.././hal/sam3u1c/udc.c **** 
 438:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength != sizeof(udc_ep_status)) {
 1017              	 .loc 1 438 0
 1018 0004 0B4B     	 ldr r3,.L82
 1019 0006 DB88     	 ldrh r3,[r3,#6]
 1020 0008 022B     	 cmp r3,#2
 1021 000a 01D0     	 beq .L80
 439:.././hal/sam3u1c/udc.c **** 		return false;
 1022              	 .loc 1 439 0
 1023 000c 0023     	 movs r3,#0
 1024 000e 0EE0     	 b .L81
 1025              	.L80:
 440:.././hal/sam3u1c/udc.c **** 	}
 441:.././hal/sam3u1c/udc.c **** 
 442:.././hal/sam3u1c/udc.c **** 	udc_ep_status = udd_ep_is_halted(udd_g_ctrlreq.req.
 1026              	 .loc 1 442 0
 1027 0010 084B     	 ldr r3,.L82
 1028 0012 9B88     	 ldrh r3,[r3,#4]
 1029 0014 DBB2     	 uxtb r3,r3
 1030 0016 1846     	 mov r0,r3
 1031 0018 074B     	 ldr r3,.L82+4
 1032 001a 9847     	 blx r3
 1033              	.LVL18:
 1034 001c 0346     	 mov r3,r0
 443:.././hal/sam3u1c/udc.c **** 			wIndex & 0xFF) ? CPU_TO_LE16(USB_EP_STATUS_HALTED) : 0;
 1035              	 .loc 1 443 0
 1036 001e 9AB2     	 uxth r2,r3
 442:.././hal/sam3u1c/udc.c **** 			wIndex & 0xFF) ? CPU_TO_LE16(USB_EP_STATUS_HALTED) : 0;
 1037              	 .loc 1 442 0
 1038 0020 064B     	 ldr r3,.L82+8
 1039 0022 1A80     	 strh r2,[r3]
 444:.././hal/sam3u1c/udc.c **** 
 445:.././hal/sam3u1c/udc.c **** 	udd_set_setup_payload( (uint8_t *) & udc_ep_status,
 1040              	 .loc 1 445 0
 1041 0024 0221     	 movs r1,#2
 1042 0026 0548     	 ldr r0,.L82+8
 1043 0028 054B     	 ldr r3,.L82+12
 1044 002a 9847     	 blx r3
 1045              	.LVL19:
 446:.././hal/sam3u1c/udc.c **** 			sizeof(udc_ep_status));
 447:.././hal/sam3u1c/udc.c **** 	return true;
 1046              	 .loc 1 447 0
 1047 002c 0123     	 movs r3,#1
 1048              	.L81:
 448:.././hal/sam3u1c/udc.c **** }
 1049              	 .loc 1 448 0
 1050 002e 1846     	 mov r0,r3
 1051 0030 80BD     	 pop {r7,pc}
 1052              	.L83:
 1053 0032 00BF     	 .align 2
 1054              	.L82:
 1055 0034 00000000 	 .word udd_g_ctrlreq
 1056 0038 00000000 	 .word udd_ep_is_halted
 1057 003c 00000000 	 .word udc_ep_status.7279
 1058 0040 00000000 	 .word udd_set_setup_payload
 1059              	 .cfi_endproc
 1060              	.LFE83:
 1062              	 .section .text.udc_req_std_dev_clear_feature,"ax",%progbits
 1063              	 .align 1
 1064              	 .syntax unified
 1065              	 .thumb
 1066              	 .thumb_func
 1067              	 .fpu softvfp
 1069              	udc_req_std_dev_clear_feature:
 1070              	.LFB84:
 449:.././hal/sam3u1c/udc.c **** #endif
 450:.././hal/sam3u1c/udc.c **** 
 451:.././hal/sam3u1c/udc.c **** /**
 452:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to change device status
 453:.././hal/sam3u1c/udc.c ****  *
 454:.././hal/sam3u1c/udc.c ****  * \return true if success
 455:.././hal/sam3u1c/udc.c ****  */
 456:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_clear_feature(void)
 457:.././hal/sam3u1c/udc.c **** {
 1071              	 .loc 1 457 0
 1072              	 .cfi_startproc
 1073              	 
 1074              	 
 1075              	 
 1076 0000 80B4     	 push {r7}
 1077              	.LCFI50:
 1078              	 .cfi_def_cfa_offset 4
 1079              	 .cfi_offset 7,-4
 1080 0002 00AF     	 add r7,sp,#0
 1081              	.LCFI51:
 1082              	 .cfi_def_cfa_register 7
 458:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1083              	 .loc 1 458 0
 1084 0004 0B4B     	 ldr r3,.L88
 1085 0006 DB88     	 ldrh r3,[r3,#6]
 1086 0008 002B     	 cmp r3,#0
 1087 000a 01D0     	 beq .L85
 459:.././hal/sam3u1c/udc.c **** 		return false;
 1088              	 .loc 1 459 0
 1089 000c 0023     	 movs r3,#0
 1090 000e 0DE0     	 b .L86
 1091              	.L85:
 460:.././hal/sam3u1c/udc.c **** 	}
 461:.././hal/sam3u1c/udc.c **** 
 462:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wValue == USB_DEV_FEATURE_REMOTE_WAKEUP) {
 1092              	 .loc 1 462 0
 1093 0010 084B     	 ldr r3,.L88
 1094 0012 5B88     	 ldrh r3,[r3,#2]
 1095 0014 012B     	 cmp r3,#1
 1096 0016 08D1     	 bne .L87
 463:.././hal/sam3u1c/udc.c **** 		udc_device_status &= CPU_TO_LE16(~(uint32_t)USB_DEV_STATUS_REMOTEWAKEUP);
 1097              	 .loc 1 463 0
 1098 0018 074B     	 ldr r3,.L88+4
 1099 001a 1B88     	 ldrh r3,[r3]
 1100 001c 23F00203 	 bic r3,r3,#2
 1101 0020 9AB2     	 uxth r2,r3
 1102 0022 054B     	 ldr r3,.L88+4
 1103 0024 1A80     	 strh r2,[r3]
 464:.././hal/sam3u1c/udc.c **** #if (USB_CONFIG_ATTR_REMOTE_WAKEUP \
 465:.././hal/sam3u1c/udc.c **** 	== (USB_DEVICE_ATTR & USB_CONFIG_ATTR_REMOTE_WAKEUP))
 466:.././hal/sam3u1c/udc.c **** 		UDC_REMOTEWAKEUP_DISABLE();
 467:.././hal/sam3u1c/udc.c **** #endif
 468:.././hal/sam3u1c/udc.c **** 		return true;
 1104              	 .loc 1 468 0
 1105 0026 0123     	 movs r3,#1
 1106 0028 00E0     	 b .L86
 1107              	.L87:
 469:.././hal/sam3u1c/udc.c **** 	}
 470:.././hal/sam3u1c/udc.c **** 	return false;
 1108              	 .loc 1 470 0
 1109 002a 0023     	 movs r3,#0
 1110              	.L86:
 471:.././hal/sam3u1c/udc.c **** }
 1111              	 .loc 1 471 0
 1112 002c 1846     	 mov r0,r3
 1113 002e BD46     	 mov sp,r7
 1114              	.LCFI52:
 1115              	 .cfi_def_cfa_register 13
 1116              	 
 1117 0030 80BC     	 pop {r7}
 1118              	.LCFI53:
 1119              	 .cfi_restore 7
 1120              	 .cfi_def_cfa_offset 0
 1121 0032 7047     	 bx lr
 1122              	.L89:
 1123              	 .align 2
 1124              	.L88:
 1125 0034 00000000 	 .word udd_g_ctrlreq
 1126 0038 00000000 	 .word udc_device_status
 1127              	 .cfi_endproc
 1128              	.LFE84:
 1130              	 .section .text.udc_req_std_ep_clear_feature,"ax",%progbits
 1131              	 .align 1
 1132              	 .syntax unified
 1133              	 .thumb
 1134              	 .thumb_func
 1135              	 .fpu softvfp
 1137              	udc_req_std_ep_clear_feature:
 1138              	.LFB85:
 472:.././hal/sam3u1c/udc.c **** 
 473:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 474:.././hal/sam3u1c/udc.c **** /**
 475:.././hal/sam3u1c/udc.c ****  * \brief Standard endpoint request to clear endpoint feature
 476:.././hal/sam3u1c/udc.c ****  *
 477:.././hal/sam3u1c/udc.c ****  * \return true if success
 478:.././hal/sam3u1c/udc.c ****  */
 479:.././hal/sam3u1c/udc.c **** static bool udc_req_std_ep_clear_feature(void)
 480:.././hal/sam3u1c/udc.c **** {
 1139              	 .loc 1 480 0
 1140              	 .cfi_startproc
 1141              	 
 1142              	 
 1143 0000 80B5     	 push {r7,lr}
 1144              	.LCFI54:
 1145              	 .cfi_def_cfa_offset 8
 1146              	 .cfi_offset 7,-8
 1147              	 .cfi_offset 14,-4
 1148 0002 00AF     	 add r7,sp,#0
 1149              	.LCFI55:
 1150              	 .cfi_def_cfa_register 7
 481:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1151              	 .loc 1 481 0
 1152 0004 0A4B     	 ldr r3,.L94
 1153 0006 DB88     	 ldrh r3,[r3,#6]
 1154 0008 002B     	 cmp r3,#0
 1155 000a 01D0     	 beq .L91
 482:.././hal/sam3u1c/udc.c **** 		return false;
 1156              	 .loc 1 482 0
 1157 000c 0023     	 movs r3,#0
 1158 000e 0CE0     	 b .L92
 1159              	.L91:
 483:.././hal/sam3u1c/udc.c **** 	}
 484:.././hal/sam3u1c/udc.c **** 
 485:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wValue == USB_EP_FEATURE_HALT) {
 1160              	 .loc 1 485 0
 1161 0010 074B     	 ldr r3,.L94
 1162 0012 5B88     	 ldrh r3,[r3,#2]
 1163 0014 002B     	 cmp r3,#0
 1164 0016 07D1     	 bne .L93
 486:.././hal/sam3u1c/udc.c **** 		return udd_ep_clear_halt(udd_g_ctrlreq.req.wIndex & 0xFF);
 1165              	 .loc 1 486 0
 1166 0018 054B     	 ldr r3,.L94
 1167 001a 9B88     	 ldrh r3,[r3,#4]
 1168 001c DBB2     	 uxtb r3,r3
 1169 001e 1846     	 mov r0,r3
 1170 0020 044B     	 ldr r3,.L94+4
 1171 0022 9847     	 blx r3
 1172              	.LVL20:
 1173 0024 0346     	 mov r3,r0
 1174 0026 00E0     	 b .L92
 1175              	.L93:
 487:.././hal/sam3u1c/udc.c **** 	}
 488:.././hal/sam3u1c/udc.c **** 	return false;
 1176              	 .loc 1 488 0
 1177 0028 0023     	 movs r3,#0
 1178              	.L92:
 489:.././hal/sam3u1c/udc.c **** }
 1179              	 .loc 1 489 0
 1180 002a 1846     	 mov r0,r3
 1181 002c 80BD     	 pop {r7,pc}
 1182              	.L95:
 1183 002e 00BF     	 .align 2
 1184              	.L94:
 1185 0030 00000000 	 .word udd_g_ctrlreq
 1186 0034 00000000 	 .word udd_ep_clear_halt
 1187              	 .cfi_endproc
 1188              	.LFE85:
 1190              	 .section .text.udc_req_std_dev_set_feature,"ax",%progbits
 1191              	 .align 1
 1192              	 .syntax unified
 1193              	 .thumb
 1194              	 .thumb_func
 1195              	 .fpu softvfp
 1197              	udc_req_std_dev_set_feature:
 1198              	.LFB86:
 490:.././hal/sam3u1c/udc.c **** #endif
 491:.././hal/sam3u1c/udc.c **** 
 492:.././hal/sam3u1c/udc.c **** /**
 493:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to set a feature
 494:.././hal/sam3u1c/udc.c ****  *
 495:.././hal/sam3u1c/udc.c ****  * \return true if success
 496:.././hal/sam3u1c/udc.c ****  */
 497:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_set_feature(void)
 498:.././hal/sam3u1c/udc.c **** {
 1199              	 .loc 1 498 0
 1200              	 .cfi_startproc
 1201              	 
 1202              	 
 1203 0000 80B5     	 push {r7,lr}
 1204              	.LCFI56:
 1205              	 .cfi_def_cfa_offset 8
 1206              	 .cfi_offset 7,-8
 1207              	 .cfi_offset 14,-4
 1208 0002 00AF     	 add r7,sp,#0
 1209              	.LCFI57:
 1210              	 .cfi_def_cfa_register 7
 499:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1211              	 .loc 1 499 0
 1212 0004 264B     	 ldr r3,.L115
 1213 0006 DB88     	 ldrh r3,[r3,#6]
 1214 0008 002B     	 cmp r3,#0
 1215 000a 01D0     	 beq .L97
 500:.././hal/sam3u1c/udc.c **** 		return false;
 1216              	 .loc 1 500 0
 1217 000c 0023     	 movs r3,#0
 1218 000e 45E0     	 b .L98
 1219              	.L97:
 501:.././hal/sam3u1c/udc.c **** 	}
 502:.././hal/sam3u1c/udc.c **** 
 503:.././hal/sam3u1c/udc.c **** 	switch (udd_g_ctrlreq.req.wValue) {
 1220              	 .loc 1 503 0
 1221 0010 234B     	 ldr r3,.L115
 1222 0012 5B88     	 ldrh r3,[r3,#2]
 1223 0014 012B     	 cmp r3,#1
 1224 0016 02D0     	 beq .L100
 1225 0018 022B     	 cmp r3,#2
 1226 001a 02D0     	 beq .L101
 504:.././hal/sam3u1c/udc.c **** 
 505:.././hal/sam3u1c/udc.c **** 	case USB_DEV_FEATURE_REMOTE_WAKEUP:
 506:.././hal/sam3u1c/udc.c **** #if (USB_CONFIG_ATTR_REMOTE_WAKEUP \
 507:.././hal/sam3u1c/udc.c **** 	== (USB_DEVICE_ATTR & USB_CONFIG_ATTR_REMOTE_WAKEUP))
 508:.././hal/sam3u1c/udc.c **** 		udc_device_status |= CPU_TO_LE16(USB_DEV_STATUS_REMOTEWAKEUP);
 509:.././hal/sam3u1c/udc.c **** 		UDC_REMOTEWAKEUP_ENABLE();
 510:.././hal/sam3u1c/udc.c **** 		return true;
 511:.././hal/sam3u1c/udc.c **** #else
 512:.././hal/sam3u1c/udc.c **** 		return false;
 513:.././hal/sam3u1c/udc.c **** #endif
 514:.././hal/sam3u1c/udc.c **** 
 515:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 516:.././hal/sam3u1c/udc.c **** 	case USB_DEV_FEATURE_TEST_MODE:
 517:.././hal/sam3u1c/udc.c **** 		if (!udd_is_high_speed()) {
 518:.././hal/sam3u1c/udc.c **** 			break;
 519:.././hal/sam3u1c/udc.c **** 		}
 520:.././hal/sam3u1c/udc.c **** 		if (udd_g_ctrlreq.req.wIndex & 0xff) {
 521:.././hal/sam3u1c/udc.c **** 			break;
 522:.././hal/sam3u1c/udc.c **** 		}
 523:.././hal/sam3u1c/udc.c **** 		// Unconfigure the device, terminating all ongoing requests
 524:.././hal/sam3u1c/udc.c **** 		udc_reset();
 525:.././hal/sam3u1c/udc.c **** 		switch ((udd_g_ctrlreq.req.wIndex >> 8) & 0xFF) {
 526:.././hal/sam3u1c/udc.c **** 		case USB_DEV_TEST_MODE_J:
 527:.././hal/sam3u1c/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_j;
 528:.././hal/sam3u1c/udc.c **** 			return true;
 529:.././hal/sam3u1c/udc.c **** 
 530:.././hal/sam3u1c/udc.c **** 		case USB_DEV_TEST_MODE_K:
 531:.././hal/sam3u1c/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_k;
 532:.././hal/sam3u1c/udc.c **** 			return true;
 533:.././hal/sam3u1c/udc.c **** 
 534:.././hal/sam3u1c/udc.c **** 		case USB_DEV_TEST_MODE_SE0_NAK:
 535:.././hal/sam3u1c/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_se0_nak;
 536:.././hal/sam3u1c/udc.c **** 			return true;
 537:.././hal/sam3u1c/udc.c **** 
 538:.././hal/sam3u1c/udc.c **** 		case USB_DEV_TEST_MODE_PACKET:
 539:.././hal/sam3u1c/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_packet;
 540:.././hal/sam3u1c/udc.c **** 			return true;
 541:.././hal/sam3u1c/udc.c **** 
 542:.././hal/sam3u1c/udc.c **** 		case USB_DEV_TEST_MODE_FORCE_ENABLE: // Only for downstream facing hub ports
 543:.././hal/sam3u1c/udc.c **** 		default:
 544:.././hal/sam3u1c/udc.c **** 			break;
 545:.././hal/sam3u1c/udc.c **** 		}
 546:.././hal/sam3u1c/udc.c **** 		break;
 547:.././hal/sam3u1c/udc.c **** #endif
 548:.././hal/sam3u1c/udc.c **** 	default:
 549:.././hal/sam3u1c/udc.c **** 		break;
 1227              	 .loc 1 549 0
 1228 001c 3DE0     	 b .L103
 1229              	.L100:
 512:.././hal/sam3u1c/udc.c **** #endif
 1230              	 .loc 1 512 0
 1231 001e 0023     	 movs r3,#0
 1232 0020 3CE0     	 b .L98
 1233              	.L101:
 517:.././hal/sam3u1c/udc.c **** 			break;
 1234              	 .loc 1 517 0
 1235 0022 204B     	 ldr r3,.L115+4
 1236 0024 9847     	 blx r3
 1237              	.LVL21:
 1238 0026 0346     	 mov r3,r0
 1239 0028 83F00103 	 eor r3,r3,#1
 1240 002c DBB2     	 uxtb r3,r3
 1241 002e 002B     	 cmp r3,#0
 1242 0030 30D1     	 bne .L112
 520:.././hal/sam3u1c/udc.c **** 			break;
 1243              	 .loc 1 520 0
 1244 0032 1B4B     	 ldr r3,.L115
 1245 0034 9B88     	 ldrh r3,[r3,#4]
 1246 0036 DBB2     	 uxtb r3,r3
 1247 0038 002B     	 cmp r3,#0
 1248 003a 2DD1     	 bne .L113
 524:.././hal/sam3u1c/udc.c **** 		switch ((udd_g_ctrlreq.req.wIndex >> 8) & 0xFF) {
 1249              	 .loc 1 524 0
 1250 003c 1A4B     	 ldr r3,.L115+8
 1251 003e 9847     	 blx r3
 1252              	.LVL22:
 525:.././hal/sam3u1c/udc.c **** 		case USB_DEV_TEST_MODE_J:
 1253              	 .loc 1 525 0
 1254 0040 174B     	 ldr r3,.L115
 1255 0042 9B88     	 ldrh r3,[r3,#4]
 1256 0044 1B0A     	 lsrs r3,r3,#8
 1257 0046 9BB2     	 uxth r3,r3
 1258 0048 DBB2     	 uxtb r3,r3
 1259 004a 013B     	 subs r3,r3,#1
 1260 004c 032B     	 cmp r3,#3
 1261 004e 1FD8     	 bhi .L114
 1262 0050 01A2     	 adr r2,.L107
 1263 0052 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 1264 0056 00BF     	 .p2align 2
 1265              	.L107:
 1266 0058 69000000 	 .word .L106+1
 1267 005c 73000000 	 .word .L108+1
 1268 0060 7D000000 	 .word .L109+1
 1269 0064 87000000 	 .word .L110+1
 1270              	 .p2align 1
 1271              	.L106:
 527:.././hal/sam3u1c/udc.c **** 			return true;
 1272              	 .loc 1 527 0
 1273 0068 0D4B     	 ldr r3,.L115
 1274 006a 104A     	 ldr r2,.L115+12
 1275 006c 1A61     	 str r2,[r3,#16]
 528:.././hal/sam3u1c/udc.c **** 
 1276              	 .loc 1 528 0
 1277 006e 0123     	 movs r3,#1
 1278 0070 14E0     	 b .L98
 1279              	.L108:
 531:.././hal/sam3u1c/udc.c **** 			return true;
 1280              	 .loc 1 531 0
 1281 0072 0B4B     	 ldr r3,.L115
 1282 0074 0E4A     	 ldr r2,.L115+16
 1283 0076 1A61     	 str r2,[r3,#16]
 532:.././hal/sam3u1c/udc.c **** 
 1284              	 .loc 1 532 0
 1285 0078 0123     	 movs r3,#1
 1286 007a 0FE0     	 b .L98
 1287              	.L109:
 535:.././hal/sam3u1c/udc.c **** 			return true;
 1288              	 .loc 1 535 0
 1289 007c 084B     	 ldr r3,.L115
 1290 007e 0D4A     	 ldr r2,.L115+20
 1291 0080 1A61     	 str r2,[r3,#16]
 536:.././hal/sam3u1c/udc.c **** 
 1292              	 .loc 1 536 0
 1293 0082 0123     	 movs r3,#1
 1294 0084 0AE0     	 b .L98
 1295              	.L110:
 539:.././hal/sam3u1c/udc.c **** 			return true;
 1296              	 .loc 1 539 0
 1297 0086 064B     	 ldr r3,.L115
 1298 0088 0B4A     	 ldr r2,.L115+24
 1299 008a 1A61     	 str r2,[r3,#16]
 540:.././hal/sam3u1c/udc.c **** 
 1300              	 .loc 1 540 0
 1301 008c 0123     	 movs r3,#1
 1302 008e 05E0     	 b .L98
 1303              	.L114:
 544:.././hal/sam3u1c/udc.c **** 		}
 1304              	 .loc 1 544 0
 1305 0090 00BF     	 nop
 546:.././hal/sam3u1c/udc.c **** #endif
 1306              	 .loc 1 546 0
 1307 0092 02E0     	 b .L103
 1308              	.L112:
 518:.././hal/sam3u1c/udc.c **** 		}
 1309              	 .loc 1 518 0
 1310 0094 00BF     	 nop
 1311 0096 00E0     	 b .L103
 1312              	.L113:
 521:.././hal/sam3u1c/udc.c **** 		}
 1313              	 .loc 1 521 0
 1314 0098 00BF     	 nop
 1315              	.L103:
 550:.././hal/sam3u1c/udc.c **** 	}
 551:.././hal/sam3u1c/udc.c **** 	return false;
 1316              	 .loc 1 551 0
 1317 009a 0023     	 movs r3,#0
 1318              	.L98:
 552:.././hal/sam3u1c/udc.c **** }
 1319              	 .loc 1 552 0
 1320 009c 1846     	 mov r0,r3
 1321 009e 80BD     	 pop {r7,pc}
 1322              	.L116:
 1323              	 .align 2
 1324              	.L115:
 1325 00a0 00000000 	 .word udd_g_ctrlreq
 1326 00a4 00000000 	 .word udd_is_high_speed
 1327 00a8 00000000 	 .word udc_reset
 1328 00ac 00000000 	 .word udd_test_mode_j
 1329 00b0 00000000 	 .word udd_test_mode_k
 1330 00b4 00000000 	 .word udd_test_mode_se0_nak
 1331 00b8 00000000 	 .word udd_test_mode_packet
 1332              	 .cfi_endproc
 1333              	.LFE86:
 1335              	 .section .text.udc_req_std_ep_set_feature,"ax",%progbits
 1336              	 .align 1
 1337              	 .syntax unified
 1338              	 .thumb
 1339              	 .thumb_func
 1340              	 .fpu softvfp
 1342              	udc_req_std_ep_set_feature:
 1343              	.LFB87:
 553:.././hal/sam3u1c/udc.c **** 
 554:.././hal/sam3u1c/udc.c **** /**
 555:.././hal/sam3u1c/udc.c ****  * \brief Standard endpoint request to halt an endpoint
 556:.././hal/sam3u1c/udc.c ****  *
 557:.././hal/sam3u1c/udc.c ****  * \return true if success
 558:.././hal/sam3u1c/udc.c ****  */
 559:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 560:.././hal/sam3u1c/udc.c **** static bool udc_req_std_ep_set_feature(void)
 561:.././hal/sam3u1c/udc.c **** {
 1344              	 .loc 1 561 0
 1345              	 .cfi_startproc
 1346              	 
 1347              	 
 1348 0000 80B5     	 push {r7,lr}
 1349              	.LCFI58:
 1350              	 .cfi_def_cfa_offset 8
 1351              	 .cfi_offset 7,-8
 1352              	 .cfi_offset 14,-4
 1353 0002 00AF     	 add r7,sp,#0
 1354              	.LCFI59:
 1355              	 .cfi_def_cfa_register 7
 562:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1356              	 .loc 1 562 0
 1357 0004 0D4B     	 ldr r3,.L121
 1358 0006 DB88     	 ldrh r3,[r3,#6]
 1359 0008 002B     	 cmp r3,#0
 1360 000a 01D0     	 beq .L118
 563:.././hal/sam3u1c/udc.c **** 		return false;
 1361              	 .loc 1 563 0
 1362 000c 0023     	 movs r3,#0
 1363 000e 12E0     	 b .L119
 1364              	.L118:
 564:.././hal/sam3u1c/udc.c **** 	}
 565:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wValue == USB_EP_FEATURE_HALT) {
 1365              	 .loc 1 565 0
 1366 0010 0A4B     	 ldr r3,.L121
 1367 0012 5B88     	 ldrh r3,[r3,#2]
 1368 0014 002B     	 cmp r3,#0
 1369 0016 0DD1     	 bne .L120
 566:.././hal/sam3u1c/udc.c **** 		udd_ep_abort(udd_g_ctrlreq.req.wIndex & 0xFF);
 1370              	 .loc 1 566 0
 1371 0018 084B     	 ldr r3,.L121
 1372 001a 9B88     	 ldrh r3,[r3,#4]
 1373 001c DBB2     	 uxtb r3,r3
 1374 001e 1846     	 mov r0,r3
 1375 0020 074B     	 ldr r3,.L121+4
 1376 0022 9847     	 blx r3
 1377              	.LVL23:
 567:.././hal/sam3u1c/udc.c **** 		return udd_ep_set_halt(udd_g_ctrlreq.req.wIndex & 0xFF);
 1378              	 .loc 1 567 0
 1379 0024 054B     	 ldr r3,.L121
 1380 0026 9B88     	 ldrh r3,[r3,#4]
 1381 0028 DBB2     	 uxtb r3,r3
 1382 002a 1846     	 mov r0,r3
 1383 002c 054B     	 ldr r3,.L121+8
 1384 002e 9847     	 blx r3
 1385              	.LVL24:
 1386 0030 0346     	 mov r3,r0
 1387 0032 00E0     	 b .L119
 1388              	.L120:
 568:.././hal/sam3u1c/udc.c **** 	}
 569:.././hal/sam3u1c/udc.c **** 	return false;
 1389              	 .loc 1 569 0
 1390 0034 0023     	 movs r3,#0
 1391              	.L119:
 570:.././hal/sam3u1c/udc.c **** }
 1392              	 .loc 1 570 0
 1393 0036 1846     	 mov r0,r3
 1394 0038 80BD     	 pop {r7,pc}
 1395              	.L122:
 1396 003a 00BF     	 .align 2
 1397              	.L121:
 1398 003c 00000000 	 .word udd_g_ctrlreq
 1399 0040 00000000 	 .word udd_ep_abort
 1400 0044 00000000 	 .word udd_ep_set_halt
 1401              	 .cfi_endproc
 1402              	.LFE87:
 1404              	 .section .text.udc_valid_address,"ax",%progbits
 1405              	 .align 1
 1406              	 .syntax unified
 1407              	 .thumb
 1408              	 .thumb_func
 1409              	 .fpu softvfp
 1411              	udc_valid_address:
 1412              	.LFB88:
 571:.././hal/sam3u1c/udc.c **** #endif
 572:.././hal/sam3u1c/udc.c **** 
 573:.././hal/sam3u1c/udc.c **** /**
 574:.././hal/sam3u1c/udc.c ****  * \brief Change the address of device
 575:.././hal/sam3u1c/udc.c ****  * Callback called at the end of request set address
 576:.././hal/sam3u1c/udc.c ****  */
 577:.././hal/sam3u1c/udc.c **** static void udc_valid_address(void)
 578:.././hal/sam3u1c/udc.c **** {
 1413              	 .loc 1 578 0
 1414              	 .cfi_startproc
 1415              	 
 1416              	 
 1417 0000 80B5     	 push {r7,lr}
 1418              	.LCFI60:
 1419              	 .cfi_def_cfa_offset 8
 1420              	 .cfi_offset 7,-8
 1421              	 .cfi_offset 14,-4
 1422 0002 00AF     	 add r7,sp,#0
 1423              	.LCFI61:
 1424              	 .cfi_def_cfa_register 7
 579:.././hal/sam3u1c/udc.c **** 	udd_set_address(udd_g_ctrlreq.req.wValue & 0x7F);
 1425              	 .loc 1 579 0
 1426 0004 054B     	 ldr r3,.L124
 1427 0006 5B88     	 ldrh r3,[r3,#2]
 1428 0008 DBB2     	 uxtb r3,r3
 1429 000a 03F07F03 	 and r3,r3,#127
 1430 000e DBB2     	 uxtb r3,r3
 1431 0010 1846     	 mov r0,r3
 1432 0012 034B     	 ldr r3,.L124+4
 1433 0014 9847     	 blx r3
 1434              	.LVL25:
 580:.././hal/sam3u1c/udc.c **** }
 1435              	 .loc 1 580 0
 1436 0016 00BF     	 nop
 1437 0018 80BD     	 pop {r7,pc}
 1438              	.L125:
 1439 001a 00BF     	 .align 2
 1440              	.L124:
 1441 001c 00000000 	 .word udd_g_ctrlreq
 1442 0020 00000000 	 .word udd_set_address
 1443              	 .cfi_endproc
 1444              	.LFE88:
 1446              	 .section .text.udc_req_std_dev_set_address,"ax",%progbits
 1447              	 .align 1
 1448              	 .syntax unified
 1449              	 .thumb
 1450              	 .thumb_func
 1451              	 .fpu softvfp
 1453              	udc_req_std_dev_set_address:
 1454              	.LFB89:
 581:.././hal/sam3u1c/udc.c **** 
 582:.././hal/sam3u1c/udc.c **** /**
 583:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to set device address
 584:.././hal/sam3u1c/udc.c ****  *
 585:.././hal/sam3u1c/udc.c ****  * \return true if success
 586:.././hal/sam3u1c/udc.c ****  */
 587:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_set_address(void)
 588:.././hal/sam3u1c/udc.c **** {
 1455              	 .loc 1 588 0
 1456              	 .cfi_startproc
 1457              	 
 1458              	 
 1459              	 
 1460 0000 80B4     	 push {r7}
 1461              	.LCFI62:
 1462              	 .cfi_def_cfa_offset 4
 1463              	 .cfi_offset 7,-4
 1464 0002 00AF     	 add r7,sp,#0
 1465              	.LCFI63:
 1466              	 .cfi_def_cfa_register 7
 589:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1467              	 .loc 1 589 0
 1468 0004 064B     	 ldr r3,.L129
 1469 0006 DB88     	 ldrh r3,[r3,#6]
 1470 0008 002B     	 cmp r3,#0
 1471 000a 01D0     	 beq .L127
 590:.././hal/sam3u1c/udc.c **** 		return false;
 1472              	 .loc 1 590 0
 1473 000c 0023     	 movs r3,#0
 1474 000e 03E0     	 b .L128
 1475              	.L127:
 591:.././hal/sam3u1c/udc.c **** 	}
 592:.././hal/sam3u1c/udc.c **** 
 593:.././hal/sam3u1c/udc.c **** 	// The address must be changed at the end of setup request after the handshake
 594:.././hal/sam3u1c/udc.c **** 	// then we use a callback to change address
 595:.././hal/sam3u1c/udc.c **** 	udd_g_ctrlreq.callback = udc_valid_address;
 1476              	 .loc 1 595 0
 1477 0010 034B     	 ldr r3,.L129
 1478 0012 044A     	 ldr r2,.L129+4
 1479 0014 1A61     	 str r2,[r3,#16]
 596:.././hal/sam3u1c/udc.c **** 	return true;
 1480              	 .loc 1 596 0
 1481 0016 0123     	 movs r3,#1
 1482              	.L128:
 597:.././hal/sam3u1c/udc.c **** }
 1483              	 .loc 1 597 0
 1484 0018 1846     	 mov r0,r3
 1485 001a BD46     	 mov sp,r7
 1486              	.LCFI64:
 1487              	 .cfi_def_cfa_register 13
 1488              	 
 1489 001c 80BC     	 pop {r7}
 1490              	.LCFI65:
 1491              	 .cfi_restore 7
 1492              	 .cfi_def_cfa_offset 0
 1493 001e 7047     	 bx lr
 1494              	.L130:
 1495              	 .align 2
 1496              	.L129:
 1497 0020 00000000 	 .word udd_g_ctrlreq
 1498 0024 00000000 	 .word udc_valid_address
 1499              	 .cfi_endproc
 1500              	.LFE89:
 1502              	 .section .text.udc_req_std_dev_get_str_desc,"ax",%progbits
 1503              	 .align 1
 1504              	 .syntax unified
 1505              	 .thumb
 1506              	 .thumb_func
 1507              	 .fpu softvfp
 1509              	udc_req_std_dev_get_str_desc:
 1510              	.LFB90:
 598:.././hal/sam3u1c/udc.c **** 
 599:.././hal/sam3u1c/udc.c **** /**
 600:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to get device string descriptor
 601:.././hal/sam3u1c/udc.c ****  *
 602:.././hal/sam3u1c/udc.c ****  * \return true if success
 603:.././hal/sam3u1c/udc.c ****  */
 604:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_get_str_desc(void)
 605:.././hal/sam3u1c/udc.c **** {
 1511              	 .loc 1 605 0
 1512              	 .cfi_startproc
 1513              	 
 1514              	 
 1515 0000 80B5     	 push {r7,lr}
 1516              	.LCFI66:
 1517              	 .cfi_def_cfa_offset 8
 1518              	 .cfi_offset 7,-8
 1519              	 .cfi_offset 14,-4
 1520 0002 84B0     	 sub sp,sp,#16
 1521              	.LCFI67:
 1522              	 .cfi_def_cfa_offset 24
 1523 0004 00AF     	 add r7,sp,#0
 1524              	.LCFI68:
 1525              	 .cfi_def_cfa_register 7
 606:.././hal/sam3u1c/udc.c **** 	uint8_t i;
 607:.././hal/sam3u1c/udc.c **** 	const uint8_t *str;
 608:.././hal/sam3u1c/udc.c **** 	uint8_t str_length = 0;
 1526              	 .loc 1 608 0
 1527 0006 0023     	 movs r3,#0
 1528 0008 FB71     	 strb r3,[r7,#7]
 609:.././hal/sam3u1c/udc.c **** 
 610:.././hal/sam3u1c/udc.c **** 	// Link payload pointer to the string corresponding at request
 611:.././hal/sam3u1c/udc.c **** 	switch (udd_g_ctrlreq.req.wValue & 0xff) {
 1529              	 .loc 1 611 0
 1530 000a 294B     	 ldr r3,.L143
 1531 000c 5B88     	 ldrh r3,[r3,#2]
 1532 000e DBB2     	 uxtb r3,r3
 1533 0010 032B     	 cmp r3,#3
 1534 0012 20D8     	 bhi .L132
 1535 0014 01A2     	 adr r2,.L134
 1536 0016 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 1537 001a 00BF     	 .p2align 2
 1538              	.L134:
 1539 001c 2D000000 	 .word .L133+1
 1540 0020 37000000 	 .word .L135+1
 1541 0024 41000000 	 .word .L136+1
 1542 0028 4B000000 	 .word .L137+1
 1543              	 .p2align 1
 1544              	.L133:
 612:.././hal/sam3u1c/udc.c **** 	case 0:
 613:.././hal/sam3u1c/udc.c **** 		udd_set_setup_payload((uint8_t *) &udc_string_desc_languageid,
 1545              	 .loc 1 613 0
 1546 002c 0421     	 movs r1,#4
 1547 002e 2148     	 ldr r0,.L143+4
 1548 0030 214B     	 ldr r3,.L143+8
 1549 0032 9847     	 blx r3
 1550              	.LVL26:
 614:.././hal/sam3u1c/udc.c **** 				sizeof(udc_string_desc_languageid));
 615:.././hal/sam3u1c/udc.c **** 		break;
 1551              	 .loc 1 615 0
 1552 0034 11E0     	 b .L138
 1553              	.L135:
 616:.././hal/sam3u1c/udc.c **** 
 617:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_MANUFACTURE_NAME
 618:.././hal/sam3u1c/udc.c **** 	case 1:
 619:.././hal/sam3u1c/udc.c **** 		str_length = USB_DEVICE_MANUFACTURE_NAME_SIZE;
 1554              	 .loc 1 619 0
 1555 0036 1523     	 movs r3,#21
 1556 0038 FB71     	 strb r3,[r7,#7]
 620:.././hal/sam3u1c/udc.c **** 		str = udc_string_manufacturer_name;
 1557              	 .loc 1 620 0
 1558 003a 204B     	 ldr r3,.L143+12
 1559 003c BB60     	 str r3,[r7,#8]
 621:.././hal/sam3u1c/udc.c **** 		break;
 1560              	 .loc 1 621 0
 1561 003e 0CE0     	 b .L138
 1562              	.L136:
 622:.././hal/sam3u1c/udc.c **** #endif
 623:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_PRODUCT_NAME
 624:.././hal/sam3u1c/udc.c **** 	case 2:
 625:.././hal/sam3u1c/udc.c **** 		str_length = USB_DEVICE_PRODUCT_NAME_SIZE;
 1563              	 .loc 1 625 0
 1564 0040 1323     	 movs r3,#19
 1565 0042 FB71     	 strb r3,[r7,#7]
 626:.././hal/sam3u1c/udc.c **** 		str = udc_string_product_name;
 1566              	 .loc 1 626 0
 1567 0044 1E4B     	 ldr r3,.L143+16
 1568 0046 BB60     	 str r3,[r7,#8]
 627:.././hal/sam3u1c/udc.c **** 		break;
 1569              	 .loc 1 627 0
 1570 0048 07E0     	 b .L138
 1571              	.L137:
 628:.././hal/sam3u1c/udc.c **** #endif
 629:.././hal/sam3u1c/udc.c **** #if defined USB_DEVICE_SERIAL_NAME || defined USB_DEVICE_GET_SERIAL_NAME_POINTER
 630:.././hal/sam3u1c/udc.c **** 	case 3:
 631:.././hal/sam3u1c/udc.c **** 		str_length = USB_DEVICE_SERIAL_NAME_SIZE;
 1572              	 .loc 1 631 0
 1573 004a 2023     	 movs r3,#32
 1574 004c FB71     	 strb r3,[r7,#7]
 632:.././hal/sam3u1c/udc.c **** 		str = udc_get_string_serial_name();
 1575              	 .loc 1 632 0
 1576 004e 1D4B     	 ldr r3,.L143+20
 1577 0050 9847     	 blx r3
 1578              	.LVL27:
 1579 0052 B860     	 str r0,[r7,#8]
 633:.././hal/sam3u1c/udc.c **** 		break;
 1580              	 .loc 1 633 0
 1581 0054 01E0     	 b .L138
 1582              	.L132:
 634:.././hal/sam3u1c/udc.c **** #endif
 635:.././hal/sam3u1c/udc.c **** 	default:
 636:.././hal/sam3u1c/udc.c **** #ifdef UDC_GET_EXTRA_STRING
 637:.././hal/sam3u1c/udc.c **** 		if (UDC_GET_EXTRA_STRING()) {
 638:.././hal/sam3u1c/udc.c **** 			break;
 639:.././hal/sam3u1c/udc.c **** 		}
 640:.././hal/sam3u1c/udc.c **** #endif
 641:.././hal/sam3u1c/udc.c **** 		return false;
 1583              	 .loc 1 641 0
 1584 0056 0023     	 movs r3,#0
 1585 0058 26E0     	 b .L139
 1586              	.L138:
 642:.././hal/sam3u1c/udc.c **** 	}
 643:.././hal/sam3u1c/udc.c **** 
 644:.././hal/sam3u1c/udc.c **** 	if (str_length) {
 1587              	 .loc 1 644 0
 1588 005a FB79     	 ldrb r3,[r7,#7]
 1589 005c 002B     	 cmp r3,#0
 1590 005e 22D0     	 beq .L140
 645:.././hal/sam3u1c/udc.c **** 		for(i = 0; i < str_length; i++) {
 1591              	 .loc 1 645 0
 1592 0060 0023     	 movs r3,#0
 1593 0062 FB73     	 strb r3,[r7,#15]
 1594 0064 0DE0     	 b .L141
 1595              	.L142:
 646:.././hal/sam3u1c/udc.c **** 			udc_string_desc.string[i] = cpu_to_le16((le16_t)str[i]);
 1596              	 .loc 1 646 0 discriminator 3
 1597 0066 FB7B     	 ldrb r3,[r7,#15]
 1598 0068 FA7B     	 ldrb r2,[r7,#15]
 1599 006a B968     	 ldr r1,[r7,#8]
 1600 006c 0A44     	 add r2,r2,r1
 1601 006e 1278     	 ldrb r2,[r2]
 1602 0070 91B2     	 uxth r1,r2
 1603 0072 154A     	 ldr r2,.L143+24
 1604 0074 5B00     	 lsls r3,r3,#1
 1605 0076 1344     	 add r3,r3,r2
 1606 0078 0A46     	 mov r2,r1
 1607 007a 5A80     	 strh r2,[r3,#2]
 645:.././hal/sam3u1c/udc.c **** 		for(i = 0; i < str_length; i++) {
 1608              	 .loc 1 645 0 discriminator 3
 1609 007c FB7B     	 ldrb r3,[r7,#15]
 1610 007e 0133     	 adds r3,r3,#1
 1611 0080 FB73     	 strb r3,[r7,#15]
 1612              	.L141:
 645:.././hal/sam3u1c/udc.c **** 		for(i = 0; i < str_length; i++) {
 1613              	 .loc 1 645 0 is_stmt 0 discriminator 1
 1614 0082 FA7B     	 ldrb r2,[r7,#15]
 1615 0084 FB79     	 ldrb r3,[r7,#7]
 1616 0086 9A42     	 cmp r2,r3
 1617 0088 EDD3     	 bcc .L142
 647:.././hal/sam3u1c/udc.c **** 		}
 648:.././hal/sam3u1c/udc.c **** 
 649:.././hal/sam3u1c/udc.c **** 		udc_string_desc.header.bLength = 2 + (str_length) * 2;
 1618              	 .loc 1 649 0 is_stmt 1
 1619 008a FB79     	 ldrb r3,[r7,#7]
 1620 008c 0133     	 adds r3,r3,#1
 1621 008e DBB2     	 uxtb r3,r3
 1622 0090 5B00     	 lsls r3,r3,#1
 1623 0092 DAB2     	 uxtb r2,r3
 1624 0094 0C4B     	 ldr r3,.L143+24
 1625 0096 1A70     	 strb r2,[r3]
 650:.././hal/sam3u1c/udc.c **** 		udd_set_setup_payload(
 651:.././hal/sam3u1c/udc.c **** 			(uint8_t *) &udc_string_desc,
 652:.././hal/sam3u1c/udc.c **** 			udc_string_desc.header.bLength);
 1626              	 .loc 1 652 0
 1627 0098 0B4B     	 ldr r3,.L143+24
 1628 009a 1B78     	 ldrb r3,[r3]
 650:.././hal/sam3u1c/udc.c **** 		udd_set_setup_payload(
 1629              	 .loc 1 650 0
 1630 009c 9BB2     	 uxth r3,r3
 1631 009e 1946     	 mov r1,r3
 1632 00a0 0948     	 ldr r0,.L143+24
 1633 00a2 054B     	 ldr r3,.L143+8
 1634 00a4 9847     	 blx r3
 1635              	.LVL28:
 1636              	.L140:
 653:.././hal/sam3u1c/udc.c **** 	}
 654:.././hal/sam3u1c/udc.c **** 
 655:.././hal/sam3u1c/udc.c **** 	return true;
 1637              	 .loc 1 655 0
 1638 00a6 0123     	 movs r3,#1
 1639              	.L139:
 656:.././hal/sam3u1c/udc.c **** }
 1640              	 .loc 1 656 0
 1641 00a8 1846     	 mov r0,r3
 1642 00aa 1037     	 adds r7,r7,#16
 1643              	.LCFI69:
 1644              	 .cfi_def_cfa_offset 8
 1645 00ac BD46     	 mov sp,r7
 1646              	.LCFI70:
 1647              	 .cfi_def_cfa_register 13
 1648              	 
 1649 00ae 80BD     	 pop {r7,pc}
 1650              	.L144:
 1651              	 .align 2
 1652              	.L143:
 1653 00b0 00000000 	 .word udd_g_ctrlreq
 1654 00b4 00000000 	 .word udc_string_desc_languageid
 1655 00b8 00000000 	 .word udd_set_setup_payload
 1656 00bc 00000000 	 .word udc_string_manufacturer_name
 1657 00c0 00000000 	 .word udc_string_product_name
 1658 00c4 00000000 	 .word udc_get_string_serial_name
 1659 00c8 00000000 	 .word udc_string_desc
 1660              	 .cfi_endproc
 1661              	.LFE90:
 1663              	 .section .text.udc_req_std_dev_get_descriptor,"ax",%progbits
 1664              	 .align 1
 1665              	 .syntax unified
 1666              	 .thumb
 1667              	 .thumb_func
 1668              	 .fpu softvfp
 1670              	udc_req_std_dev_get_descriptor:
 1671              	.LFB91:
 657:.././hal/sam3u1c/udc.c **** 
 658:.././hal/sam3u1c/udc.c **** /**
 659:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to get descriptors about USB device
 660:.././hal/sam3u1c/udc.c ****  *
 661:.././hal/sam3u1c/udc.c ****  * \return true if success
 662:.././hal/sam3u1c/udc.c ****  */
 663:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_get_descriptor(void)
 664:.././hal/sam3u1c/udc.c **** {
 1672              	 .loc 1 664 0
 1673              	 .cfi_startproc
 1674              	 
 1675              	 
 1676 0000 80B5     	 push {r7,lr}
 1677              	.LCFI71:
 1678              	 .cfi_def_cfa_offset 8
 1679              	 .cfi_offset 7,-8
 1680              	 .cfi_offset 14,-4
 1681 0002 82B0     	 sub sp,sp,#8
 1682              	.LCFI72:
 1683              	 .cfi_def_cfa_offset 16
 1684 0004 00AF     	 add r7,sp,#0
 1685              	.LCFI73:
 1686              	 .cfi_def_cfa_register 7
 665:.././hal/sam3u1c/udc.c **** 	uint8_t conf_num;
 666:.././hal/sam3u1c/udc.c **** 
 667:.././hal/sam3u1c/udc.c **** 	conf_num = udd_g_ctrlreq.req.wValue & 0xff;
 1687              	 .loc 1 667 0
 1688 0006 804B     	 ldr r3,.L170
 1689 0008 5B88     	 ldrh r3,[r3,#2]
 1690 000a FB71     	 strb r3,[r7,#7]
 668:.././hal/sam3u1c/udc.c **** 
 669:.././hal/sam3u1c/udc.c **** 	// Check descriptor ID
 670:.././hal/sam3u1c/udc.c **** 	switch ((uint8_t) (udd_g_ctrlreq.req.wValue >> 8)) {
 1691              	 .loc 1 670 0
 1692 000c 7E4B     	 ldr r3,.L170
 1693 000e 5B88     	 ldrh r3,[r3,#2]
 1694 0010 1B0A     	 lsrs r3,r3,#8
 1695 0012 9BB2     	 uxth r3,r3
 1696 0014 DBB2     	 uxtb r3,r3
 1697 0016 013B     	 subs r3,r3,#1
 1698 0018 0E2B     	 cmp r3,#14
 1699 001a 00F2E280 	 bhi .L146
 1700 001e 01A2     	 adr r2,.L148
 1701 0020 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 1702              	 .p2align 2
 1703              	.L148:
 1704 0024 61000000 	 .word .L147+1
 1705 0028 9D000000 	 .word .L149+1
 1706 002c CF010000 	 .word .L150+1
 1707 0030 E3010000 	 .word .L146+1
 1708 0034 E3010000 	 .word .L146+1
 1709 0038 17010000 	 .word .L151+1
 1710 003c 2D010000 	 .word .L152+1
 1711 0040 E3010000 	 .word .L146+1
 1712 0044 E3010000 	 .word .L146+1
 1713 0048 E3010000 	 .word .L146+1
 1714 004c E3010000 	 .word .L146+1
 1715 0050 E3010000 	 .word .L146+1
 1716 0054 E3010000 	 .word .L146+1
 1717 0058 E3010000 	 .word .L146+1
 1718 005c AD010000 	 .word .L153+1
 1719              	 .p2align 1
 1720              	.L147:
 671:.././hal/sam3u1c/udc.c **** 	case USB_DT_DEVICE:
 672:.././hal/sam3u1c/udc.c **** 		// Device descriptor requested
 673:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 674:.././hal/sam3u1c/udc.c **** 		if (!udd_is_high_speed()) {
 1721              	 .loc 1 674 0
 1722 0060 6A4B     	 ldr r3,.L170+4
 1723 0062 9847     	 blx r3
 1724              	.LVL29:
 1725 0064 0346     	 mov r3,r0
 1726 0066 83F00103 	 eor r3,r3,#1
 1727 006a DBB2     	 uxtb r3,r3
 1728 006c 002B     	 cmp r3,#0
 1729 006e 0AD0     	 beq .L154
 675:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 676:.././hal/sam3u1c/udc.c **** 				(uint8_t *) udc_config.confdev_hs,
 1730              	 .loc 1 676 0
 1731 0070 674B     	 ldr r3,.L170+8
 1732 0072 9A68     	 ldr r2,[r3,#8]
 677:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_hs->bLength);
 1733              	 .loc 1 677 0
 1734 0074 664B     	 ldr r3,.L170+8
 1735 0076 9B68     	 ldr r3,[r3,#8]
 1736 0078 1B78     	 ldrb r3,[r3]
 675:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 1737              	 .loc 1 675 0
 1738 007a 9BB2     	 uxth r3,r3
 1739 007c 1946     	 mov r1,r3
 1740 007e 1046     	 mov r0,r2
 1741 0080 644B     	 ldr r3,.L170+12
 1742 0082 9847     	 blx r3
 1743              	.LVL30:
 678:.././hal/sam3u1c/udc.c **** 		} else
 679:.././hal/sam3u1c/udc.c **** #endif
 680:.././hal/sam3u1c/udc.c **** 		{
 681:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 682:.././hal/sam3u1c/udc.c **** 				(uint8_t *) udc_config.confdev_lsfs,
 683:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_lsfs->bLength);
 684:.././hal/sam3u1c/udc.c **** 		}
 685:.././hal/sam3u1c/udc.c **** 		break;
 1744              	 .loc 1 685 0
 1745 0084 B0E0     	 b .L156
 1746              	.L154:
 682:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_lsfs->bLength);
 1747              	 .loc 1 682 0
 1748 0086 624B     	 ldr r3,.L170+8
 1749 0088 1A68     	 ldr r2,[r3]
 683:.././hal/sam3u1c/udc.c **** 		}
 1750              	 .loc 1 683 0
 1751 008a 614B     	 ldr r3,.L170+8
 1752 008c 1B68     	 ldr r3,[r3]
 1753 008e 1B78     	 ldrb r3,[r3]
 681:.././hal/sam3u1c/udc.c **** 				(uint8_t *) udc_config.confdev_lsfs,
 1754              	 .loc 1 681 0
 1755 0090 9BB2     	 uxth r3,r3
 1756 0092 1946     	 mov r1,r3
 1757 0094 1046     	 mov r0,r2
 1758 0096 5F4B     	 ldr r3,.L170+12
 1759 0098 9847     	 blx r3
 1760              	.LVL31:
 1761              	 .loc 1 685 0
 1762 009a A5E0     	 b .L156
 1763              	.L149:
 686:.././hal/sam3u1c/udc.c **** 
 687:.././hal/sam3u1c/udc.c **** 	case USB_DT_CONFIGURATION:
 688:.././hal/sam3u1c/udc.c **** 		// Configuration descriptor requested
 689:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 690:.././hal/sam3u1c/udc.c **** 		if (udd_is_high_speed()) {
 1764              	 .loc 1 690 0
 1765 009c 5B4B     	 ldr r3,.L170+4
 1766 009e 9847     	 blx r3
 1767              	.LVL32:
 1768 00a0 0346     	 mov r3,r0
 1769 00a2 002B     	 cmp r3,#0
 1770 00a4 19D0     	 beq .L157
 691:.././hal/sam3u1c/udc.c **** 			// HS descriptor
 692:.././hal/sam3u1c/udc.c **** 			if (conf_num >= udc_config.confdev_hs->
 1771              	 .loc 1 692 0
 1772 00a6 5A4B     	 ldr r3,.L170+8
 1773 00a8 9B68     	 ldr r3,[r3,#8]
 1774 00aa 5B7C     	 ldrb r3,[r3,#17]
 1775 00ac FA79     	 ldrb r2,[r7,#7]
 1776 00ae 9A42     	 cmp r2,r3
 1777 00b0 01D3     	 bcc .L158
 693:.././hal/sam3u1c/udc.c **** 					bNumConfigurations) {
 694:.././hal/sam3u1c/udc.c **** 				return false;
 1778              	 .loc 1 694 0
 1779 00b2 0023     	 movs r3,#0
 1780 00b4 A3E0     	 b .L159
 1781              	.L158:
 695:.././hal/sam3u1c/udc.c **** 			}
 696:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 697:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_hs[conf_num].desc,
 1782              	 .loc 1 697 0
 1783 00b6 564B     	 ldr r3,.L170+8
 1784 00b8 1A69     	 ldr r2,[r3,#16]
 1785 00ba FB79     	 ldrb r3,[r7,#7]
 1786 00bc DB00     	 lsls r3,r3,#3
 1787 00be 1344     	 add r3,r3,r2
 1788 00c0 1868     	 ldr r0,[r3]
 698:.././hal/sam3u1c/udc.c **** 				le16_to_cpu(udc_config.conf_hs[conf_num].desc->wTotalLength));
 1789              	 .loc 1 698 0
 1790 00c2 534B     	 ldr r3,.L170+8
 1791 00c4 1A69     	 ldr r2,[r3,#16]
 1792 00c6 FB79     	 ldrb r3,[r7,#7]
 1793 00c8 DB00     	 lsls r3,r3,#3
 1794 00ca 1344     	 add r3,r3,r2
 1795 00cc 1B68     	 ldr r3,[r3]
 696:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_hs[conf_num].desc,
 1796              	 .loc 1 696 0
 1797 00ce 5B88     	 ldrh r3,[r3,#2]
 1798 00d0 9BB2     	 uxth r3,r3
 1799 00d2 1946     	 mov r1,r3
 1800 00d4 4F4B     	 ldr r3,.L170+12
 1801 00d6 9847     	 blx r3
 1802              	.LVL33:
 1803 00d8 18E0     	 b .L160
 1804              	.L157:
 699:.././hal/sam3u1c/udc.c **** 		} else
 700:.././hal/sam3u1c/udc.c **** #endif
 701:.././hal/sam3u1c/udc.c **** 		{
 702:.././hal/sam3u1c/udc.c **** 			// FS descriptor
 703:.././hal/sam3u1c/udc.c **** 			if (conf_num >= udc_config.confdev_lsfs->
 1805              	 .loc 1 703 0
 1806 00da 4D4B     	 ldr r3,.L170+8
 1807 00dc 1B68     	 ldr r3,[r3]
 1808 00de 5B7C     	 ldrb r3,[r3,#17]
 1809 00e0 FA79     	 ldrb r2,[r7,#7]
 1810 00e2 9A42     	 cmp r2,r3
 1811 00e4 01D3     	 bcc .L161
 704:.././hal/sam3u1c/udc.c **** 					bNumConfigurations) {
 705:.././hal/sam3u1c/udc.c **** 				return false;
 1812              	 .loc 1 705 0
 1813 00e6 0023     	 movs r3,#0
 1814 00e8 89E0     	 b .L159
 1815              	.L161:
 706:.././hal/sam3u1c/udc.c **** 			}
 707:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 708:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 1816              	 .loc 1 708 0
 1817 00ea 494B     	 ldr r3,.L170+8
 1818 00ec 5A68     	 ldr r2,[r3,#4]
 1819 00ee FB79     	 ldrb r3,[r7,#7]
 1820 00f0 DB00     	 lsls r3,r3,#3
 1821 00f2 1344     	 add r3,r3,r2
 1822 00f4 1868     	 ldr r0,[r3]
 709:.././hal/sam3u1c/udc.c **** 				le16_to_cpu(udc_config.conf_lsfs[conf_num].desc->wTotalLength));
 1823              	 .loc 1 709 0
 1824 00f6 464B     	 ldr r3,.L170+8
 1825 00f8 5A68     	 ldr r2,[r3,#4]
 1826 00fa FB79     	 ldrb r3,[r7,#7]
 1827 00fc DB00     	 lsls r3,r3,#3
 1828 00fe 1344     	 add r3,r3,r2
 1829 0100 1B68     	 ldr r3,[r3]
 707:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 1830              	 .loc 1 707 0
 1831 0102 5B88     	 ldrh r3,[r3,#2]
 1832 0104 9BB2     	 uxth r3,r3
 1833 0106 1946     	 mov r1,r3
 1834 0108 424B     	 ldr r3,.L170+12
 1835 010a 9847     	 blx r3
 1836              	.LVL34:
 1837              	.L160:
 710:.././hal/sam3u1c/udc.c **** 		}
 711:.././hal/sam3u1c/udc.c **** 		((usb_conf_desc_t *) udd_g_ctrlreq.payload)->bDescriptorType =
 1838              	 .loc 1 711 0
 1839 010c 3E4B     	 ldr r3,.L170
 1840 010e 9B68     	 ldr r3,[r3,#8]
 1841 0110 0222     	 movs r2,#2
 1842 0112 5A70     	 strb r2,[r3,#1]
 712:.././hal/sam3u1c/udc.c **** 				USB_DT_CONFIGURATION;
 713:.././hal/sam3u1c/udc.c **** 		break;
 1843              	 .loc 1 713 0
 1844 0114 68E0     	 b .L156
 1845              	.L151:
 714:.././hal/sam3u1c/udc.c **** 
 715:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 716:.././hal/sam3u1c/udc.c **** 	case USB_DT_DEVICE_QUALIFIER:
 717:.././hal/sam3u1c/udc.c **** 		// Device qualifier descriptor requested
 718:.././hal/sam3u1c/udc.c **** 		udd_set_setup_payload( (uint8_t *) udc_config.qualifier,
 1846              	 .loc 1 718 0
 1847 0116 3E4B     	 ldr r3,.L170+8
 1848 0118 DA68     	 ldr r2,[r3,#12]
 719:.././hal/sam3u1c/udc.c **** 				udc_config.qualifier->bLength);
 1849              	 .loc 1 719 0
 1850 011a 3D4B     	 ldr r3,.L170+8
 1851 011c DB68     	 ldr r3,[r3,#12]
 1852 011e 1B78     	 ldrb r3,[r3]
 718:.././hal/sam3u1c/udc.c **** 				udc_config.qualifier->bLength);
 1853              	 .loc 1 718 0
 1854 0120 9BB2     	 uxth r3,r3
 1855 0122 1946     	 mov r1,r3
 1856 0124 1046     	 mov r0,r2
 1857 0126 3B4B     	 ldr r3,.L170+12
 1858 0128 9847     	 blx r3
 1859              	.LVL35:
 720:.././hal/sam3u1c/udc.c **** 		break;
 1860              	 .loc 1 720 0
 1861 012a 5DE0     	 b .L156
 1862              	.L152:
 721:.././hal/sam3u1c/udc.c **** 
 722:.././hal/sam3u1c/udc.c **** 	case USB_DT_OTHER_SPEED_CONFIGURATION:
 723:.././hal/sam3u1c/udc.c **** 		// Other configuration descriptor requested
 724:.././hal/sam3u1c/udc.c **** 		if (!udd_is_high_speed()) {
 1863              	 .loc 1 724 0
 1864 012c 374B     	 ldr r3,.L170+4
 1865 012e 9847     	 blx r3
 1866              	.LVL36:
 1867 0130 0346     	 mov r3,r0
 1868 0132 83F00103 	 eor r3,r3,#1
 1869 0136 DBB2     	 uxtb r3,r3
 1870 0138 002B     	 cmp r3,#0
 1871 013a 19D0     	 beq .L162
 725:.././hal/sam3u1c/udc.c **** 			// HS descriptor
 726:.././hal/sam3u1c/udc.c **** 			if (conf_num >= udc_config.confdev_hs->
 1872              	 .loc 1 726 0
 1873 013c 344B     	 ldr r3,.L170+8
 1874 013e 9B68     	 ldr r3,[r3,#8]
 1875 0140 5B7C     	 ldrb r3,[r3,#17]
 1876 0142 FA79     	 ldrb r2,[r7,#7]
 1877 0144 9A42     	 cmp r2,r3
 1878 0146 01D3     	 bcc .L163
 727:.././hal/sam3u1c/udc.c **** 					bNumConfigurations) {
 728:.././hal/sam3u1c/udc.c **** 				return false;
 1879              	 .loc 1 728 0
 1880 0148 0023     	 movs r3,#0
 1881 014a 58E0     	 b .L159
 1882              	.L163:
 729:.././hal/sam3u1c/udc.c **** 			}
 730:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 731:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_hs[conf_num].desc,
 1883              	 .loc 1 731 0
 1884 014c 304B     	 ldr r3,.L170+8
 1885 014e 1A69     	 ldr r2,[r3,#16]
 1886 0150 FB79     	 ldrb r3,[r7,#7]
 1887 0152 DB00     	 lsls r3,r3,#3
 1888 0154 1344     	 add r3,r3,r2
 1889 0156 1868     	 ldr r0,[r3]
 732:.././hal/sam3u1c/udc.c **** 				le16_to_cpu(udc_config.conf_hs[conf_num].desc->wTotalLength));
 1890              	 .loc 1 732 0
 1891 0158 2D4B     	 ldr r3,.L170+8
 1892 015a 1A69     	 ldr r2,[r3,#16]
 1893 015c FB79     	 ldrb r3,[r7,#7]
 1894 015e DB00     	 lsls r3,r3,#3
 1895 0160 1344     	 add r3,r3,r2
 1896 0162 1B68     	 ldr r3,[r3]
 730:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_hs[conf_num].desc,
 1897              	 .loc 1 730 0
 1898 0164 5B88     	 ldrh r3,[r3,#2]
 1899 0166 9BB2     	 uxth r3,r3
 1900 0168 1946     	 mov r1,r3
 1901 016a 2A4B     	 ldr r3,.L170+12
 1902 016c 9847     	 blx r3
 1903              	.LVL37:
 1904 016e 18E0     	 b .L164
 1905              	.L162:
 733:.././hal/sam3u1c/udc.c **** 		} else {
 734:.././hal/sam3u1c/udc.c **** 			// FS descriptor
 735:.././hal/sam3u1c/udc.c **** 			if (conf_num >= udc_config.confdev_lsfs->
 1906              	 .loc 1 735 0
 1907 0170 274B     	 ldr r3,.L170+8
 1908 0172 1B68     	 ldr r3,[r3]
 1909 0174 5B7C     	 ldrb r3,[r3,#17]
 1910 0176 FA79     	 ldrb r2,[r7,#7]
 1911 0178 9A42     	 cmp r2,r3
 1912 017a 01D3     	 bcc .L165
 736:.././hal/sam3u1c/udc.c **** 					bNumConfigurations) {
 737:.././hal/sam3u1c/udc.c **** 				return false;
 1913              	 .loc 1 737 0
 1914 017c 0023     	 movs r3,#0
 1915 017e 3EE0     	 b .L159
 1916              	.L165:
 738:.././hal/sam3u1c/udc.c **** 			}
 739:.././hal/sam3u1c/udc.c **** 			udd_set_setup_payload(
 740:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 1917              	 .loc 1 740 0
 1918 0180 234B     	 ldr r3,.L170+8
 1919 0182 5A68     	 ldr r2,[r3,#4]
 1920 0184 FB79     	 ldrb r3,[r7,#7]
 1921 0186 DB00     	 lsls r3,r3,#3
 1922 0188 1344     	 add r3,r3,r2
 1923 018a 1868     	 ldr r0,[r3]
 741:.././hal/sam3u1c/udc.c **** 				le16_to_cpu(udc_config.conf_lsfs[conf_num].desc->wTotalLength));
 1924              	 .loc 1 741 0
 1925 018c 204B     	 ldr r3,.L170+8
 1926 018e 5A68     	 ldr r2,[r3,#4]
 1927 0190 FB79     	 ldrb r3,[r7,#7]
 1928 0192 DB00     	 lsls r3,r3,#3
 1929 0194 1344     	 add r3,r3,r2
 1930 0196 1B68     	 ldr r3,[r3]
 739:.././hal/sam3u1c/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 1931              	 .loc 1 739 0
 1932 0198 5B88     	 ldrh r3,[r3,#2]
 1933 019a 9BB2     	 uxth r3,r3
 1934 019c 1946     	 mov r1,r3
 1935 019e 1D4B     	 ldr r3,.L170+12
 1936 01a0 9847     	 blx r3
 1937              	.LVL38:
 1938              	.L164:
 742:.././hal/sam3u1c/udc.c **** 		}
 743:.././hal/sam3u1c/udc.c **** 		((usb_conf_desc_t *) udd_g_ctrlreq.payload)->bDescriptorType =
 1939              	 .loc 1 743 0
 1940 01a2 194B     	 ldr r3,.L170
 1941 01a4 9B68     	 ldr r3,[r3,#8]
 1942 01a6 0722     	 movs r2,#7
 1943 01a8 5A70     	 strb r2,[r3,#1]
 744:.././hal/sam3u1c/udc.c **** 				USB_DT_OTHER_SPEED_CONFIGURATION;
 745:.././hal/sam3u1c/udc.c **** 		break;
 1944              	 .loc 1 745 0
 1945 01aa 1DE0     	 b .L156
 1946              	.L153:
 746:.././hal/sam3u1c/udc.c **** #endif
 747:.././hal/sam3u1c/udc.c **** 
 748:.././hal/sam3u1c/udc.c **** 	case USB_DT_BOS:
 749:.././hal/sam3u1c/udc.c **** 		// Device BOS descriptor requested
 750:.././hal/sam3u1c/udc.c **** 		if (udc_config.conf_bos == NULL) {
 1947              	 .loc 1 750 0
 1948 01ac 184B     	 ldr r3,.L170+8
 1949 01ae 5B69     	 ldr r3,[r3,#20]
 1950 01b0 002B     	 cmp r3,#0
 1951 01b2 01D1     	 bne .L166
 751:.././hal/sam3u1c/udc.c **** 			return false;
 1952              	 .loc 1 751 0
 1953 01b4 0023     	 movs r3,#0
 1954 01b6 22E0     	 b .L159
 1955              	.L166:
 752:.././hal/sam3u1c/udc.c **** 		}
 753:.././hal/sam3u1c/udc.c **** 		udd_set_setup_payload( (uint8_t *) udc_config.conf_bos,
 1956              	 .loc 1 753 0
 1957 01b8 154B     	 ldr r3,.L170+8
 1958 01ba 5A69     	 ldr r2,[r3,#20]
 754:.././hal/sam3u1c/udc.c **** 				udc_config.conf_bos->wTotalLength);
 1959              	 .loc 1 754 0
 1960 01bc 144B     	 ldr r3,.L170+8
 1961 01be 5B69     	 ldr r3,[r3,#20]
 753:.././hal/sam3u1c/udc.c **** 				udc_config.conf_bos->wTotalLength);
 1962              	 .loc 1 753 0
 1963 01c0 5B88     	 ldrh r3,[r3,#2]
 1964 01c2 9BB2     	 uxth r3,r3
 1965 01c4 1946     	 mov r1,r3
 1966 01c6 1046     	 mov r0,r2
 1967 01c8 124B     	 ldr r3,.L170+12
 1968 01ca 9847     	 blx r3
 1969              	.LVL39:
 755:.././hal/sam3u1c/udc.c **** 		break;
 1970              	 .loc 1 755 0
 1971 01cc 0CE0     	 b .L156
 1972              	.L150:
 756:.././hal/sam3u1c/udc.c **** 
 757:.././hal/sam3u1c/udc.c **** 	case USB_DT_STRING:
 758:.././hal/sam3u1c/udc.c **** 		// String descriptor requested
 759:.././hal/sam3u1c/udc.c **** 		if (!udc_req_std_dev_get_str_desc()) {
 1973              	 .loc 1 759 0
 1974 01ce 124B     	 ldr r3,.L170+16
 1975 01d0 9847     	 blx r3
 1976              	.LVL40:
 1977 01d2 0346     	 mov r3,r0
 1978 01d4 83F00103 	 eor r3,r3,#1
 1979 01d8 DBB2     	 uxtb r3,r3
 1980 01da 002B     	 cmp r3,#0
 1981 01dc 03D0     	 beq .L169
 760:.././hal/sam3u1c/udc.c **** 			return false;
 1982              	 .loc 1 760 0
 1983 01de 0023     	 movs r3,#0
 1984 01e0 0DE0     	 b .L159
 1985              	.L146:
 761:.././hal/sam3u1c/udc.c **** 		}
 762:.././hal/sam3u1c/udc.c **** 		break;
 763:.././hal/sam3u1c/udc.c **** 
 764:.././hal/sam3u1c/udc.c **** 	default:
 765:.././hal/sam3u1c/udc.c **** 		// Unknown descriptor requested
 766:.././hal/sam3u1c/udc.c **** 		return false;
 1986              	 .loc 1 766 0
 1987 01e2 0023     	 movs r3,#0
 1988 01e4 0BE0     	 b .L159
 1989              	.L169:
 762:.././hal/sam3u1c/udc.c **** 
 1990              	 .loc 1 762 0
 1991 01e6 00BF     	 nop
 1992              	.L156:
 767:.././hal/sam3u1c/udc.c **** 	}
 768:.././hal/sam3u1c/udc.c **** 	// if the descriptor is larger than length requested, then reduce it
 769:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength < udd_g_ctrlreq.payload_size) {
 1993              	 .loc 1 769 0
 1994 01e8 074B     	 ldr r3,.L170
 1995 01ea DA88     	 ldrh r2,[r3,#6]
 1996 01ec 064B     	 ldr r3,.L170
 1997 01ee 9B89     	 ldrh r3,[r3,#12]
 1998 01f0 9A42     	 cmp r2,r3
 1999 01f2 03D2     	 bcs .L168
 770:.././hal/sam3u1c/udc.c **** 		udd_g_ctrlreq.payload_size = udd_g_ctrlreq.req.wLength;
 2000              	 .loc 1 770 0
 2001 01f4 044B     	 ldr r3,.L170
 2002 01f6 DA88     	 ldrh r2,[r3,#6]
 2003 01f8 034B     	 ldr r3,.L170
 2004 01fa 9A81     	 strh r2,[r3,#12]
 2005              	.L168:
 771:.././hal/sam3u1c/udc.c **** 	}
 772:.././hal/sam3u1c/udc.c **** 	return true;
 2006              	 .loc 1 772 0
 2007 01fc 0123     	 movs r3,#1
 2008              	.L159:
 773:.././hal/sam3u1c/udc.c **** }
 2009              	 .loc 1 773 0
 2010 01fe 1846     	 mov r0,r3
 2011 0200 0837     	 adds r7,r7,#8
 2012              	.LCFI74:
 2013              	 .cfi_def_cfa_offset 8
 2014 0202 BD46     	 mov sp,r7
 2015              	.LCFI75:
 2016              	 .cfi_def_cfa_register 13
 2017              	 
 2018 0204 80BD     	 pop {r7,pc}
 2019              	.L171:
 2020 0206 00BF     	 .align 2
 2021              	.L170:
 2022 0208 00000000 	 .word udd_g_ctrlreq
 2023 020c 00000000 	 .word udd_is_high_speed
 2024 0210 00000000 	 .word udc_config
 2025 0214 00000000 	 .word udd_set_setup_payload
 2026 0218 00000000 	 .word udc_req_std_dev_get_str_desc
 2027              	 .cfi_endproc
 2028              	.LFE91:
 2030              	 .section .text.udc_req_std_dev_get_configuration,"ax",%progbits
 2031              	 .align 1
 2032              	 .syntax unified
 2033              	 .thumb
 2034              	 .thumb_func
 2035              	 .fpu softvfp
 2037              	udc_req_std_dev_get_configuration:
 2038              	.LFB92:
 774:.././hal/sam3u1c/udc.c **** 
 775:.././hal/sam3u1c/udc.c **** /**
 776:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to get configuration number
 777:.././hal/sam3u1c/udc.c ****  *
 778:.././hal/sam3u1c/udc.c ****  * \return true if success
 779:.././hal/sam3u1c/udc.c ****  */
 780:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_get_configuration(void)
 781:.././hal/sam3u1c/udc.c **** {
 2039              	 .loc 1 781 0
 2040              	 .cfi_startproc
 2041              	 
 2042              	 
 2043 0000 80B5     	 push {r7,lr}
 2044              	.LCFI76:
 2045              	 .cfi_def_cfa_offset 8
 2046              	 .cfi_offset 7,-8
 2047              	 .cfi_offset 14,-4
 2048 0002 00AF     	 add r7,sp,#0
 2049              	.LCFI77:
 2050              	 .cfi_def_cfa_register 7
 782:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength != 1) {
 2051              	 .loc 1 782 0
 2052 0004 064B     	 ldr r3,.L175
 2053 0006 DB88     	 ldrh r3,[r3,#6]
 2054 0008 012B     	 cmp r3,#1
 2055 000a 01D0     	 beq .L173
 783:.././hal/sam3u1c/udc.c **** 		return false;
 2056              	 .loc 1 783 0
 2057 000c 0023     	 movs r3,#0
 2058 000e 04E0     	 b .L174
 2059              	.L173:
 784:.././hal/sam3u1c/udc.c **** 	}
 785:.././hal/sam3u1c/udc.c **** 
 786:.././hal/sam3u1c/udc.c **** 	udd_set_setup_payload(&udc_num_configuration,1);
 2060              	 .loc 1 786 0
 2061 0010 0121     	 movs r1,#1
 2062 0012 0448     	 ldr r0,.L175+4
 2063 0014 044B     	 ldr r3,.L175+8
 2064 0016 9847     	 blx r3
 2065              	.LVL41:
 787:.././hal/sam3u1c/udc.c **** 	return true;
 2066              	 .loc 1 787 0
 2067 0018 0123     	 movs r3,#1
 2068              	.L174:
 788:.././hal/sam3u1c/udc.c **** }
 2069              	 .loc 1 788 0
 2070 001a 1846     	 mov r0,r3
 2071 001c 80BD     	 pop {r7,pc}
 2072              	.L176:
 2073 001e 00BF     	 .align 2
 2074              	.L175:
 2075 0020 00000000 	 .word udd_g_ctrlreq
 2076 0024 00000000 	 .word udc_num_configuration
 2077 0028 00000000 	 .word udd_set_setup_payload
 2078              	 .cfi_endproc
 2079              	.LFE92:
 2081              	 .section .text.udc_req_std_dev_set_configuration,"ax",%progbits
 2082              	 .align 1
 2083              	 .syntax unified
 2084              	 .thumb
 2085              	 .thumb_func
 2086              	 .fpu softvfp
 2088              	udc_req_std_dev_set_configuration:
 2089              	.LFB93:
 789:.././hal/sam3u1c/udc.c **** 
 790:.././hal/sam3u1c/udc.c **** /**
 791:.././hal/sam3u1c/udc.c ****  * \brief Standard device request to enable a configuration
 792:.././hal/sam3u1c/udc.c ****  *
 793:.././hal/sam3u1c/udc.c ****  * \return true if success
 794:.././hal/sam3u1c/udc.c ****  */
 795:.././hal/sam3u1c/udc.c **** static bool udc_req_std_dev_set_configuration(void)
 796:.././hal/sam3u1c/udc.c **** {
 2090              	 .loc 1 796 0
 2091              	 .cfi_startproc
 2092              	 
 2093              	 
 2094 0000 80B5     	 push {r7,lr}
 2095              	.LCFI78:
 2096              	 .cfi_def_cfa_offset 8
 2097              	 .cfi_offset 7,-8
 2098              	 .cfi_offset 14,-4
 2099 0002 82B0     	 sub sp,sp,#8
 2100              	.LCFI79:
 2101              	 .cfi_def_cfa_offset 16
 2102 0004 00AF     	 add r7,sp,#0
 2103              	.LCFI80:
 2104              	 .cfi_def_cfa_register 7
 797:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num;
 798:.././hal/sam3u1c/udc.c **** 
 799:.././hal/sam3u1c/udc.c **** 	// Check request length
 800:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 2105              	 .loc 1 800 0
 2106 0006 374B     	 ldr r3,.L189
 2107 0008 DB88     	 ldrh r3,[r3,#6]
 2108 000a 002B     	 cmp r3,#0
 2109 000c 01D0     	 beq .L178
 801:.././hal/sam3u1c/udc.c **** 		return false;
 2110              	 .loc 1 801 0
 2111 000e 0023     	 movs r3,#0
 2112 0010 63E0     	 b .L179
 2113              	.L178:
 802:.././hal/sam3u1c/udc.c **** 	}
 803:.././hal/sam3u1c/udc.c **** 	// Authorize configuration only if the address is valid
 804:.././hal/sam3u1c/udc.c **** 	if (!udd_getaddress()) {
 2114              	 .loc 1 804 0
 2115 0012 354B     	 ldr r3,.L189+4
 2116 0014 9847     	 blx r3
 2117              	.LVL42:
 2118 0016 0346     	 mov r3,r0
 2119 0018 002B     	 cmp r3,#0
 2120 001a 01D1     	 bne .L180
 805:.././hal/sam3u1c/udc.c **** 		return false;
 2121              	 .loc 1 805 0
 2122 001c 0023     	 movs r3,#0
 2123 001e 5CE0     	 b .L179
 2124              	.L180:
 806:.././hal/sam3u1c/udc.c **** 	}
 807:.././hal/sam3u1c/udc.c **** 	// Check the configuration number requested
 808:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 809:.././hal/sam3u1c/udc.c **** 	if (udd_is_high_speed()) {
 2125              	 .loc 1 809 0
 2126 0020 324B     	 ldr r3,.L189+8
 2127 0022 9847     	 blx r3
 2128              	.LVL43:
 2129 0024 0346     	 mov r3,r0
 2130 0026 002B     	 cmp r3,#0
 2131 0028 09D0     	 beq .L181
 810:.././hal/sam3u1c/udc.c **** 		// HS descriptor
 811:.././hal/sam3u1c/udc.c **** 		if ((udd_g_ctrlreq.req.wValue & 0xFF) >
 2132              	 .loc 1 811 0
 2133 002a 2E4B     	 ldr r3,.L189
 2134 002c 5B88     	 ldrh r3,[r3,#2]
 2135 002e DBB2     	 uxtb r3,r3
 812:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_hs->bNumConfigurations) {
 2136              	 .loc 1 812 0
 2137 0030 2F4A     	 ldr r2,.L189+12
 2138 0032 9268     	 ldr r2,[r2,#8]
 2139 0034 527C     	 ldrb r2,[r2,#17]
 811:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_hs->bNumConfigurations) {
 2140              	 .loc 1 811 0
 2141 0036 9342     	 cmp r3,r2
 2142 0038 0BDD     	 ble .L182
 813:.././hal/sam3u1c/udc.c **** 			return false;
 2143              	 .loc 1 813 0
 2144 003a 0023     	 movs r3,#0
 2145 003c 4DE0     	 b .L179
 2146              	.L181:
 814:.././hal/sam3u1c/udc.c **** 		}
 815:.././hal/sam3u1c/udc.c **** 	} else
 816:.././hal/sam3u1c/udc.c **** #endif
 817:.././hal/sam3u1c/udc.c **** 	{
 818:.././hal/sam3u1c/udc.c **** 		// FS descriptor
 819:.././hal/sam3u1c/udc.c **** 		if ((udd_g_ctrlreq.req.wValue & 0xFF) >
 2147              	 .loc 1 819 0
 2148 003e 294B     	 ldr r3,.L189
 2149 0040 5B88     	 ldrh r3,[r3,#2]
 2150 0042 DBB2     	 uxtb r3,r3
 820:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_lsfs->bNumConfigurations) {
 2151              	 .loc 1 820 0
 2152 0044 2A4A     	 ldr r2,.L189+12
 2153 0046 1268     	 ldr r2,[r2]
 2154 0048 527C     	 ldrb r2,[r2,#17]
 819:.././hal/sam3u1c/udc.c **** 				udc_config.confdev_lsfs->bNumConfigurations) {
 2155              	 .loc 1 819 0
 2156 004a 9342     	 cmp r3,r2
 2157 004c 01DD     	 ble .L182
 821:.././hal/sam3u1c/udc.c **** 			return false;
 2158              	 .loc 1 821 0
 2159 004e 0023     	 movs r3,#0
 2160 0050 43E0     	 b .L179
 2161              	.L182:
 822:.././hal/sam3u1c/udc.c **** 		}
 823:.././hal/sam3u1c/udc.c **** 	}
 824:.././hal/sam3u1c/udc.c **** 
 825:.././hal/sam3u1c/udc.c **** 	// Reset current configuration
 826:.././hal/sam3u1c/udc.c **** 	udc_reset();
 2162              	 .loc 1 826 0
 2163 0052 284B     	 ldr r3,.L189+16
 2164 0054 9847     	 blx r3
 2165              	.LVL44:
 827:.././hal/sam3u1c/udc.c **** 
 828:.././hal/sam3u1c/udc.c **** 	// Enable new configuration
 829:.././hal/sam3u1c/udc.c **** 	udc_num_configuration = udd_g_ctrlreq.req.wValue & 0xFF;
 2166              	 .loc 1 829 0
 2167 0056 234B     	 ldr r3,.L189
 2168 0058 5B88     	 ldrh r3,[r3,#2]
 2169 005a DAB2     	 uxtb r2,r3
 2170 005c 264B     	 ldr r3,.L189+20
 2171 005e 1A70     	 strb r2,[r3]
 830:.././hal/sam3u1c/udc.c **** 	if (udc_num_configuration == 0) {
 2172              	 .loc 1 830 0
 2173 0060 254B     	 ldr r3,.L189+20
 2174 0062 1B78     	 ldrb r3,[r3]
 2175 0064 002B     	 cmp r3,#0
 2176 0066 01D1     	 bne .L183
 831:.././hal/sam3u1c/udc.c **** 		return true; // Default empty configuration requested
 2177              	 .loc 1 831 0
 2178 0068 0123     	 movs r3,#1
 2179 006a 36E0     	 b .L179
 2180              	.L183:
 832:.././hal/sam3u1c/udc.c **** 	}
 833:.././hal/sam3u1c/udc.c **** 	// Update pointer of the configuration descriptor
 834:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 835:.././hal/sam3u1c/udc.c **** 	if (udd_is_high_speed()) {
 2181              	 .loc 1 835 0
 2182 006c 1F4B     	 ldr r3,.L189+8
 2183 006e 9847     	 blx r3
 2184              	.LVL45:
 2185 0070 0346     	 mov r3,r0
 2186 0072 002B     	 cmp r3,#0
 2187 0074 0BD0     	 beq .L184
 836:.././hal/sam3u1c/udc.c **** 		// HS descriptor
 837:.././hal/sam3u1c/udc.c **** 		udc_ptr_conf = &udc_config.conf_hs[udc_num_configuration - 1];
 2188              	 .loc 1 837 0
 2189 0076 1E4B     	 ldr r3,.L189+12
 2190 0078 1A69     	 ldr r2,[r3,#16]
 2191 007a 1F4B     	 ldr r3,.L189+20
 2192 007c 1B78     	 ldrb r3,[r3]
 2193 007e 03F10053 	 add r3,r3,#536870912
 2194 0082 013B     	 subs r3,r3,#1
 2195 0084 DB00     	 lsls r3,r3,#3
 2196 0086 1344     	 add r3,r3,r2
 2197 0088 1C4A     	 ldr r2,.L189+24
 2198 008a 1360     	 str r3,[r2]
 2199 008c 0AE0     	 b .L185
 2200              	.L184:
 838:.././hal/sam3u1c/udc.c **** 	} else
 839:.././hal/sam3u1c/udc.c **** #endif
 840:.././hal/sam3u1c/udc.c **** 	{
 841:.././hal/sam3u1c/udc.c **** 		// FS descriptor
 842:.././hal/sam3u1c/udc.c **** 		udc_ptr_conf = &udc_config.conf_lsfs[udc_num_configuration - 1];
 2201              	 .loc 1 842 0
 2202 008e 184B     	 ldr r3,.L189+12
 2203 0090 5A68     	 ldr r2,[r3,#4]
 2204 0092 194B     	 ldr r3,.L189+20
 2205 0094 1B78     	 ldrb r3,[r3]
 2206 0096 03F10053 	 add r3,r3,#536870912
 2207 009a 013B     	 subs r3,r3,#1
 2208 009c DB00     	 lsls r3,r3,#3
 2209 009e 1344     	 add r3,r3,r2
 2210 00a0 164A     	 ldr r2,.L189+24
 2211 00a2 1360     	 str r3,[r2]
 2212              	.L185:
 843:.././hal/sam3u1c/udc.c **** 	}
 844:.././hal/sam3u1c/udc.c **** 	// Enable all interfaces of the selected configuration
 845:.././hal/sam3u1c/udc.c **** 	for (iface_num = 0; iface_num < udc_ptr_conf->desc->bNumInterfaces;
 2213              	 .loc 1 845 0
 2214 00a4 0023     	 movs r3,#0
 2215 00a6 FB71     	 strb r3,[r7,#7]
 2216 00a8 0FE0     	 b .L186
 2217              	.L188:
 846:.././hal/sam3u1c/udc.c **** 			iface_num++) {
 847:.././hal/sam3u1c/udc.c **** 		if (!udc_iface_enable(iface_num, 0)) {
 2218              	 .loc 1 847 0
 2219 00aa FB79     	 ldrb r3,[r7,#7]
 2220 00ac 0021     	 movs r1,#0
 2221 00ae 1846     	 mov r0,r3
 2222 00b0 134B     	 ldr r3,.L189+28
 2223 00b2 9847     	 blx r3
 2224              	.LVL46:
 2225 00b4 0346     	 mov r3,r0
 2226 00b6 83F00103 	 eor r3,r3,#1
 2227 00ba DBB2     	 uxtb r3,r3
 2228 00bc 002B     	 cmp r3,#0
 2229 00be 01D0     	 beq .L187
 848:.././hal/sam3u1c/udc.c **** 			return false;
 2230              	 .loc 1 848 0
 2231 00c0 0023     	 movs r3,#0
 2232 00c2 0AE0     	 b .L179
 2233              	.L187:
 846:.././hal/sam3u1c/udc.c **** 			iface_num++) {
 2234              	 .loc 1 846 0
 2235 00c4 FB79     	 ldrb r3,[r7,#7]
 2236 00c6 0133     	 adds r3,r3,#1
 2237 00c8 FB71     	 strb r3,[r7,#7]
 2238              	.L186:
 845:.././hal/sam3u1c/udc.c **** 			iface_num++) {
 2239              	 .loc 1 845 0 discriminator 1
 2240 00ca 0C4B     	 ldr r3,.L189+24
 2241 00cc 1B68     	 ldr r3,[r3]
 2242 00ce 1B68     	 ldr r3,[r3]
 2243 00d0 1B79     	 ldrb r3,[r3,#4]
 2244 00d2 FA79     	 ldrb r2,[r7,#7]
 2245 00d4 9A42     	 cmp r2,r3
 2246 00d6 E8D3     	 bcc .L188
 849:.././hal/sam3u1c/udc.c **** 		}
 850:.././hal/sam3u1c/udc.c **** 	}
 851:.././hal/sam3u1c/udc.c **** 	return true;
 2247              	 .loc 1 851 0
 2248 00d8 0123     	 movs r3,#1
 2249              	.L179:
 852:.././hal/sam3u1c/udc.c **** }
 2250              	 .loc 1 852 0
 2251 00da 1846     	 mov r0,r3
 2252 00dc 0837     	 adds r7,r7,#8
 2253              	.LCFI81:
 2254              	 .cfi_def_cfa_offset 8
 2255 00de BD46     	 mov sp,r7
 2256              	.LCFI82:
 2257              	 .cfi_def_cfa_register 13
 2258              	 
 2259 00e0 80BD     	 pop {r7,pc}
 2260              	.L190:
 2261 00e2 00BF     	 .align 2
 2262              	.L189:
 2263 00e4 00000000 	 .word udd_g_ctrlreq
 2264 00e8 00000000 	 .word udd_getaddress
 2265 00ec 00000000 	 .word udd_is_high_speed
 2266 00f0 00000000 	 .word udc_config
 2267 00f4 00000000 	 .word udc_reset
 2268 00f8 00000000 	 .word udc_num_configuration
 2269 00fc 00000000 	 .word udc_ptr_conf
 2270 0100 00000000 	 .word udc_iface_enable
 2271              	 .cfi_endproc
 2272              	.LFE93:
 2274              	 .section .text.udc_req_std_iface_get_setting,"ax",%progbits
 2275              	 .align 1
 2276              	 .syntax unified
 2277              	 .thumb
 2278              	 .thumb_func
 2279              	 .fpu softvfp
 2281              	udc_req_std_iface_get_setting:
 2282              	.LFB94:
 853:.././hal/sam3u1c/udc.c **** 
 854:.././hal/sam3u1c/udc.c **** /**
 855:.././hal/sam3u1c/udc.c ****  * \brief Standard interface request
 856:.././hal/sam3u1c/udc.c ****  * to get the alternate setting number of an interface
 857:.././hal/sam3u1c/udc.c ****  *
 858:.././hal/sam3u1c/udc.c ****  * \return true if success
 859:.././hal/sam3u1c/udc.c ****  */
 860:.././hal/sam3u1c/udc.c **** static bool udc_req_std_iface_get_setting(void)
 861:.././hal/sam3u1c/udc.c **** {
 2283              	 .loc 1 861 0
 2284              	 .cfi_startproc
 2285              	 
 2286              	 
 2287 0000 80B5     	 push {r7,lr}
 2288              	.LCFI83:
 2289              	 .cfi_def_cfa_offset 8
 2290              	 .cfi_offset 7,-8
 2291              	 .cfi_offset 14,-4
 2292 0002 82B0     	 sub sp,sp,#8
 2293              	.LCFI84:
 2294              	 .cfi_def_cfa_offset 16
 2295 0004 00AF     	 add r7,sp,#0
 2296              	.LCFI85:
 2297              	 .cfi_def_cfa_register 7
 862:.././hal/sam3u1c/udc.c **** 	static uint8_t udc_iface_setting;
 863:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num;
 864:.././hal/sam3u1c/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
 865:.././hal/sam3u1c/udc.c **** 
 866:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength != 1) {
 2298              	 .loc 1 866 0
 2299 0006 1E4B     	 ldr r3,.L197
 2300 0008 DB88     	 ldrh r3,[r3,#6]
 2301 000a 012B     	 cmp r3,#1
 2302 000c 01D0     	 beq .L192
 867:.././hal/sam3u1c/udc.c **** 		return false; // Error in request
 2303              	 .loc 1 867 0
 2304 000e 0023     	 movs r3,#0
 2305 0010 32E0     	 b .L193
 2306              	.L192:
 868:.././hal/sam3u1c/udc.c **** 	}
 869:.././hal/sam3u1c/udc.c **** 	if (!udc_num_configuration) {
 2307              	 .loc 1 869 0
 2308 0012 1C4B     	 ldr r3,.L197+4
 2309 0014 1B78     	 ldrb r3,[r3]
 2310 0016 002B     	 cmp r3,#0
 2311 0018 01D1     	 bne .L194
 870:.././hal/sam3u1c/udc.c **** 		return false; // The device is not is configured state yet
 2312              	 .loc 1 870 0
 2313 001a 0023     	 movs r3,#0
 2314 001c 2CE0     	 b .L193
 2315              	.L194:
 871:.././hal/sam3u1c/udc.c **** 	}
 872:.././hal/sam3u1c/udc.c **** 
 873:.././hal/sam3u1c/udc.c **** 	// Check the interface number included in the request
 874:.././hal/sam3u1c/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 2316              	 .loc 1 874 0
 2317 001e 184B     	 ldr r3,.L197
 2318 0020 9B88     	 ldrh r3,[r3,#4]
 2319 0022 FB71     	 strb r3,[r7,#7]
 875:.././hal/sam3u1c/udc.c **** 	if (iface_num >= udc_ptr_conf->desc->bNumInterfaces) {
 2320              	 .loc 1 875 0
 2321 0024 184B     	 ldr r3,.L197+8
 2322 0026 1B68     	 ldr r3,[r3]
 2323 0028 1B68     	 ldr r3,[r3]
 2324 002a 1B79     	 ldrb r3,[r3,#4]
 2325 002c FA79     	 ldrb r2,[r7,#7]
 2326 002e 9A42     	 cmp r2,r3
 2327 0030 01D3     	 bcc .L195
 876:.././hal/sam3u1c/udc.c **** 		return false;
 2328              	 .loc 1 876 0
 2329 0032 0023     	 movs r3,#0
 2330 0034 20E0     	 b .L193
 2331              	.L195:
 877:.././hal/sam3u1c/udc.c **** 	}
 878:.././hal/sam3u1c/udc.c **** 
 879:.././hal/sam3u1c/udc.c **** 	// Select first alternate setting of the interface to update udc_ptr_iface
 880:.././hal/sam3u1c/udc.c **** 	// before call iface->getsetting()
 881:.././hal/sam3u1c/udc.c **** 	if (!udc_update_iface_desc(iface_num, 0)) {
 2332              	 .loc 1 881 0
 2333 0036 FB79     	 ldrb r3,[r7,#7]
 2334 0038 0021     	 movs r1,#0
 2335 003a 1846     	 mov r0,r3
 2336 003c 134B     	 ldr r3,.L197+12
 2337 003e 9847     	 blx r3
 2338              	.LVL47:
 2339 0040 0346     	 mov r3,r0
 2340 0042 83F00103 	 eor r3,r3,#1
 2341 0046 DBB2     	 uxtb r3,r3
 2342 0048 002B     	 cmp r3,#0
 2343 004a 01D0     	 beq .L196
 882:.././hal/sam3u1c/udc.c **** 		return false;
 2344              	 .loc 1 882 0
 2345 004c 0023     	 movs r3,#0
 2346 004e 13E0     	 b .L193
 2347              	.L196:
 883:.././hal/sam3u1c/udc.c **** 	}
 884:.././hal/sam3u1c/udc.c **** 	// Get alternate setting from UDI
 885:.././hal/sam3u1c/udc.c **** 	udi_api = udc_ptr_conf->udi_apis[iface_num];
 2348              	 .loc 1 885 0
 2349 0050 0D4B     	 ldr r3,.L197+8
 2350 0052 1B68     	 ldr r3,[r3]
 2351 0054 5A68     	 ldr r2,[r3,#4]
 2352 0056 FB79     	 ldrb r3,[r7,#7]
 2353 0058 9B00     	 lsls r3,r3,#2
 2354 005a 1344     	 add r3,r3,r2
 2355 005c 1B68     	 ldr r3,[r3]
 2356 005e 3B60     	 str r3,[r7]
 886:.././hal/sam3u1c/udc.c **** 	udc_iface_setting = udi_api->getsetting();
 2357              	 .loc 1 886 0
 2358 0060 3B68     	 ldr r3,[r7]
 2359 0062 DB68     	 ldr r3,[r3,#12]
 2360 0064 9847     	 blx r3
 2361              	.LVL48:
 2362 0066 0346     	 mov r3,r0
 2363 0068 1A46     	 mov r2,r3
 2364 006a 094B     	 ldr r3,.L197+16
 2365 006c 1A70     	 strb r2,[r3]
 887:.././hal/sam3u1c/udc.c **** 
 888:.././hal/sam3u1c/udc.c **** 	// Link value to payload pointer of request
 889:.././hal/sam3u1c/udc.c **** 	udd_set_setup_payload(&udc_iface_setting,1);
 2366              	 .loc 1 889 0
 2367 006e 0121     	 movs r1,#1
 2368 0070 0748     	 ldr r0,.L197+16
 2369 0072 084B     	 ldr r3,.L197+20
 2370 0074 9847     	 blx r3
 2371              	.LVL49:
 890:.././hal/sam3u1c/udc.c **** 	return true;
 2372              	 .loc 1 890 0
 2373 0076 0123     	 movs r3,#1
 2374              	.L193:
 891:.././hal/sam3u1c/udc.c **** }
 2375              	 .loc 1 891 0
 2376 0078 1846     	 mov r0,r3
 2377 007a 0837     	 adds r7,r7,#8
 2378              	.LCFI86:
 2379              	 .cfi_def_cfa_offset 8
 2380 007c BD46     	 mov sp,r7
 2381              	.LCFI87:
 2382              	 .cfi_def_cfa_register 13
 2383              	 
 2384 007e 80BD     	 pop {r7,pc}
 2385              	.L198:
 2386              	 .align 2
 2387              	.L197:
 2388 0080 00000000 	 .word udd_g_ctrlreq
 2389 0084 00000000 	 .word udc_num_configuration
 2390 0088 00000000 	 .word udc_ptr_conf
 2391 008c 00000000 	 .word udc_update_iface_desc
 2392 0090 00000000 	 .word udc_iface_setting.7349
 2393 0094 00000000 	 .word udd_set_setup_payload
 2394              	 .cfi_endproc
 2395              	.LFE94:
 2397              	 .section .text.udc_req_std_iface_set_setting,"ax",%progbits
 2398              	 .align 1
 2399              	 .syntax unified
 2400              	 .thumb
 2401              	 .thumb_func
 2402              	 .fpu softvfp
 2404              	udc_req_std_iface_set_setting:
 2405              	.LFB95:
 892:.././hal/sam3u1c/udc.c **** 
 893:.././hal/sam3u1c/udc.c **** /**
 894:.././hal/sam3u1c/udc.c ****  * \brief Standard interface request
 895:.././hal/sam3u1c/udc.c ****  * to set an alternate setting of an interface
 896:.././hal/sam3u1c/udc.c ****  *
 897:.././hal/sam3u1c/udc.c ****  * \return true if success
 898:.././hal/sam3u1c/udc.c ****  */
 899:.././hal/sam3u1c/udc.c **** static bool udc_req_std_iface_set_setting(void)
 900:.././hal/sam3u1c/udc.c **** {
 2406              	 .loc 1 900 0
 2407              	 .cfi_startproc
 2408              	 
 2409              	 
 2410 0000 80B5     	 push {r7,lr}
 2411              	.LCFI88:
 2412              	 .cfi_def_cfa_offset 8
 2413              	 .cfi_offset 7,-8
 2414              	 .cfi_offset 14,-4
 2415 0002 82B0     	 sub sp,sp,#8
 2416              	.LCFI89:
 2417              	 .cfi_def_cfa_offset 16
 2418 0004 00AF     	 add r7,sp,#0
 2419              	.LCFI90:
 2420              	 .cfi_def_cfa_register 7
 901:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num, setting_num;
 902:.././hal/sam3u1c/udc.c **** 
 903:.././hal/sam3u1c/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 2421              	 .loc 1 903 0
 2422 0006 144B     	 ldr r3,.L204
 2423 0008 DB88     	 ldrh r3,[r3,#6]
 2424 000a 002B     	 cmp r3,#0
 2425 000c 01D0     	 beq .L200
 904:.././hal/sam3u1c/udc.c **** 		return false; // Error in request
 2426              	 .loc 1 904 0
 2427 000e 0023     	 movs r3,#0
 2428 0010 1EE0     	 b .L201
 2429              	.L200:
 905:.././hal/sam3u1c/udc.c **** 	}
 906:.././hal/sam3u1c/udc.c **** 	if (!udc_num_configuration) {
 2430              	 .loc 1 906 0
 2431 0012 124B     	 ldr r3,.L204+4
 2432 0014 1B78     	 ldrb r3,[r3]
 2433 0016 002B     	 cmp r3,#0
 2434 0018 01D1     	 bne .L202
 907:.././hal/sam3u1c/udc.c **** 		return false; // The device is not is configured state yet
 2435              	 .loc 1 907 0
 2436 001a 0023     	 movs r3,#0
 2437 001c 18E0     	 b .L201
 2438              	.L202:
 908:.././hal/sam3u1c/udc.c **** 	}
 909:.././hal/sam3u1c/udc.c **** 
 910:.././hal/sam3u1c/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 2439              	 .loc 1 910 0
 2440 001e 0E4B     	 ldr r3,.L204
 2441 0020 9B88     	 ldrh r3,[r3,#4]
 2442 0022 FB71     	 strb r3,[r7,#7]
 911:.././hal/sam3u1c/udc.c **** 	setting_num = udd_g_ctrlreq.req.wValue & 0xFF;
 2443              	 .loc 1 911 0
 2444 0024 0C4B     	 ldr r3,.L204
 2445 0026 5B88     	 ldrh r3,[r3,#2]
 2446 0028 BB71     	 strb r3,[r7,#6]
 912:.././hal/sam3u1c/udc.c **** 
 913:.././hal/sam3u1c/udc.c **** 	// Disable current setting
 914:.././hal/sam3u1c/udc.c **** 	if (!udc_iface_disable(iface_num)) {
 2447              	 .loc 1 914 0
 2448 002a FB79     	 ldrb r3,[r7,#7]
 2449 002c 1846     	 mov r0,r3
 2450 002e 0C4B     	 ldr r3,.L204+8
 2451 0030 9847     	 blx r3
 2452              	.LVL50:
 2453 0032 0346     	 mov r3,r0
 2454 0034 83F00103 	 eor r3,r3,#1
 2455 0038 DBB2     	 uxtb r3,r3
 2456 003a 002B     	 cmp r3,#0
 2457 003c 01D0     	 beq .L203
 915:.././hal/sam3u1c/udc.c **** 		return false;
 2458              	 .loc 1 915 0
 2459 003e 0023     	 movs r3,#0
 2460 0040 06E0     	 b .L201
 2461              	.L203:
 916:.././hal/sam3u1c/udc.c **** 	}
 917:.././hal/sam3u1c/udc.c **** 
 918:.././hal/sam3u1c/udc.c **** 	// Enable new setting
 919:.././hal/sam3u1c/udc.c **** 	return udc_iface_enable(iface_num, setting_num);
 2462              	 .loc 1 919 0
 2463 0042 BA79     	 ldrb r2,[r7,#6]
 2464 0044 FB79     	 ldrb r3,[r7,#7]
 2465 0046 1146     	 mov r1,r2
 2466 0048 1846     	 mov r0,r3
 2467 004a 064B     	 ldr r3,.L204+12
 2468 004c 9847     	 blx r3
 2469              	.LVL51:
 2470 004e 0346     	 mov r3,r0
 2471              	.L201:
 920:.././hal/sam3u1c/udc.c **** }
 2472              	 .loc 1 920 0
 2473 0050 1846     	 mov r0,r3
 2474 0052 0837     	 adds r7,r7,#8
 2475              	.LCFI91:
 2476              	 .cfi_def_cfa_offset 8
 2477 0054 BD46     	 mov sp,r7
 2478              	.LCFI92:
 2479              	 .cfi_def_cfa_register 13
 2480              	 
 2481 0056 80BD     	 pop {r7,pc}
 2482              	.L205:
 2483              	 .align 2
 2484              	.L204:
 2485 0058 00000000 	 .word udd_g_ctrlreq
 2486 005c 00000000 	 .word udc_num_configuration
 2487 0060 00000000 	 .word udc_iface_disable
 2488 0064 00000000 	 .word udc_iface_enable
 2489              	 .cfi_endproc
 2490              	.LFE95:
 2492              	 .section .text.udc_reqstd,"ax",%progbits
 2493              	 .align 1
 2494              	 .syntax unified
 2495              	 .thumb
 2496              	 .thumb_func
 2497              	 .fpu softvfp
 2499              	udc_reqstd:
 2500              	.LFB96:
 921:.././hal/sam3u1c/udc.c **** 
 922:.././hal/sam3u1c/udc.c **** /**
 923:.././hal/sam3u1c/udc.c ****  * \brief Main routine to manage the standard USB SETUP request
 924:.././hal/sam3u1c/udc.c ****  *
 925:.././hal/sam3u1c/udc.c ****  * \return true if the request is supported
 926:.././hal/sam3u1c/udc.c ****  */
 927:.././hal/sam3u1c/udc.c **** static bool udc_reqstd(void)
 928:.././hal/sam3u1c/udc.c **** {
 2501              	 .loc 1 928 0
 2502              	 .cfi_startproc
 2503              	 
 2504              	 
 2505 0000 80B5     	 push {r7,lr}
 2506              	.LCFI93:
 2507              	 .cfi_def_cfa_offset 8
 2508              	 .cfi_offset 7,-8
 2509              	 .cfi_offset 14,-4
 2510 0002 00AF     	 add r7,sp,#0
 2511              	.LCFI94:
 2512              	 .cfi_def_cfa_register 7
 929:.././hal/sam3u1c/udc.c **** 	if (Udd_setup_is_in()) {
 2513              	 .loc 1 929 0
 2514 0004 4D4B     	 ldr r3,.L237
 2515 0006 1B78     	 ldrb r3,[r3]
 2516 0008 5BB2     	 sxtb r3,r3
 2517 000a 002B     	 cmp r3,#0
 2518 000c 3EDA     	 bge .L207
 930:.././hal/sam3u1c/udc.c **** 		// GET Standard Requests
 931:.././hal/sam3u1c/udc.c **** 		if (udd_g_ctrlreq.req.wLength == 0) {
 2519              	 .loc 1 931 0
 2520 000e 4B4B     	 ldr r3,.L237
 2521 0010 DB88     	 ldrh r3,[r3,#6]
 2522 0012 002B     	 cmp r3,#0
 2523 0014 01D1     	 bne .L208
 932:.././hal/sam3u1c/udc.c **** 			return false; // Error for USB host
 2524              	 .loc 1 932 0
 2525 0016 0023     	 movs r3,#0
 2526 0018 8EE0     	 b .L209
 2527              	.L208:
 933:.././hal/sam3u1c/udc.c **** 		}
 934:.././hal/sam3u1c/udc.c **** 
 935:.././hal/sam3u1c/udc.c **** 		if (USB_REQ_RECIP_DEVICE == Udd_setup_recipient()) {
 2528              	 .loc 1 935 0
 2529 001a 484B     	 ldr r3,.L237
 2530 001c 1B78     	 ldrb r3,[r3]
 2531 001e 03F01F03 	 and r3,r3,#31
 2532 0022 002B     	 cmp r3,#0
 2533 0024 14D1     	 bne .L210
 936:.././hal/sam3u1c/udc.c **** 			// Standard Get Device request
 937:.././hal/sam3u1c/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2534              	 .loc 1 937 0
 2535 0026 454B     	 ldr r3,.L237
 2536 0028 5B78     	 ldrb r3,[r3,#1]
 2537 002a 062B     	 cmp r3,#6
 2538 002c 08D0     	 beq .L212
 2539 002e 082B     	 cmp r3,#8
 2540 0030 0AD0     	 beq .L213
 2541 0032 002B     	 cmp r3,#0
 2542 0034 00D0     	 beq .L214
 938:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_STATUS:
 939:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_get_status();
 940:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_DESCRIPTOR:
 941:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_get_descriptor();
 942:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_CONFIGURATION:
 943:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_get_configuration();
 944:.././hal/sam3u1c/udc.c **** 			default:
 945:.././hal/sam3u1c/udc.c **** 				break;
 2543              	 .loc 1 945 0
 2544 0036 0BE0     	 b .L210
 2545              	.L214:
 939:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_DESCRIPTOR:
 2546              	 .loc 1 939 0
 2547 0038 414B     	 ldr r3,.L237+4
 2548 003a 9847     	 blx r3
 2549              	.LVL52:
 2550 003c 0346     	 mov r3,r0
 2551 003e 7BE0     	 b .L209
 2552              	.L212:
 941:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_CONFIGURATION:
 2553              	 .loc 1 941 0
 2554 0040 404B     	 ldr r3,.L237+8
 2555 0042 9847     	 blx r3
 2556              	.LVL53:
 2557 0044 0346     	 mov r3,r0
 2558 0046 77E0     	 b .L209
 2559              	.L213:
 943:.././hal/sam3u1c/udc.c **** 			default:
 2560              	 .loc 1 943 0
 2561 0048 3F4B     	 ldr r3,.L237+12
 2562 004a 9847     	 blx r3
 2563              	.LVL54:
 2564 004c 0346     	 mov r3,r0
 2565 004e 73E0     	 b .L209
 2566              	.L210:
 946:.././hal/sam3u1c/udc.c **** 			}
 947:.././hal/sam3u1c/udc.c **** 		}
 948:.././hal/sam3u1c/udc.c **** 
 949:.././hal/sam3u1c/udc.c **** 		if (USB_REQ_RECIP_INTERFACE == Udd_setup_recipient()) {
 2567              	 .loc 1 949 0
 2568 0050 3A4B     	 ldr r3,.L237
 2569 0052 1B78     	 ldrb r3,[r3]
 2570 0054 03F01F03 	 and r3,r3,#31
 2571 0058 012B     	 cmp r3,#1
 2572 005a 08D1     	 bne .L215
 950:.././hal/sam3u1c/udc.c **** 			// Standard Get Interface request
 951:.././hal/sam3u1c/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2573              	 .loc 1 951 0
 2574 005c 374B     	 ldr r3,.L237
 2575 005e 5B78     	 ldrb r3,[r3,#1]
 2576 0060 0A2B     	 cmp r3,#10
 2577 0062 00D0     	 beq .L217
 952:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_INTERFACE:
 953:.././hal/sam3u1c/udc.c **** 				return udc_req_std_iface_get_setting();
 954:.././hal/sam3u1c/udc.c **** 			default:
 955:.././hal/sam3u1c/udc.c **** 				break;
 2578              	 .loc 1 955 0
 2579 0064 03E0     	 b .L215
 2580              	.L217:
 953:.././hal/sam3u1c/udc.c **** 			default:
 2581              	 .loc 1 953 0
 2582 0066 394B     	 ldr r3,.L237+16
 2583 0068 9847     	 blx r3
 2584              	.LVL55:
 2585 006a 0346     	 mov r3,r0
 2586 006c 64E0     	 b .L209
 2587              	.L215:
 956:.././hal/sam3u1c/udc.c **** 			}
 957:.././hal/sam3u1c/udc.c **** 		}
 958:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 959:.././hal/sam3u1c/udc.c **** 		if (USB_REQ_RECIP_ENDPOINT == Udd_setup_recipient()) {
 2588              	 .loc 1 959 0
 2589 006e 334B     	 ldr r3,.L237
 2590 0070 1B78     	 ldrb r3,[r3]
 2591 0072 03F01F03 	 and r3,r3,#31
 2592 0076 022B     	 cmp r3,#2
 2593 0078 5DD1     	 bne .L221
 960:.././hal/sam3u1c/udc.c **** 			// Standard Get Endpoint request
 961:.././hal/sam3u1c/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2594              	 .loc 1 961 0
 2595 007a 304B     	 ldr r3,.L237
 2596 007c 5B78     	 ldrb r3,[r3,#1]
 2597 007e 002B     	 cmp r3,#0
 2598 0080 00D0     	 beq .L220
 962:.././hal/sam3u1c/udc.c **** 			case USB_REQ_GET_STATUS:
 963:.././hal/sam3u1c/udc.c **** 				return udc_req_std_ep_get_status();
 964:.././hal/sam3u1c/udc.c **** 			default:
 965:.././hal/sam3u1c/udc.c **** 				break;
 2599              	 .loc 1 965 0
 2600 0082 58E0     	 b .L221
 2601              	.L220:
 963:.././hal/sam3u1c/udc.c **** 			default:
 2602              	 .loc 1 963 0
 2603 0084 324B     	 ldr r3,.L237+20
 2604 0086 9847     	 blx r3
 2605              	.LVL56:
 2606 0088 0346     	 mov r3,r0
 2607 008a 55E0     	 b .L209
 2608              	.L207:
 966:.././hal/sam3u1c/udc.c **** 			}
 967:.././hal/sam3u1c/udc.c **** 		}
 968:.././hal/sam3u1c/udc.c **** #endif
 969:.././hal/sam3u1c/udc.c **** 	} else {
 970:.././hal/sam3u1c/udc.c **** 		// SET Standard Requests
 971:.././hal/sam3u1c/udc.c **** 		if (USB_REQ_RECIP_DEVICE == Udd_setup_recipient()) {
 2609              	 .loc 1 971 0
 2610 008c 2B4B     	 ldr r3,.L237
 2611 008e 1B78     	 ldrb r3,[r3]
 2612 0090 03F01F03 	 and r3,r3,#31
 2613 0094 002B     	 cmp r3,#0
 2614 0096 2AD1     	 bne .L222
 972:.././hal/sam3u1c/udc.c **** 			// Standard Set Device request
 973:.././hal/sam3u1c/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2615              	 .loc 1 973 0
 2616 0098 284B     	 ldr r3,.L237
 2617 009a 5B78     	 ldrb r3,[r3,#1]
 2618 009c 013B     	 subs r3,r3,#1
 2619 009e 082B     	 cmp r3,#8
 2620 00a0 24D8     	 bhi .L236
 2621 00a2 01A2     	 adr r2,.L225
 2622 00a4 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 2623              	 .p2align 2
 2624              	.L225:
 2625 00a8 D5000000 	 .word .L224+1
 2626 00ac ED000000 	 .word .L236+1
 2627 00b0 DD000000 	 .word .L226+1
 2628 00b4 ED000000 	 .word .L236+1
 2629 00b8 CD000000 	 .word .L227+1
 2630 00bc ED000000 	 .word .L236+1
 2631 00c0 ED000000 	 .word .L236+1
 2632 00c4 ED000000 	 .word .L236+1
 2633 00c8 E5000000 	 .word .L229+1
 2634              	 .p2align 1
 2635              	.L227:
 974:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_ADDRESS:
 975:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_set_address();
 2636              	 .loc 1 975 0
 2637 00cc 214B     	 ldr r3,.L237+24
 2638 00ce 9847     	 blx r3
 2639              	.LVL57:
 2640 00d0 0346     	 mov r3,r0
 2641 00d2 31E0     	 b .L209
 2642              	.L224:
 976:.././hal/sam3u1c/udc.c **** 			case USB_REQ_CLEAR_FEATURE:
 977:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_clear_feature();
 2643              	 .loc 1 977 0
 2644 00d4 204B     	 ldr r3,.L237+28
 2645 00d6 9847     	 blx r3
 2646              	.LVL58:
 2647 00d8 0346     	 mov r3,r0
 2648 00da 2DE0     	 b .L209
 2649              	.L226:
 978:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_FEATURE:
 979:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_set_feature();
 2650              	 .loc 1 979 0
 2651 00dc 1F4B     	 ldr r3,.L237+32
 2652 00de 9847     	 blx r3
 2653              	.LVL59:
 2654 00e0 0346     	 mov r3,r0
 2655 00e2 29E0     	 b .L209
 2656              	.L229:
 980:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_CONFIGURATION:
 981:.././hal/sam3u1c/udc.c **** 				return udc_req_std_dev_set_configuration();
 2657              	 .loc 1 981 0
 2658 00e4 1E4B     	 ldr r3,.L237+36
 2659 00e6 9847     	 blx r3
 2660              	.LVL60:
 2661 00e8 0346     	 mov r3,r0
 2662 00ea 25E0     	 b .L209
 2663              	.L236:
 982:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_DESCRIPTOR:
 983:.././hal/sam3u1c/udc.c **** 				/* Not supported (defined as optional by the USB 2.0 spec) */
 984:.././hal/sam3u1c/udc.c **** 				break;
 985:.././hal/sam3u1c/udc.c **** 			default:
 986:.././hal/sam3u1c/udc.c **** 				break;
 2664              	 .loc 1 986 0
 2665 00ec 00BF     	 nop
 2666              	.L222:
 987:.././hal/sam3u1c/udc.c **** 			}
 988:.././hal/sam3u1c/udc.c **** 		}
 989:.././hal/sam3u1c/udc.c **** 
 990:.././hal/sam3u1c/udc.c **** 		if (USB_REQ_RECIP_INTERFACE == Udd_setup_recipient()) {
 2667              	 .loc 1 990 0
 2668 00ee 134B     	 ldr r3,.L237
 2669 00f0 1B78     	 ldrb r3,[r3]
 2670 00f2 03F01F03 	 and r3,r3,#31
 2671 00f6 012B     	 cmp r3,#1
 2672 00f8 08D1     	 bne .L230
 991:.././hal/sam3u1c/udc.c **** 			// Standard Set Interface request
 992:.././hal/sam3u1c/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2673              	 .loc 1 992 0
 2674 00fa 104B     	 ldr r3,.L237
 2675 00fc 5B78     	 ldrb r3,[r3,#1]
 2676 00fe 0B2B     	 cmp r3,#11
 2677 0100 00D0     	 beq .L232
 993:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_INTERFACE:
 994:.././hal/sam3u1c/udc.c **** 				return udc_req_std_iface_set_setting();
 995:.././hal/sam3u1c/udc.c **** 			default:
 996:.././hal/sam3u1c/udc.c **** 				break;
 2678              	 .loc 1 996 0
 2679 0102 03E0     	 b .L230
 2680              	.L232:
 994:.././hal/sam3u1c/udc.c **** 			default:
 2681              	 .loc 1 994 0
 2682 0104 174B     	 ldr r3,.L237+40
 2683 0106 9847     	 blx r3
 2684              	.LVL61:
 2685 0108 0346     	 mov r3,r0
 2686 010a 15E0     	 b .L209
 2687              	.L230:
 997:.././hal/sam3u1c/udc.c **** 			}
 998:.././hal/sam3u1c/udc.c **** 		}
 999:.././hal/sam3u1c/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
1000:.././hal/sam3u1c/udc.c **** 		if (USB_REQ_RECIP_ENDPOINT == Udd_setup_recipient()) {
 2688              	 .loc 1 1000 0
 2689 010c 0B4B     	 ldr r3,.L237
 2690 010e 1B78     	 ldrb r3,[r3]
 2691 0110 03F01F03 	 and r3,r3,#31
 2692 0114 022B     	 cmp r3,#2
 2693 0116 0ED1     	 bne .L221
1001:.././hal/sam3u1c/udc.c **** 			// Standard Set Endpoint request
1002:.././hal/sam3u1c/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2694              	 .loc 1 1002 0
 2695 0118 084B     	 ldr r3,.L237
 2696 011a 5B78     	 ldrb r3,[r3,#1]
 2697 011c 012B     	 cmp r3,#1
 2698 011e 02D0     	 beq .L234
 2699 0120 032B     	 cmp r3,#3
 2700 0122 04D0     	 beq .L235
1003:.././hal/sam3u1c/udc.c **** 			case USB_REQ_CLEAR_FEATURE:
1004:.././hal/sam3u1c/udc.c **** 				return udc_req_std_ep_clear_feature();
1005:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_FEATURE:
1006:.././hal/sam3u1c/udc.c **** 				return udc_req_std_ep_set_feature();
1007:.././hal/sam3u1c/udc.c **** 			default:
1008:.././hal/sam3u1c/udc.c **** 				break;
 2701              	 .loc 1 1008 0
 2702 0124 07E0     	 b .L221
 2703              	.L234:
1004:.././hal/sam3u1c/udc.c **** 			case USB_REQ_SET_FEATURE:
 2704              	 .loc 1 1004 0
 2705 0126 104B     	 ldr r3,.L237+44
 2706 0128 9847     	 blx r3
 2707              	.LVL62:
 2708 012a 0346     	 mov r3,r0
 2709 012c 04E0     	 b .L209
 2710              	.L235:
1006:.././hal/sam3u1c/udc.c **** 			default:
 2711              	 .loc 1 1006 0
 2712 012e 0F4B     	 ldr r3,.L237+48
 2713 0130 9847     	 blx r3
 2714              	.LVL63:
 2715 0132 0346     	 mov r3,r0
 2716 0134 00E0     	 b .L209
 2717              	.L221:
1009:.././hal/sam3u1c/udc.c **** 			}
1010:.././hal/sam3u1c/udc.c **** 		}
1011:.././hal/sam3u1c/udc.c **** #endif
1012:.././hal/sam3u1c/udc.c **** 	}
1013:.././hal/sam3u1c/udc.c **** 	return false;
 2718              	 .loc 1 1013 0
 2719 0136 0023     	 movs r3,#0
 2720              	.L209:
1014:.././hal/sam3u1c/udc.c **** }
 2721              	 .loc 1 1014 0
 2722 0138 1846     	 mov r0,r3
 2723 013a 80BD     	 pop {r7,pc}
 2724              	.L238:
 2725              	 .align 2
 2726              	.L237:
 2727 013c 00000000 	 .word udd_g_ctrlreq
 2728 0140 00000000 	 .word udc_req_std_dev_get_status
 2729 0144 00000000 	 .word udc_req_std_dev_get_descriptor
 2730 0148 00000000 	 .word udc_req_std_dev_get_configuration
 2731 014c 00000000 	 .word udc_req_std_iface_get_setting
 2732 0150 00000000 	 .word udc_req_std_ep_get_status
 2733 0154 00000000 	 .word udc_req_std_dev_set_address
 2734 0158 00000000 	 .word udc_req_std_dev_clear_feature
 2735 015c 00000000 	 .word udc_req_std_dev_set_feature
 2736 0160 00000000 	 .word udc_req_std_dev_set_configuration
 2737 0164 00000000 	 .word udc_req_std_iface_set_setting
 2738 0168 00000000 	 .word udc_req_std_ep_clear_feature
 2739 016c 00000000 	 .word udc_req_std_ep_set_feature
 2740              	 .cfi_endproc
 2741              	.LFE96:
 2743              	 .section .text.udc_req_iface,"ax",%progbits
 2744              	 .align 1
 2745              	 .syntax unified
 2746              	 .thumb
 2747              	 .thumb_func
 2748              	 .fpu softvfp
 2750              	udc_req_iface:
 2751              	.LFB97:
1015:.././hal/sam3u1c/udc.c **** 
1016:.././hal/sam3u1c/udc.c **** /**
1017:.././hal/sam3u1c/udc.c ****  * \brief Send the SETUP interface request to UDI
1018:.././hal/sam3u1c/udc.c ****  *
1019:.././hal/sam3u1c/udc.c ****  * \return true if the request is supported
1020:.././hal/sam3u1c/udc.c ****  */
1021:.././hal/sam3u1c/udc.c **** static bool udc_req_iface(void)
1022:.././hal/sam3u1c/udc.c **** {
 2752              	 .loc 1 1022 0
 2753              	 .cfi_startproc
 2754              	 
 2755              	 
 2756 0000 80B5     	 push {r7,lr}
 2757              	.LCFI95:
 2758              	 .cfi_def_cfa_offset 8
 2759              	 .cfi_offset 7,-8
 2760              	 .cfi_offset 14,-4
 2761 0002 82B0     	 sub sp,sp,#8
 2762              	.LCFI96:
 2763              	 .cfi_def_cfa_offset 16
 2764 0004 00AF     	 add r7,sp,#0
 2765              	.LCFI97:
 2766              	 .cfi_def_cfa_register 7
1023:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num;
1024:.././hal/sam3u1c/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
1025:.././hal/sam3u1c/udc.c **** 
1026:.././hal/sam3u1c/udc.c **** 	if (0 == udc_num_configuration) {
 2767              	 .loc 1 1026 0
 2768 0006 204B     	 ldr r3,.L245
 2769 0008 1B78     	 ldrb r3,[r3]
 2770 000a 002B     	 cmp r3,#0
 2771 000c 01D1     	 bne .L240
1027:.././hal/sam3u1c/udc.c **** 		return false; // The device is not is configured state yet
 2772              	 .loc 1 1027 0
 2773 000e 0023     	 movs r3,#0
 2774 0010 36E0     	 b .L241
 2775              	.L240:
1028:.././hal/sam3u1c/udc.c **** 	}
1029:.././hal/sam3u1c/udc.c **** 	// Check interface number
1030:.././hal/sam3u1c/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 2776              	 .loc 1 1030 0
 2777 0012 1E4B     	 ldr r3,.L245+4
 2778 0014 9B88     	 ldrh r3,[r3,#4]
 2779 0016 FB71     	 strb r3,[r7,#7]
1031:.././hal/sam3u1c/udc.c **** 	if (iface_num >= udc_ptr_conf->desc->bNumInterfaces) {
 2780              	 .loc 1 1031 0
 2781 0018 1D4B     	 ldr r3,.L245+8
 2782 001a 1B68     	 ldr r3,[r3]
 2783 001c 1B68     	 ldr r3,[r3]
 2784 001e 1B79     	 ldrb r3,[r3,#4]
 2785 0020 FA79     	 ldrb r2,[r7,#7]
 2786 0022 9A42     	 cmp r2,r3
 2787 0024 01D3     	 bcc .L242
1032:.././hal/sam3u1c/udc.c **** 		return false;
 2788              	 .loc 1 1032 0
 2789 0026 0023     	 movs r3,#0
 2790 0028 2AE0     	 b .L241
 2791              	.L242:
1033:.././hal/sam3u1c/udc.c **** 	}
1034:.././hal/sam3u1c/udc.c **** 
1035:.././hal/sam3u1c/udc.c **** 	//* To update udc_ptr_iface with the selected interface in request
1036:.././hal/sam3u1c/udc.c **** 	// Select first alternate setting of interface to update udc_ptr_iface
1037:.././hal/sam3u1c/udc.c **** 	// before calling udi_api->getsetting()
1038:.././hal/sam3u1c/udc.c **** 	if (!udc_update_iface_desc(iface_num, 0)) {
 2792              	 .loc 1 1038 0
 2793 002a FB79     	 ldrb r3,[r7,#7]
 2794 002c 0021     	 movs r1,#0
 2795 002e 1846     	 mov r0,r3
 2796 0030 184B     	 ldr r3,.L245+12
 2797 0032 9847     	 blx r3
 2798              	.LVL64:
 2799 0034 0346     	 mov r3,r0
 2800 0036 83F00103 	 eor r3,r3,#1
 2801 003a DBB2     	 uxtb r3,r3
 2802 003c 002B     	 cmp r3,#0
 2803 003e 01D0     	 beq .L243
1039:.././hal/sam3u1c/udc.c **** 		return false;
 2804              	 .loc 1 1039 0
 2805 0040 0023     	 movs r3,#0
 2806 0042 1DE0     	 b .L241
 2807              	.L243:
1040:.././hal/sam3u1c/udc.c **** 	}
1041:.././hal/sam3u1c/udc.c **** 	// Select the interface with the current alternate setting
1042:.././hal/sam3u1c/udc.c **** 	udi_api = udc_ptr_conf->udi_apis[iface_num];
 2808              	 .loc 1 1042 0
 2809 0044 124B     	 ldr r3,.L245+8
 2810 0046 1B68     	 ldr r3,[r3]
 2811 0048 5A68     	 ldr r2,[r3,#4]
 2812 004a FB79     	 ldrb r3,[r7,#7]
 2813 004c 9B00     	 lsls r3,r3,#2
 2814 004e 1344     	 add r3,r3,r2
 2815 0050 1B68     	 ldr r3,[r3]
 2816 0052 3B60     	 str r3,[r7]
1043:.././hal/sam3u1c/udc.c **** 	if (!udc_update_iface_desc(iface_num, udi_api->getsetting())) {
 2817              	 .loc 1 1043 0
 2818 0054 3B68     	 ldr r3,[r7]
 2819 0056 DB68     	 ldr r3,[r3,#12]
 2820 0058 9847     	 blx r3
 2821              	.LVL65:
 2822 005a 0346     	 mov r3,r0
 2823 005c 1A46     	 mov r2,r3
 2824 005e FB79     	 ldrb r3,[r7,#7]
 2825 0060 1146     	 mov r1,r2
 2826 0062 1846     	 mov r0,r3
 2827 0064 0B4B     	 ldr r3,.L245+12
 2828 0066 9847     	 blx r3
 2829              	.LVL66:
 2830 0068 0346     	 mov r3,r0
 2831 006a 83F00103 	 eor r3,r3,#1
 2832 006e DBB2     	 uxtb r3,r3
 2833 0070 002B     	 cmp r3,#0
 2834 0072 01D0     	 beq .L244
1044:.././hal/sam3u1c/udc.c **** 		return false;
 2835              	 .loc 1 1044 0
 2836 0074 0023     	 movs r3,#0
 2837 0076 03E0     	 b .L241
 2838              	.L244:
1045:.././hal/sam3u1c/udc.c **** 	}
1046:.././hal/sam3u1c/udc.c **** 
1047:.././hal/sam3u1c/udc.c **** 	// Send the SETUP request to the UDI corresponding to the interface number
1048:.././hal/sam3u1c/udc.c **** 	return udi_api->setup();
 2839              	 .loc 1 1048 0
 2840 0078 3B68     	 ldr r3,[r7]
 2841 007a 9B68     	 ldr r3,[r3,#8]
 2842 007c 9847     	 blx r3
 2843              	.LVL67:
 2844 007e 0346     	 mov r3,r0
 2845              	.L241:
1049:.././hal/sam3u1c/udc.c **** }
 2846              	 .loc 1 1049 0
 2847 0080 1846     	 mov r0,r3
 2848 0082 0837     	 adds r7,r7,#8
 2849              	.LCFI98:
 2850              	 .cfi_def_cfa_offset 8
 2851 0084 BD46     	 mov sp,r7
 2852              	.LCFI99:
 2853              	 .cfi_def_cfa_register 13
 2854              	 
 2855 0086 80BD     	 pop {r7,pc}
 2856              	.L246:
 2857              	 .align 2
 2858              	.L245:
 2859 0088 00000000 	 .word udc_num_configuration
 2860 008c 00000000 	 .word udd_g_ctrlreq
 2861 0090 00000000 	 .word udc_ptr_conf
 2862 0094 00000000 	 .word udc_update_iface_desc
 2863              	 .cfi_endproc
 2864              	.LFE97:
 2866              	 .section .text.udc_req_ep,"ax",%progbits
 2867              	 .align 1
 2868              	 .syntax unified
 2869              	 .thumb
 2870              	 .thumb_func
 2871              	 .fpu softvfp
 2873              	udc_req_ep:
 2874              	.LFB98:
1050:.././hal/sam3u1c/udc.c **** 
1051:.././hal/sam3u1c/udc.c **** /**
1052:.././hal/sam3u1c/udc.c ****  * \brief Send the SETUP interface request to UDI
1053:.././hal/sam3u1c/udc.c ****  *
1054:.././hal/sam3u1c/udc.c ****  * \return true if the request is supported
1055:.././hal/sam3u1c/udc.c ****  */
1056:.././hal/sam3u1c/udc.c **** static bool udc_req_ep(void)
1057:.././hal/sam3u1c/udc.c **** {
 2875              	 .loc 1 1057 0
 2876              	 .cfi_startproc
 2877              	 
 2878              	 
 2879 0000 80B5     	 push {r7,lr}
 2880              	.LCFI100:
 2881              	 .cfi_def_cfa_offset 8
 2882              	 .cfi_offset 7,-8
 2883              	 .cfi_offset 14,-4
 2884 0002 82B0     	 sub sp,sp,#8
 2885              	.LCFI101:
 2886              	 .cfi_def_cfa_offset 16
 2887 0004 00AF     	 add r7,sp,#0
 2888              	.LCFI102:
 2889              	 .cfi_def_cfa_register 7
1058:.././hal/sam3u1c/udc.c **** 	uint8_t iface_num;
1059:.././hal/sam3u1c/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
1060:.././hal/sam3u1c/udc.c **** 
1061:.././hal/sam3u1c/udc.c **** 	if (0 == udc_num_configuration) {
 2890              	 .loc 1 1061 0
 2891 0006 1E4B     	 ldr r3,.L254
 2892 0008 1B78     	 ldrb r3,[r3]
 2893 000a 002B     	 cmp r3,#0
 2894 000c 01D1     	 bne .L248
1062:.././hal/sam3u1c/udc.c **** 		return false; // The device is not is configured state yet
 2895              	 .loc 1 1062 0
 2896 000e 0023     	 movs r3,#0
 2897 0010 32E0     	 b .L249
 2898              	.L248:
1063:.././hal/sam3u1c/udc.c **** 	}
1064:.././hal/sam3u1c/udc.c **** 	// Send this request on all enabled interfaces
1065:.././hal/sam3u1c/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 2899              	 .loc 1 1065 0
 2900 0012 1C4B     	 ldr r3,.L254+4
 2901 0014 9B88     	 ldrh r3,[r3,#4]
 2902 0016 FB71     	 strb r3,[r7,#7]
1066:.././hal/sam3u1c/udc.c **** 	for (iface_num = 0; iface_num < udc_ptr_conf->desc->bNumInterfaces;
 2903              	 .loc 1 1066 0
 2904 0018 0023     	 movs r3,#0
 2905 001a FB71     	 strb r3,[r7,#7]
 2906 001c 24E0     	 b .L250
 2907              	.L253:
1067:.././hal/sam3u1c/udc.c **** 			iface_num++) {
1068:.././hal/sam3u1c/udc.c **** 		// Select the interface with the current alternate setting
1069:.././hal/sam3u1c/udc.c **** 		udi_api = udc_ptr_conf->udi_apis[iface_num];
 2908              	 .loc 1 1069 0
 2909 001e 1A4B     	 ldr r3,.L254+8
 2910 0020 1B68     	 ldr r3,[r3]
 2911 0022 5A68     	 ldr r2,[r3,#4]
 2912 0024 FB79     	 ldrb r3,[r7,#7]
 2913 0026 9B00     	 lsls r3,r3,#2
 2914 0028 1344     	 add r3,r3,r2
 2915 002a 1B68     	 ldr r3,[r3]
 2916 002c 3B60     	 str r3,[r7]
1070:.././hal/sam3u1c/udc.c **** 		if (!udc_update_iface_desc(iface_num, udi_api->getsetting())) {
 2917              	 .loc 1 1070 0
 2918 002e 3B68     	 ldr r3,[r7]
 2919 0030 DB68     	 ldr r3,[r3,#12]
 2920 0032 9847     	 blx r3
 2921              	.LVL68:
 2922 0034 0346     	 mov r3,r0
 2923 0036 1A46     	 mov r2,r3
 2924 0038 FB79     	 ldrb r3,[r7,#7]
 2925 003a 1146     	 mov r1,r2
 2926 003c 1846     	 mov r0,r3
 2927 003e 134B     	 ldr r3,.L254+12
 2928 0040 9847     	 blx r3
 2929              	.LVL69:
 2930 0042 0346     	 mov r3,r0
 2931 0044 83F00103 	 eor r3,r3,#1
 2932 0048 DBB2     	 uxtb r3,r3
 2933 004a 002B     	 cmp r3,#0
 2934 004c 01D0     	 beq .L251
1071:.././hal/sam3u1c/udc.c **** 			return false;
 2935              	 .loc 1 1071 0
 2936 004e 0023     	 movs r3,#0
 2937 0050 12E0     	 b .L249
 2938              	.L251:
1072:.././hal/sam3u1c/udc.c **** 		}
1073:.././hal/sam3u1c/udc.c **** 
1074:.././hal/sam3u1c/udc.c **** 		// Send the SETUP request to the UDI
1075:.././hal/sam3u1c/udc.c **** 		if (udi_api->setup()) {
 2939              	 .loc 1 1075 0
 2940 0052 3B68     	 ldr r3,[r7]
 2941 0054 9B68     	 ldr r3,[r3,#8]
 2942 0056 9847     	 blx r3
 2943              	.LVL70:
 2944 0058 0346     	 mov r3,r0
 2945 005a 002B     	 cmp r3,#0
 2946 005c 01D0     	 beq .L252
1076:.././hal/sam3u1c/udc.c **** 			return true;
 2947              	 .loc 1 1076 0
 2948 005e 0123     	 movs r3,#1
 2949 0060 0AE0     	 b .L249
 2950              	.L252:
1067:.././hal/sam3u1c/udc.c **** 		// Select the interface with the current alternate setting
 2951              	 .loc 1 1067 0
 2952 0062 FB79     	 ldrb r3,[r7,#7]
 2953 0064 0133     	 adds r3,r3,#1
 2954 0066 FB71     	 strb r3,[r7,#7]
 2955              	.L250:
1066:.././hal/sam3u1c/udc.c **** 			iface_num++) {
 2956              	 .loc 1 1066 0 discriminator 1
 2957 0068 074B     	 ldr r3,.L254+8
 2958 006a 1B68     	 ldr r3,[r3]
 2959 006c 1B68     	 ldr r3,[r3]
 2960 006e 1B79     	 ldrb r3,[r3,#4]
 2961 0070 FA79     	 ldrb r2,[r7,#7]
 2962 0072 9A42     	 cmp r2,r3
 2963 0074 D3D3     	 bcc .L253
1077:.././hal/sam3u1c/udc.c **** 		}
1078:.././hal/sam3u1c/udc.c **** 	}
1079:.././hal/sam3u1c/udc.c **** 	return false;
 2964              	 .loc 1 1079 0
 2965 0076 0023     	 movs r3,#0
 2966              	.L249:
1080:.././hal/sam3u1c/udc.c **** }
 2967              	 .loc 1 1080 0
 2968 0078 1846     	 mov r0,r3
 2969 007a 0837     	 adds r7,r7,#8
 2970              	.LCFI103:
 2971              	 .cfi_def_cfa_offset 8
 2972 007c BD46     	 mov sp,r7
 2973              	.LCFI104:
 2974              	 .cfi_def_cfa_register 13
 2975              	 
 2976 007e 80BD     	 pop {r7,pc}
 2977              	.L255:
 2978              	 .align 2
 2979              	.L254:
 2980 0080 00000000 	 .word udc_num_configuration
 2981 0084 00000000 	 .word udd_g_ctrlreq
 2982 0088 00000000 	 .word udc_ptr_conf
 2983 008c 00000000 	 .word udc_update_iface_desc
 2984              	 .cfi_endproc
 2985              	.LFE98:
 2987              	 .section .text.udc_process_setup,"ax",%progbits
 2988              	 .align 1
 2989              	 .global udc_process_setup
 2990              	 .syntax unified
 2991              	 .thumb
 2992              	 .thumb_func
 2993              	 .fpu softvfp
 2995              	udc_process_setup:
 2996              	.LFB99:
1081:.././hal/sam3u1c/udc.c **** 
1082:.././hal/sam3u1c/udc.c **** /**
1083:.././hal/sam3u1c/udc.c ****  * \brief Main routine to manage the USB SETUP request.
1084:.././hal/sam3u1c/udc.c ****  *
1085:.././hal/sam3u1c/udc.c ****  * This function parses a USB SETUP request and submits an appropriate
1086:.././hal/sam3u1c/udc.c ****  * response back to the host or, in the case of SETUP OUT requests
1087:.././hal/sam3u1c/udc.c ****  * with data, sets up a buffer for receiving the data payload.
1088:.././hal/sam3u1c/udc.c ****  *
1089:.././hal/sam3u1c/udc.c ****  * The main standard requests defined by the USB 2.0 standard are handled
1090:.././hal/sam3u1c/udc.c ****  * internally. The interface requests are sent to UDI, and the specific request
1091:.././hal/sam3u1c/udc.c ****  * sent to a specific application callback.
1092:.././hal/sam3u1c/udc.c ****  *
1093:.././hal/sam3u1c/udc.c ****  * \return true if the request is supported, else the request is stalled by UDD
1094:.././hal/sam3u1c/udc.c ****  */
1095:.././hal/sam3u1c/udc.c **** bool udc_process_setup(void)
1096:.././hal/sam3u1c/udc.c **** {
 2997              	 .loc 1 1096 0
 2998              	 .cfi_startproc
 2999              	 
 3000              	 
 3001 0000 80B5     	 push {r7,lr}
 3002              	.LCFI105:
 3003              	 .cfi_def_cfa_offset 8
 3004              	 .cfi_offset 7,-8
 3005              	 .cfi_offset 14,-4
 3006 0002 00AF     	 add r7,sp,#0
 3007              	.LCFI106:
 3008              	 .cfi_def_cfa_register 7
1097:.././hal/sam3u1c/udc.c **** 	// By default no data (receive/send) and no callbacks registered
1098:.././hal/sam3u1c/udc.c **** 	udd_g_ctrlreq.payload_size = 0;
 3009              	 .loc 1 1098 0
 3010 0004 1E4B     	 ldr r3,.L262
 3011 0006 0022     	 movs r2,#0
 3012 0008 9A81     	 strh r2,[r3,#12]
1099:.././hal/sam3u1c/udc.c **** 	udd_g_ctrlreq.callback = NULL;
 3013              	 .loc 1 1099 0
 3014 000a 1D4B     	 ldr r3,.L262
 3015 000c 0022     	 movs r2,#0
 3016 000e 1A61     	 str r2,[r3,#16]
1100:.././hal/sam3u1c/udc.c **** 	udd_g_ctrlreq.over_under_run = NULL;
 3017              	 .loc 1 1100 0
 3018 0010 1B4B     	 ldr r3,.L262
 3019 0012 0022     	 movs r2,#0
 3020 0014 5A61     	 str r2,[r3,#20]
1101:.././hal/sam3u1c/udc.c **** 
1102:.././hal/sam3u1c/udc.c **** 	if (Udd_setup_is_in()) {
 3021              	 .loc 1 1102 0
 3022 0016 1A4B     	 ldr r3,.L262
 3023 0018 1B78     	 ldrb r3,[r3]
 3024 001a 5BB2     	 sxtb r3,r3
 3025 001c 002B     	 cmp r3,#0
 3026 001e 05DA     	 bge .L257
1103:.././hal/sam3u1c/udc.c **** 		if (udd_g_ctrlreq.req.wLength == 0) {
 3027              	 .loc 1 1103 0
 3028 0020 174B     	 ldr r3,.L262
 3029 0022 DB88     	 ldrh r3,[r3,#6]
 3030 0024 002B     	 cmp r3,#0
 3031 0026 01D1     	 bne .L257
1104:.././hal/sam3u1c/udc.c **** 			return false; // Error from USB host
 3032              	 .loc 1 1104 0
 3033 0028 0023     	 movs r3,#0
 3034 002a 27E0     	 b .L258
 3035              	.L257:
1105:.././hal/sam3u1c/udc.c **** 		}
1106:.././hal/sam3u1c/udc.c **** 	}
1107:.././hal/sam3u1c/udc.c **** 
1108:.././hal/sam3u1c/udc.c **** 	// If standard request then try to decode it in UDC
1109:.././hal/sam3u1c/udc.c **** 	if (Udd_setup_type() == USB_REQ_TYPE_STANDARD) {
 3036              	 .loc 1 1109 0
 3037 002c 144B     	 ldr r3,.L262
 3038 002e 1B78     	 ldrb r3,[r3]
 3039 0030 03F06003 	 and r3,r3,#96
 3040 0034 002B     	 cmp r3,#0
 3041 0036 06D1     	 bne .L259
1110:.././hal/sam3u1c/udc.c **** 		if (udc_reqstd()) {
 3042              	 .loc 1 1110 0
 3043 0038 124B     	 ldr r3,.L262+4
 3044 003a 9847     	 blx r3
 3045              	.LVL71:
 3046 003c 0346     	 mov r3,r0
 3047 003e 002B     	 cmp r3,#0
 3048 0040 01D0     	 beq .L259
1111:.././hal/sam3u1c/udc.c **** 			return true;
 3049              	 .loc 1 1111 0
 3050 0042 0123     	 movs r3,#1
 3051 0044 1AE0     	 b .L258
 3052              	.L259:
1112:.././hal/sam3u1c/udc.c **** 		}
1113:.././hal/sam3u1c/udc.c **** 	}
1114:.././hal/sam3u1c/udc.c **** 
1115:.././hal/sam3u1c/udc.c **** 	// If interface request then try to decode it in UDI
1116:.././hal/sam3u1c/udc.c **** 	if (Udd_setup_recipient() == USB_REQ_RECIP_INTERFACE) {
 3053              	 .loc 1 1116 0
 3054 0046 0E4B     	 ldr r3,.L262
 3055 0048 1B78     	 ldrb r3,[r3]
 3056 004a 03F01F03 	 and r3,r3,#31
 3057 004e 012B     	 cmp r3,#1
 3058 0050 06D1     	 bne .L260
1117:.././hal/sam3u1c/udc.c **** 		if (udc_req_iface()) {
 3059              	 .loc 1 1117 0
 3060 0052 0D4B     	 ldr r3,.L262+8
 3061 0054 9847     	 blx r3
 3062              	.LVL72:
 3063 0056 0346     	 mov r3,r0
 3064 0058 002B     	 cmp r3,#0
 3065 005a 01D0     	 beq .L260
1118:.././hal/sam3u1c/udc.c **** 			return true;
 3066              	 .loc 1 1118 0
 3067 005c 0123     	 movs r3,#1
 3068 005e 0DE0     	 b .L258
 3069              	.L260:
1119:.././hal/sam3u1c/udc.c **** 		}
1120:.././hal/sam3u1c/udc.c **** 	}
1121:.././hal/sam3u1c/udc.c **** 
1122:.././hal/sam3u1c/udc.c **** 	// If endpoint request then try to decode it in UDI
1123:.././hal/sam3u1c/udc.c **** 	if (Udd_setup_recipient() == USB_REQ_RECIP_ENDPOINT) {
 3070              	 .loc 1 1123 0
 3071 0060 074B     	 ldr r3,.L262
 3072 0062 1B78     	 ldrb r3,[r3]
 3073 0064 03F01F03 	 and r3,r3,#31
 3074 0068 022B     	 cmp r3,#2
 3075 006a 06D1     	 bne .L261
1124:.././hal/sam3u1c/udc.c **** 		if (udc_req_ep()) {
 3076              	 .loc 1 1124 0
 3077 006c 074B     	 ldr r3,.L262+12
 3078 006e 9847     	 blx r3
 3079              	.LVL73:
 3080 0070 0346     	 mov r3,r0
 3081 0072 002B     	 cmp r3,#0
 3082 0074 01D0     	 beq .L261
1125:.././hal/sam3u1c/udc.c **** 			return true;
 3083              	 .loc 1 1125 0
 3084 0076 0123     	 movs r3,#1
 3085 0078 00E0     	 b .L258
 3086              	.L261:
1126:.././hal/sam3u1c/udc.c **** 		}
1127:.././hal/sam3u1c/udc.c **** 	}
1128:.././hal/sam3u1c/udc.c **** 
1129:.././hal/sam3u1c/udc.c **** 	// Here SETUP request unknown by UDC and UDIs
1130:.././hal/sam3u1c/udc.c **** #ifdef USB_DEVICE_SPECIFIC_REQUEST
1131:.././hal/sam3u1c/udc.c **** 	// Try to decode it in specific callback
1132:.././hal/sam3u1c/udc.c **** 	return USB_DEVICE_SPECIFIC_REQUEST(); // Ex: Vendor request,...
1133:.././hal/sam3u1c/udc.c **** #else
1134:.././hal/sam3u1c/udc.c **** 	return false;
 3087              	 .loc 1 1134 0
 3088 007a 0023     	 movs r3,#0
 3089              	.L258:
1135:.././hal/sam3u1c/udc.c **** #endif
1136:.././hal/sam3u1c/udc.c **** }
 3090              	 .loc 1 1136 0
 3091 007c 1846     	 mov r0,r3
 3092 007e 80BD     	 pop {r7,pc}
 3093              	.L263:
 3094              	 .align 2
 3095              	.L262:
 3096 0080 00000000 	 .word udd_g_ctrlreq
 3097 0084 00000000 	 .word udc_reqstd
 3098 0088 00000000 	 .word udc_req_iface
 3099 008c 00000000 	 .word udc_req_ep
 3100              	 .cfi_endproc
 3101              	.LFE99:
 3103              	 .section .bss.udc_ep_status.7279,"aw",%nobits
 3104              	 .align 1
 3107              	udc_ep_status.7279:
 3108 0000 0000     	 .space 2
 3109              	 .section .bss.udc_iface_setting.7349,"aw",%nobits
 3112              	udc_iface_setting.7349:
 3113 0000 00       	 .space 1
 3114              	 .text
 3115              	.Letext0:
 3116              	 .file 2 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 3117              	 .file 3 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 3118              	 .file 4 ".././hal/sam3u1c/inc/core_cm3.h"
 3119              	 .file 5 ".././hal/sam3u1c/inc/system_sam3u.h"
 3120              	 .file 6 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\lock.h"
 3121              	 .file 7 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\_types.h"
 3122              	 .file 8 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 3123              	 .file 9 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\reent.h"
 3124              	 .file 10 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\stdlib.h"
 3125              	 .file 11 ".././hal/sam3u1c/inc/interrupt/interrupt_sam_nvic.h"
 3126              	 .file 12 ".././hal/sam3u1c/inc/compiler.h"
 3127              	 .file 13 "./conf_usb.h"
 3128              	 .file 14 ".././hal/sam3u1c/inc/usb_protocol.h"
 3129              	 .file 15 ".././hal/sam3u1c/inc/udi.h"
 3130              	 .file 16 ".././hal/sam3u1c/inc/udc_desc.h"
 3131              	 .file 17 ".././hal/sam3u1c/inc/udd.h"
 3132              	 .file 18 ".././hal/sam3u1c/inc/udi_vendor.h"
DEFINED SYMBOLS
                            *ABS*:00000000 udc.c
    {standard input}:16     .bss.cpu_irq_critical_section_counter:00000000 $d
    {standard input}:19     .bss.cpu_irq_critical_section_counter:00000000 cpu_irq_critical_section_counter
    {standard input}:24     .bss.cpu_irq_prev_interrupt_state:00000000 cpu_irq_prev_interrupt_state
    {standard input}:25     .bss.cpu_irq_prev_interrupt_state:00000000 $d
    {standard input}:27     .bss.udc_device_status:00000000 $d
    {standard input}:30     .bss.udc_device_status:00000000 udc_device_status
    {standard input}:35     .bss.udc_num_configuration:00000000 udc_num_configuration
    {standard input}:36     .bss.udc_num_configuration:00000000 $d
    {standard input}:38     .bss.udc_ptr_conf:00000000 $d
    {standard input}:41     .bss.udc_ptr_conf:00000000 udc_ptr_conf
    {standard input}:44     .bss.udc_ptr_iface:00000000 $d
    {standard input}:47     .bss.udc_ptr_iface:00000000 udc_ptr_iface
    {standard input}:50     .data.udc_string_desc_languageid:00000000 $d
    {standard input}:53     .data.udc_string_desc_languageid:00000000 udc_string_desc_languageid
    {standard input}:58     .data.udc_string_manufacturer_name:00000000 $d
    {standard input}:61     .data.udc_string_manufacturer_name:00000000 udc_string_manufacturer_name
    {standard input}:64     .data.udc_string_product_name:00000000 $d
    {standard input}:67     .data.udc_string_product_name:00000000 udc_string_product_name
    {standard input}:70     .text.udc_get_string_serial_name:00000000 $t
    {standard input}:76     .text.udc_get_string_serial_name:00000000 udc_get_string_serial_name
    {standard input}:107    .text.udc_get_string_serial_name:00000010 $d
    {standard input}:112    .data.udc_string_desc:00000000 $d
    {standard input}:115    .data.udc_string_desc:00000000 udc_string_desc
    {standard input}:120    .text.udc_get_interface_desc:00000000 $t
    {standard input}:127    .text.udc_get_interface_desc:00000000 udc_get_interface_desc
    {standard input}:158    .text.udc_get_interface_desc:00000010 $d
    {standard input}:163    .text.udc_get_eof_conf:00000000 $t
    {standard input}:169    .text.udc_get_eof_conf:00000000 udc_get_eof_conf
    {standard input}:209    .text.udc_get_eof_conf:00000020 $d
    {standard input}:214    .text.udc_next_desc_in_iface:00000000 $t
    {standard input}:220    .text.udc_next_desc_in_iface:00000000 udc_next_desc_in_iface
    {standard input}:306    .text.udc_next_desc_in_iface:00000058 $d
    {standard input}:311    .text.udc_update_iface_desc:00000000 $t
    {standard input}:317    .text.udc_update_iface_desc:00000000 udc_update_iface_desc
    {standard input}:435    .text.udc_update_iface_desc:0000008c $d
    {standard input}:443    .text.udc_iface_disable:00000000 $t
    {standard input}:449    .text.udc_iface_disable:00000000 udc_iface_disable
    {standard input}:566    .text.udc_iface_disable:0000008c $d
    {standard input}:575    .text.udc_iface_enable:00000000 $t
    {standard input}:581    .text.udc_iface_enable:00000000 udc_iface_enable
    {standard input}:685    .text.udc_iface_enable:00000084 $d
    {standard input}:694    .text.udc_start:00000000 $t
    {standard input}:701    .text.udc_start:00000000 udc_start
    {standard input}:725    .text.udc_start:0000000c $d
    {standard input}:730    .text.udc_stop:00000000 $t
    {standard input}:737    .text.udc_stop:00000000 udc_stop
    {standard input}:765    .text.udc_stop:00000010 $d
    {standard input}:778    .text.udc_reset:00000000 udc_reset
    {standard input}:771    .text.udc_reset:00000000 $t
    {standard input}:847    .text.udc_reset:00000044 $d
    {standard input}:855    .text.udc_sof_notify:00000000 $t
    {standard input}:862    .text.udc_sof_notify:00000000 udc_sof_notify
    {standard input}:940    .text.udc_sof_notify:00000058 $d
    {standard input}:946    .text.udc_req_std_dev_get_status:00000000 $t
    {standard input}:952    .text.udc_req_std_dev_get_status:00000000 udc_req_std_dev_get_status
    {standard input}:990    .text.udc_req_std_dev_get_status:00000020 $d
    {standard input}:997    .text.udc_req_std_ep_get_status:00000000 $t
    {standard input}:1003   .text.udc_req_std_ep_get_status:00000000 udc_req_std_ep_get_status
    {standard input}:1055   .text.udc_req_std_ep_get_status:00000034 $d
    {standard input}:3107   .bss.udc_ep_status.7279:00000000 udc_ep_status.7279
    {standard input}:1063   .text.udc_req_std_dev_clear_feature:00000000 $t
    {standard input}:1069   .text.udc_req_std_dev_clear_feature:00000000 udc_req_std_dev_clear_feature
    {standard input}:1125   .text.udc_req_std_dev_clear_feature:00000034 $d
    {standard input}:1131   .text.udc_req_std_ep_clear_feature:00000000 $t
    {standard input}:1137   .text.udc_req_std_ep_clear_feature:00000000 udc_req_std_ep_clear_feature
    {standard input}:1185   .text.udc_req_std_ep_clear_feature:00000030 $d
    {standard input}:1191   .text.udc_req_std_dev_set_feature:00000000 $t
    {standard input}:1197   .text.udc_req_std_dev_set_feature:00000000 udc_req_std_dev_set_feature
    {standard input}:1266   .text.udc_req_std_dev_set_feature:00000058 $d
    {standard input}:1270   .text.udc_req_std_dev_set_feature:00000068 $t
    {standard input}:1325   .text.udc_req_std_dev_set_feature:000000a0 $d
    {standard input}:1336   .text.udc_req_std_ep_set_feature:00000000 $t
    {standard input}:1342   .text.udc_req_std_ep_set_feature:00000000 udc_req_std_ep_set_feature
    {standard input}:1398   .text.udc_req_std_ep_set_feature:0000003c $d
    {standard input}:1405   .text.udc_valid_address:00000000 $t
    {standard input}:1411   .text.udc_valid_address:00000000 udc_valid_address
    {standard input}:1441   .text.udc_valid_address:0000001c $d
    {standard input}:1447   .text.udc_req_std_dev_set_address:00000000 $t
    {standard input}:1453   .text.udc_req_std_dev_set_address:00000000 udc_req_std_dev_set_address
    {standard input}:1497   .text.udc_req_std_dev_set_address:00000020 $d
    {standard input}:1503   .text.udc_req_std_dev_get_str_desc:00000000 $t
    {standard input}:1509   .text.udc_req_std_dev_get_str_desc:00000000 udc_req_std_dev_get_str_desc
    {standard input}:1539   .text.udc_req_std_dev_get_str_desc:0000001c $d
    {standard input}:1543   .text.udc_req_std_dev_get_str_desc:0000002c $t
    {standard input}:1653   .text.udc_req_std_dev_get_str_desc:000000b0 $d
    {standard input}:1664   .text.udc_req_std_dev_get_descriptor:00000000 $t
    {standard input}:1670   .text.udc_req_std_dev_get_descriptor:00000000 udc_req_std_dev_get_descriptor
    {standard input}:1704   .text.udc_req_std_dev_get_descriptor:00000024 $d
    {standard input}:1719   .text.udc_req_std_dev_get_descriptor:00000060 $t
    {standard input}:2022   .text.udc_req_std_dev_get_descriptor:00000208 $d
    {standard input}:2031   .text.udc_req_std_dev_get_configuration:00000000 $t
    {standard input}:2037   .text.udc_req_std_dev_get_configuration:00000000 udc_req_std_dev_get_configuration
    {standard input}:2075   .text.udc_req_std_dev_get_configuration:00000020 $d
    {standard input}:2082   .text.udc_req_std_dev_set_configuration:00000000 $t
    {standard input}:2088   .text.udc_req_std_dev_set_configuration:00000000 udc_req_std_dev_set_configuration
    {standard input}:2263   .text.udc_req_std_dev_set_configuration:000000e4 $d
    {standard input}:2275   .text.udc_req_std_iface_get_setting:00000000 $t
    {standard input}:2281   .text.udc_req_std_iface_get_setting:00000000 udc_req_std_iface_get_setting
    {standard input}:2388   .text.udc_req_std_iface_get_setting:00000080 $d
    {standard input}:3112   .bss.udc_iface_setting.7349:00000000 udc_iface_setting.7349
    {standard input}:2398   .text.udc_req_std_iface_set_setting:00000000 $t
    {standard input}:2404   .text.udc_req_std_iface_set_setting:00000000 udc_req_std_iface_set_setting
    {standard input}:2485   .text.udc_req_std_iface_set_setting:00000058 $d
    {standard input}:2493   .text.udc_reqstd:00000000 $t
    {standard input}:2499   .text.udc_reqstd:00000000 udc_reqstd
    {standard input}:2625   .text.udc_reqstd:000000a8 $d
    {standard input}:2634   .text.udc_reqstd:000000cc $t
    {standard input}:2727   .text.udc_reqstd:0000013c $d
    {standard input}:2744   .text.udc_req_iface:00000000 $t
    {standard input}:2750   .text.udc_req_iface:00000000 udc_req_iface
    {standard input}:2859   .text.udc_req_iface:00000088 $d
    {standard input}:2867   .text.udc_req_ep:00000000 $t
    {standard input}:2873   .text.udc_req_ep:00000000 udc_req_ep
    {standard input}:2980   .text.udc_req_ep:00000080 $d
    {standard input}:2988   .text.udc_process_setup:00000000 $t
    {standard input}:2995   .text.udc_process_setup:00000000 udc_process_setup
    {standard input}:3096   .text.udc_process_setup:00000080 $d
    {standard input}:3104   .bss.udc_ep_status.7279:00000000 $d
    {standard input}:3113   .bss.udc_iface_setting.7349:00000000 $d
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.0.e23d094898ba82b639bd2bf6d23b6497
                           .group:00000000 wm4.stddef.h.39.99b5021e28f91cdb161c889e07266673
                           .group:00000000 wm4.parts.h.45.afc900689b2c82332e69d798acedc875
                           .group:00000000 wm4.tpaste.h.45.af3ee36765243b162c88f7f944858426
                           .group:00000000 wm4.stringz.h.45.c4f6cbe0005e6c1d2139bc6c0e4f4722
                           .group:00000000 wm4.mrepeat.h.59.c5daaed201a4340b0edf435161d0b77f
                           .group:00000000 wm4._newlib_version.h.4.3572908597b70d672d181fc7fc501c19
                           .group:00000000 wm4.features.h.33.863f3be0b2e521e624fcc7d6fa31d2ca
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.cce27fed8484c08a33f522034c30d2b5
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.sam3u1c.h.220.c0b54b5a55bc87791749ae17b1487779
                           .group:00000000 wm4.core_cm3.h.32.5c59c312db585622d253fdb887b0afb1
                           .group:00000000 wm4.core_cmInstr.h.25.d8165482ef3061013a2fc83e2d85f3d9
                           .group:00000000 wm4.core_cm3.h.127.b561404f2a159dc517b409bc244d16c1
                           .group:00000000 wm4.component_adc.h.43.d49887380d07d1cd08cc4e37b3485e31
                           .group:00000000 wm4.component_adc12b.h.43.eadc09f1073923fb91f1f393cc397dcb
                           .group:00000000 wm4.component_chipid.h.43.15825c969b1cc9eeea3d9416499874c8
                           .group:00000000 wm4.component_dmac.h.43.cc8187b1cf6bfeadc91b14fdd28b9e8b
                           .group:00000000 wm4.component_efc.h.43.cb1b3997ad9ea3733ad421ecbfd02fdd
                           .group:00000000 wm4.component_gpbr.h.43.49b7e13894fe38b29f2243bbbe530227
                           .group:00000000 wm4.component_hsmci.h.43.7b7194c92e1480c038f3342f7cec440a
                           .group:00000000 wm4.component_matrix.h.43.1d209838fb75b4827119203a357141ee
                           .group:00000000 wm4.component_pdc.h.43.19528a5f9ef5a348234ea06f89069c55
                           .group:00000000 wm4.component_pio.h.43.163b46c3683ccf92e8de39a5554f50e8
                           .group:00000000 wm4.component_pmc.h.43.ee4f030602866917aeed15fb2b948de8
                           .group:00000000 wm4.component_pwm.h.43.ab6262a86f0aea354b43fe6dce7e7eb3
                           .group:00000000 wm4.component_rstc.h.43.4eb59dc2ddcf585fabf251d0c329fcdd
                           .group:00000000 wm4.component_rtc.h.43.ba8ccafc772b11d562a3cceab8b95072
                           .group:00000000 wm4.component_rtt.h.43.3206ef8f067e5e747c3c4c7e719c1429
                           .group:00000000 wm4.component_smc.h.43.907847915f1a5616734199d7e34424fa
                           .group:00000000 wm4.component_spi.h.43.a2a09df64ab768c0a32be55285c74ded
                           .group:00000000 wm4.component_ssc.h.43.d7c78f990c13fc511671b64798c4bcd0
                           .group:00000000 wm4.component_supc.h.43.7d17f8e5ed3ba815e84381152735062f
                           .group:00000000 wm4.component_tc.h.43.662eac8137408372b4f9d26c0b5f8621
                           .group:00000000 wm4.component_twi.h.43.eda18625bd851fc4605861f5b3240c0b
                           .group:00000000 wm4.component_uart.h.43.2d92735c5ea05c973661e1ba99a2f37c
                           .group:00000000 wm4.component_udphs.h.43.21cecd26a4e44df0013037f29f2716e4
                           .group:00000000 wm4.component_usart.h.43.7872f8f455adb38b67b9fbdb15657fbe
                           .group:00000000 wm4.component_wdt.h.43.e31e10a5469b62c3660b49ab250f802f
                           .group:00000000 wm4.instance_hsmci.h.43.e233236cc7fd5a805539a7ecc0e1d8d2
                           .group:00000000 wm4.instance_ssc.h.43.c0cfabc3b9f3bb60745c913111bce965
                           .group:00000000 wm4.instance_spi.h.43.570ae46af19e4179d9796872b9a8b9bc
                           .group:00000000 wm4.instance_tc0.h.43.049b3a82387d2961594190609e896a29
                           .group:00000000 wm4.instance_twi0.h.43.255dc0afa9e0d45eaea0a935eca2f103
                           .group:00000000 wm4.instance_twi1.h.43.652d1d407893f259f2a817544ba662c2
                           .group:00000000 wm4.instance_pwm.h.43.88294acec3ca56d6fc521038521a1567
                           .group:00000000 wm4.instance_usart0.h.43.e26677512aee3dd3bedd71d394410000
                           .group:00000000 wm4.instance_usart1.h.43.1ba97dbc6610d9fb3132b9d845688201
                           .group:00000000 wm4.instance_usart2.h.43.baa1bf30b3c5acdee90c4a1f50fe9ebd
                           .group:00000000 wm4.instance_udphs.h.43.b1ce94181e0d1f22877b81c6040a4363
                           .group:00000000 wm4.instance_adc12b.h.43.d73ed59e867ccdfdb846d9ef32a50c0c
                           .group:00000000 wm4.instance_adc.h.43.2b7611a00afeb4c555339b844d4b8456
                           .group:00000000 wm4.instance_dmac.h.43.ee72691d84889c8f285932be4a075ddb
                           .group:00000000 wm4.instance_smc.h.43.29610fd00979caaaa65821ad40e9da06
                           .group:00000000 wm4.instance_matrix.h.43.01ee474141594385374c41a29daeeefe
                           .group:00000000 wm4.instance_pmc.h.43.37430325ed7b8b24c3fe640c41c29ef5
                           .group:00000000 wm4.instance_uart.h.43.bd378395ba022bc8670c82ebe656fbbd
                           .group:00000000 wm4.instance_chipid.h.43.29cd8fb600f149aa58830fcc78fe36f9
                           .group:00000000 wm4.instance_efc0.h.43.6b85dba20721a7e9fc4350e78d193680
                           .group:00000000 wm4.instance_efc1.h.43.2c5e94fc4d2742678318d73450d08d57
                           .group:00000000 wm4.instance_pioa.h.43.eeb46cc3bfe01a1f28e67aa3a6851ed8
                           .group:00000000 wm4.instance_piob.h.43.652ce26b6c37ac56f9ed42a9216d9aca
                           .group:00000000 wm4.instance_rstc.h.43.c5de224364a50a85f237c0b864aa4c8f
                           .group:00000000 wm4.instance_supc.h.43.a5f1a5ca08f468ccf34ed3653e045f1f
                           .group:00000000 wm4.instance_rtt.h.43.8622b192c23334996132415e3095df7f
                           .group:00000000 wm4.instance_wdt.h.43.407ea53e133eacf09acf2c7fcb6b7524
                           .group:00000000 wm4.instance_rtc.h.43.f70b77f9180401c8d9d920cb4a1cd166
                           .group:00000000 wm4.instance_gpbr.h.43.9066cb40d557f6755101368854272348
                           .group:00000000 wm4.sam3u1c.h.312.ae446d8e874d34ca3df78faf190c678f
                           .group:00000000 wm4.pio_sam3u1c.h.43.18b24f16e1710ff2a400d88fe33c5107
                           .group:00000000 wm4.sam3u1c.h.442.cd4bbc3af493e98bc9b60c2905132ed0
                           .group:00000000 wm4.newlib.h.8.5f2124c7e712be65f83b91ff86a0b1c1
                           .group:00000000 wm4.config.h.219.65a553ab5bef5482f0d7880b0d33015e
                           .group:00000000 wm4._ansi.h.23.9f8fcfa20193763fcf364fb91705c94b
                           .group:00000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:00000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:00000000 wm4.cdefs.h.47.776a25dae4205bae6cce27d545bc475b
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:00000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:00000000 wm4._types.h.183.c226d164ceca1f2ecb9ae9360c54a098
                           .group:00000000 wm4.reent.h.17.23b059516345f8f5abfa01ddc379570f
                           .group:00000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:00000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:00000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:00000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:00000000 wm4.select.h.30.bbece7fa40993a78092dcc5805132560
                           .group:00000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.81.8188691c2279eac7a223caa50f6694b9
                           .group:00000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.d4493cd3736e51e9d56335045f26df45
                           .group:00000000 wm4.compiler.h.88.0e6ad966134fa012ce9a34053d3f48aa
                           .group:00000000 wm4.interrupt_sam_nvic.h.45.4876da6c127868305d66389e87e0876f
                           .group:00000000 wm4.compiler.h.425.66dd29c210af3287ed85ec3553a3e6b1
                           .group:00000000 wm4.conf_usb.h.56.3123a395939a56b38cb84f3590ea54ec
                           .group:00000000 wm4.udi_vendor_conf.h.56.4348c8e521d040f44df868219dae6785
                           .group:00000000 wm4.usb_atmel.h.45.c31b525dbe01f8d9e2022a03356ec174
                           .group:00000000 wm4.usb_protocol.h.63.850c58f3469fce50a9ac9a6854f7594b
                           .group:00000000 wm4.usb_protocol_vendor.h.45.83dfe073428ff799abc3ed1c7b04c77d
                           .group:00000000 wm4.udc_desc.h.77.5fec235bd7553e7256e345e020840072
                           .group:00000000 wm4.udd.h.103.3ccc59b50c14ec70568e6136eeb22d56
                           .group:00000000 wm4.udi_vendor.h.125.7b9085237d4d4a9757f4c148fba1918d

UNDEFINED SYMBOLS
usb_serial_number
udd_ep_free
udd_ep_alloc
udd_enable
udd_disable
udd_g_ctrlreq
udd_set_setup_payload
udd_ep_is_halted
udd_ep_clear_halt
udd_is_high_speed
udd_test_mode_j
udd_test_mode_k
udd_test_mode_se0_nak
udd_test_mode_packet
udd_ep_abort
udd_ep_set_halt
udd_set_address
udc_config
udd_getaddress
