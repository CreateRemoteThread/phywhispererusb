   1              	 .cpu cortex-m3
   2              	 .eabi_attribute 20,1
   3              	 .eabi_attribute 21,1
   4              	 .eabi_attribute 23,3
   5              	 .eabi_attribute 24,1
   6              	 .eabi_attribute 25,1
   7              	 .eabi_attribute 26,1
   8              	 .eabi_attribute 30,6
   9              	 .eabi_attribute 34,1
  10              	 .eabi_attribute 18,4
  11              	 .file "usb_xmem.c"
  12              	 .text
  13              	.Ltext0:
  14              	 .cfi_sections .debug_frame
  15              	 .section .bss.cpu_irq_critical_section_counter,"aw",%nobits
  16              	 .align 2
  19              	cpu_irq_critical_section_counter:
  20 0000 00000000 	 .space 4
  21              	 .section .bss.cpu_irq_prev_interrupt_state,"aw",%nobits
  24              	cpu_irq_prev_interrupt_state:
  25 0000 00       	 .space 1
  26              	 .global xram
  27              	 .section .data.xram,"aw",%progbits
  28              	 .align 2
  31              	xram:
  32 0000 00000060 	 .word 1610612736
  33              	 .section .bss._fpga_locked,"aw",%nobits
  36              	_fpga_locked:
  37 0000 00       	 .space 1
  38              	 .section .text.FPGA_setlock,"ax",%progbits
  39              	 .align 1
  40              	 .global FPGA_setlock
  41              	 .syntax unified
  42              	 .thumb
  43              	 .thumb_func
  44              	 .fpu softvfp
  46              	FPGA_setlock:
  47              	.LFB181:
  48              	 .file 1 "usb_xmem.c"
   1:usb_xmem.c    **** /*
   2:usb_xmem.c    ****  Copyright (c) 2015 NewAE Technology Inc. All rights reserved.
   3:usb_xmem.c    **** 
   4:usb_xmem.c    ****  This program is free software: you can redistribute it and/or modify
   5:usb_xmem.c    ****  it under the terms of the GNU General Public License as published by
   6:usb_xmem.c    ****  the Free Software Foundation, either version 3 of the License, or
   7:usb_xmem.c    ****  (at your option) any later version.
   8:usb_xmem.c    **** 
   9:usb_xmem.c    ****  This program is distributed in the hope that it will be useful,
  10:usb_xmem.c    ****  but WITHOUT ANY WARRANTY; without even the implied warranty of
  11:usb_xmem.c    ****  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  12:usb_xmem.c    ****  GNU General Public License for more details.
  13:usb_xmem.c    **** 
  14:usb_xmem.c    ****  You should have received a copy of the GNU General Public License
  15:usb_xmem.c    ****  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  16:usb_xmem.c    ****  */
  17:usb_xmem.c    **** 
  18:usb_xmem.c    **** #include <asf.h>
  19:usb_xmem.c    **** #include "usb_xmem.h"
  20:usb_xmem.c    **** 
  21:usb_xmem.c    **** /* Access pointer for FPGA Interface */
  22:usb_xmem.c    **** uint8_t volatile *xram = (uint8_t *) PSRAM_BASE_ADDRESS;
  23:usb_xmem.c    **** 
  24:usb_xmem.c    **** static volatile fpga_lockstatus_t _fpga_locked = fpga_unlocked;
  25:usb_xmem.c    **** 
  26:usb_xmem.c    **** int FPGA_setlock(fpga_lockstatus_t lockstatus)
  27:usb_xmem.c    **** {
  49              	 .loc 1 27 0
  50              	 .cfi_startproc
  51              	 
  52              	 
  53 0000 80B5     	 push {r7,lr}
  54              	.LCFI0:
  55              	 .cfi_def_cfa_offset 8
  56              	 .cfi_offset 7,-8
  57              	 .cfi_offset 14,-4
  58 0002 84B0     	 sub sp,sp,#16
  59              	.LCFI1:
  60              	 .cfi_def_cfa_offset 24
  61 0004 00AF     	 add r7,sp,#0
  62              	.LCFI2:
  63              	 .cfi_def_cfa_register 7
  64 0006 0346     	 mov r3,r0
  65 0008 FB71     	 strb r3,[r7,#7]
  28:usb_xmem.c    ****   int ret = 0;
  66              	 .loc 1 28 0
  67 000a 0023     	 movs r3,#0
  68 000c FB60     	 str r3,[r7,#12]
  29:usb_xmem.c    ****   cpu_irq_enter_critical();
  69              	 .loc 1 29 0
  70 000e 094B     	 ldr r3,.L4
  71 0010 9847     	 blx r3
  72              	.LVL0:
  30:usb_xmem.c    ****   if (_fpga_locked == fpga_unlocked)
  73              	 .loc 1 30 0
  74 0012 094B     	 ldr r3,.L4+4
  75 0014 1B78     	 ldrb r3,[r3]
  76 0016 DBB2     	 uxtb r3,r3
  77 0018 002B     	 cmp r3,#0
  78 001a 04D1     	 bne .L2
  31:usb_xmem.c    ****   {
  32:usb_xmem.c    ****     ret = 1;
  79              	 .loc 1 32 0
  80 001c 0123     	 movs r3,#1
  81 001e FB60     	 str r3,[r7,#12]
  33:usb_xmem.c    ****     _fpga_locked = lockstatus;
  82              	 .loc 1 33 0
  83 0020 054A     	 ldr r2,.L4+4
  84 0022 FB79     	 ldrb r3,[r7,#7]
  85 0024 1370     	 strb r3,[r2]
  86              	.L2:
  34:usb_xmem.c    ****   }
  35:usb_xmem.c    ****   cpu_irq_leave_critical();
  87              	 .loc 1 35 0
  88 0026 054B     	 ldr r3,.L4+8
  89 0028 9847     	 blx r3
  90              	.LVL1:
  36:usb_xmem.c    ****   return ret;
  91              	 .loc 1 36 0
  92 002a FB68     	 ldr r3,[r7,#12]
  37:usb_xmem.c    **** }
  93              	 .loc 1 37 0
  94 002c 1846     	 mov r0,r3
  95 002e 1037     	 adds r7,r7,#16
  96              	.LCFI3:
  97              	 .cfi_def_cfa_offset 8
  98 0030 BD46     	 mov sp,r7
  99              	.LCFI4:
 100              	 .cfi_def_cfa_register 13
 101              	 
 102 0032 80BD     	 pop {r7,pc}
 103              	.L5:
 104              	 .align 2
 105              	.L4:
 106 0034 00000000 	 .word cpu_irq_enter_critical
 107 0038 00000000 	 .word _fpga_locked
 108 003c 00000000 	 .word cpu_irq_leave_critical
 109              	 .cfi_endproc
 110              	.LFE181:
 112              	 .section .text.FPGA_releaselock,"ax",%progbits
 113              	 .align 1
 114              	 .global FPGA_releaselock
 115              	 .syntax unified
 116              	 .thumb
 117              	 .thumb_func
 118              	 .fpu softvfp
 120              	FPGA_releaselock:
 121              	.LFB182:
  38:usb_xmem.c    **** 
  39:usb_xmem.c    **** void FPGA_releaselock(void)
  40:usb_xmem.c    **** {
 122              	 .loc 1 40 0
 123              	 .cfi_startproc
 124              	 
 125              	 
 126              	 
 127 0000 80B4     	 push {r7}
 128              	.LCFI5:
 129              	 .cfi_def_cfa_offset 4
 130              	 .cfi_offset 7,-4
 131 0002 00AF     	 add r7,sp,#0
 132              	.LCFI6:
 133              	 .cfi_def_cfa_register 7
  41:usb_xmem.c    ****   _fpga_locked = fpga_unlocked;
 134              	 .loc 1 41 0
 135 0004 034B     	 ldr r3,.L7
 136 0006 0022     	 movs r2,#0
 137 0008 1A70     	 strb r2,[r3]
  42:usb_xmem.c    **** }
 138              	 .loc 1 42 0
 139 000a 00BF     	 nop
 140 000c BD46     	 mov sp,r7
 141              	.LCFI7:
 142              	 .cfi_def_cfa_register 13
 143              	 
 144 000e 80BC     	 pop {r7}
 145              	.LCFI8:
 146              	 .cfi_restore 7
 147              	 .cfi_def_cfa_offset 0
 148 0010 7047     	 bx lr
 149              	.L8:
 150 0012 00BF     	 .align 2
 151              	.L7:
 152 0014 00000000 	 .word _fpga_locked
 153              	 .cfi_endproc
 154              	.LFE182:
 156              	 .section .text.FPGA_lockstatus,"ax",%progbits
 157              	 .align 1
 158              	 .global FPGA_lockstatus
 159              	 .syntax unified
 160              	 .thumb
 161              	 .thumb_func
 162              	 .fpu softvfp
 164              	FPGA_lockstatus:
 165              	.LFB183:
  43:usb_xmem.c    **** 
  44:usb_xmem.c    **** fpga_lockstatus_t FPGA_lockstatus(void)
  45:usb_xmem.c    **** {
 166              	 .loc 1 45 0
 167              	 .cfi_startproc
 168              	 
 169              	 
 170              	 
 171 0000 80B4     	 push {r7}
 172              	.LCFI9:
 173              	 .cfi_def_cfa_offset 4
 174              	 .cfi_offset 7,-4
 175 0002 00AF     	 add r7,sp,#0
 176              	.LCFI10:
 177              	 .cfi_def_cfa_register 7
  46:usb_xmem.c    ****   return _fpga_locked;
 178              	 .loc 1 46 0
 179 0004 034B     	 ldr r3,.L11
 180 0006 1B78     	 ldrb r3,[r3]
 181 0008 DBB2     	 uxtb r3,r3
  47:usb_xmem.c    **** }
 182              	 .loc 1 47 0
 183 000a 1846     	 mov r0,r3
 184 000c BD46     	 mov sp,r7
 185              	.LCFI11:
 186              	 .cfi_def_cfa_register 13
 187              	 
 188 000e 80BC     	 pop {r7}
 189              	.LCFI12:
 190              	 .cfi_restore 7
 191              	 .cfi_def_cfa_offset 0
 192 0010 7047     	 bx lr
 193              	.L12:
 194 0012 00BF     	 .align 2
 195              	.L11:
 196 0014 00000000 	 .word _fpga_locked
 197              	 .cfi_endproc
 198              	.LFE183:
 200              	 .section .text.try_enter_cs,"ax",%progbits
 201              	 .align 1
 202              	 .global try_enter_cs
 203              	 .syntax unified
 204              	 .thumb
 205              	 .thumb_func
 206              	 .fpu softvfp
 208              	try_enter_cs:
 209              	.LFB184:
  48:usb_xmem.c    **** 
  49:usb_xmem.c    **** int try_enter_cs(void)
  50:usb_xmem.c    **** {
 210              	 .loc 1 50 0
 211              	 .cfi_startproc
 212              	 
 213              	 
 214 0000 80B5     	 push {r7,lr}
 215              	.LCFI13:
 216              	 .cfi_def_cfa_offset 8
 217              	 .cfi_offset 7,-8
 218              	 .cfi_offset 14,-4
 219 0002 00AF     	 add r7,sp,#0
 220              	.LCFI14:
 221              	 .cfi_def_cfa_register 7
  51:usb_xmem.c    ****   // Try to get the lock
  52:usb_xmem.c    ****   cpu_irq_enter_critical();
 222              	 .loc 1 52 0
 223 0004 074B     	 ldr r3,.L16
 224 0006 9847     	 blx r3
 225              	.LVL2:
  53:usb_xmem.c    ****   if(FPGA_setlock(fpga_generic))
 226              	 .loc 1 53 0
 227 0008 0120     	 movs r0,#1
 228 000a 074B     	 ldr r3,.L16+4
 229 000c 9847     	 blx r3
 230              	.LVL3:
 231 000e 0346     	 mov r3,r0
 232 0010 002B     	 cmp r3,#0
 233 0012 01D0     	 beq .L14
  54:usb_xmem.c    ****     return 1;
 234              	 .loc 1 54 0
 235 0014 0123     	 movs r3,#1
 236 0016 02E0     	 b .L15
 237              	.L14:
  55:usb_xmem.c    **** 
  56:usb_xmem.c    ****   // If we didn't get it, revert back
  57:usb_xmem.c    ****   cpu_irq_leave_critical();
 238              	 .loc 1 57 0
 239 0018 044B     	 ldr r3,.L16+8
 240 001a 9847     	 blx r3
 241              	.LVL4:
  58:usb_xmem.c    ****   return 0;
 242              	 .loc 1 58 0
 243 001c 0023     	 movs r3,#0
 244              	.L15:
  59:usb_xmem.c    **** }
 245              	 .loc 1 59 0
 246 001e 1846     	 mov r0,r3
 247 0020 80BD     	 pop {r7,pc}
 248              	.L17:
 249 0022 00BF     	 .align 2
 250              	.L16:
 251 0024 00000000 	 .word cpu_irq_enter_critical
 252 0028 00000000 	 .word FPGA_setlock
 253 002c 00000000 	 .word cpu_irq_leave_critical
 254              	 .cfi_endproc
 255              	.LFE184:
 257              	 .section .text.exit_cs,"ax",%progbits
 258              	 .align 1
 259              	 .global exit_cs
 260              	 .syntax unified
 261              	 .thumb
 262              	 .thumb_func
 263              	 .fpu softvfp
 265              	exit_cs:
 266              	.LFB185:
  60:usb_xmem.c    **** 
  61:usb_xmem.c    **** void exit_cs(void)
  62:usb_xmem.c    **** {
 267              	 .loc 1 62 0
 268              	 .cfi_startproc
 269              	 
 270              	 
 271 0000 80B5     	 push {r7,lr}
 272              	.LCFI15:
 273              	 .cfi_def_cfa_offset 8
 274              	 .cfi_offset 7,-8
 275              	 .cfi_offset 14,-4
 276 0002 00AF     	 add r7,sp,#0
 277              	.LCFI16:
 278              	 .cfi_def_cfa_register 7
  63:usb_xmem.c    ****   FPGA_releaselock();
 279              	 .loc 1 63 0
 280 0004 024B     	 ldr r3,.L19
 281 0006 9847     	 blx r3
 282              	.LVL5:
  64:usb_xmem.c    ****   cpu_irq_leave_critical();
 283              	 .loc 1 64 0
 284 0008 024B     	 ldr r3,.L19+4
 285 000a 9847     	 blx r3
 286              	.LVL6:
  65:usb_xmem.c    **** }
 287              	 .loc 1 65 0
 288 000c 00BF     	 nop
 289 000e 80BD     	 pop {r7,pc}
 290              	.L20:
 291              	 .align 2
 292              	.L19:
 293 0010 00000000 	 .word FPGA_releaselock
 294 0014 00000000 	 .word cpu_irq_leave_critical
 295              	 .cfi_endproc
 296              	.LFE185:
 298              	 .section .text.FPGA_setaddr,"ax",%progbits
 299              	 .align 1
 300              	 .global FPGA_setaddr
 301              	 .syntax unified
 302              	 .thumb
 303              	 .thumb_func
 304              	 .fpu softvfp
 306              	FPGA_setaddr:
 307              	.LFB186:
  66:usb_xmem.c    **** 
  67:usb_xmem.c    **** void FPGA_setaddr(uint32_t addr)
  68:usb_xmem.c    **** {
 308              	 .loc 1 68 0
 309              	 .cfi_startproc
 310              	 
 311              	 
 312 0000 80B5     	 push {r7,lr}
 313              	.LCFI17:
 314              	 .cfi_def_cfa_offset 8
 315              	 .cfi_offset 7,-8
 316              	 .cfi_offset 14,-4
 317 0002 82B0     	 sub sp,sp,#8
 318              	.LCFI18:
 319              	 .cfi_def_cfa_offset 16
 320 0004 00AF     	 add r7,sp,#0
 321              	.LCFI19:
 322              	 .cfi_def_cfa_register 7
 323 0006 7860     	 str r0,[r7,#4]
  69:usb_xmem.c    ****   pio_sync_output_write(FPGA_ADDR_PORT, addr);
 324              	 .loc 1 69 0
 325 0008 7968     	 ldr r1,[r7,#4]
 326 000a 0648     	 ldr r0,.L22
 327 000c 064B     	 ldr r3,.L22+4
 328 000e 9847     	 blx r3
 329              	.LVL7:
  70:usb_xmem.c    ****   gpio_set_pin_low(PIN_EBI_USB_SPARE1);
 330              	 .loc 1 70 0
 331 0010 3120     	 movs r0,#49
 332 0012 064B     	 ldr r3,.L22+8
 333 0014 9847     	 blx r3
 334              	.LVL8:
  71:usb_xmem.c    ****   gpio_set_pin_high(PIN_EBI_USB_SPARE1);
 335              	 .loc 1 71 0
 336 0016 3120     	 movs r0,#49
 337 0018 054B     	 ldr r3,.L22+12
 338 001a 9847     	 blx r3
 339              	.LVL9:
  72:usb_xmem.c    **** }
 340              	 .loc 1 72 0
 341 001c 00BF     	 nop
 342 001e 0837     	 adds r7,r7,#8
 343              	.LCFI20:
 344              	 .cfi_def_cfa_offset 8
 345 0020 BD46     	 mov sp,r7
 346              	.LCFI21:
 347              	 .cfi_def_cfa_register 13
 348              	 
 349 0022 80BD     	 pop {r7,pc}
 350              	.L23:
 351              	 .align 2
 352              	.L22:
 353 0024 000E0E40 	 .word 1074662912
 354 0028 00000000 	 .word pio_sync_output_write
 355 002c 00000000 	 .word pio_set_pin_low
 356 0030 00000000 	 .word pio_set_pin_high
 357              	 .cfi_endproc
 358              	.LFE186:
 360              	 .section .text.unsafe_readuint32,"ax",%progbits
 361              	 .align 1
 362              	 .global unsafe_readuint32
 363              	 .syntax unified
 364              	 .thumb
 365              	 .thumb_func
 366              	 .fpu softvfp
 368              	unsafe_readuint32:
 369              	.LFB187:
  73:usb_xmem.c    **** 
  74:usb_xmem.c    **** /*
  75:usb_xmem.c    **** Read four bytes from a given register, return as 32-bit number.
  76:usb_xmem.c    **** 
  77:usb_xmem.c    **** "Unsafe" as doesn't check/modify locking status.
  78:usb_xmem.c    **** */
  79:usb_xmem.c    **** uint32_t unsafe_readuint32(uint16_t fpgaaddr)
  80:usb_xmem.c    **** {
 370              	 .loc 1 80 0
 371              	 .cfi_startproc
 372              	 
 373              	 
 374 0000 80B5     	 push {r7,lr}
 375              	.LCFI22:
 376              	 .cfi_def_cfa_offset 8
 377              	 .cfi_offset 7,-8
 378              	 .cfi_offset 14,-4
 379 0002 84B0     	 sub sp,sp,#16
 380              	.LCFI23:
 381              	 .cfi_def_cfa_offset 24
 382 0004 00AF     	 add r7,sp,#0
 383              	.LCFI24:
 384              	 .cfi_def_cfa_register 7
 385 0006 0346     	 mov r3,r0
 386 0008 FB80     	 strh r3,[r7,#6]
  81:usb_xmem.c    ****   uint32_t data;
  82:usb_xmem.c    **** 
  83:usb_xmem.c    ****   FPGA_setaddr(fpgaaddr);
 387              	 .loc 1 83 0
 388 000a FB88     	 ldrh r3,[r7,#6]
 389 000c 1846     	 mov r0,r3
 390 000e 154B     	 ldr r3,.L26
 391 0010 9847     	 blx r3
 392              	.LVL10:
  84:usb_xmem.c    ****   data = *xram;
 393              	 .loc 1 84 0
 394 0012 154B     	 ldr r3,.L26+4
 395 0014 1B68     	 ldr r3,[r3]
 396 0016 1B78     	 ldrb r3,[r3]
 397 0018 DBB2     	 uxtb r3,r3
 398 001a FB60     	 str r3,[r7,#12]
  85:usb_xmem.c    ****   data |= *(xram+1) << 8;
 399              	 .loc 1 85 0
 400 001c 124B     	 ldr r3,.L26+4
 401 001e 1B68     	 ldr r3,[r3]
 402 0020 0133     	 adds r3,r3,#1
 403 0022 1B78     	 ldrb r3,[r3]
 404 0024 DBB2     	 uxtb r3,r3
 405 0026 1B02     	 lsls r3,r3,#8
 406 0028 1A46     	 mov r2,r3
 407 002a FB68     	 ldr r3,[r7,#12]
 408 002c 1343     	 orrs r3,r3,r2
 409 002e FB60     	 str r3,[r7,#12]
  86:usb_xmem.c    ****   data |= *(xram+2) << 16;
 410              	 .loc 1 86 0
 411 0030 0D4B     	 ldr r3,.L26+4
 412 0032 1B68     	 ldr r3,[r3]
 413 0034 0233     	 adds r3,r3,#2
 414 0036 1B78     	 ldrb r3,[r3]
 415 0038 DBB2     	 uxtb r3,r3
 416 003a 1B04     	 lsls r3,r3,#16
 417 003c 1A46     	 mov r2,r3
 418 003e FB68     	 ldr r3,[r7,#12]
 419 0040 1343     	 orrs r3,r3,r2
 420 0042 FB60     	 str r3,[r7,#12]
  87:usb_xmem.c    ****   data |= *(xram+3) << 24;
 421              	 .loc 1 87 0
 422 0044 084B     	 ldr r3,.L26+4
 423 0046 1B68     	 ldr r3,[r3]
 424 0048 0333     	 adds r3,r3,#3
 425 004a 1B78     	 ldrb r3,[r3]
 426 004c DBB2     	 uxtb r3,r3
 427 004e 1B06     	 lsls r3,r3,#24
 428 0050 1A46     	 mov r2,r3
 429 0052 FB68     	 ldr r3,[r7,#12]
 430 0054 1343     	 orrs r3,r3,r2
 431 0056 FB60     	 str r3,[r7,#12]
  88:usb_xmem.c    ****   return data;
 432              	 .loc 1 88 0
 433 0058 FB68     	 ldr r3,[r7,#12]
  89:usb_xmem.c    **** }
 434              	 .loc 1 89 0
 435 005a 1846     	 mov r0,r3
 436 005c 1037     	 adds r7,r7,#16
 437              	.LCFI25:
 438              	 .cfi_def_cfa_offset 8
 439 005e BD46     	 mov sp,r7
 440              	.LCFI26:
 441              	 .cfi_def_cfa_register 13
 442              	 
 443 0060 80BD     	 pop {r7,pc}
 444              	.L27:
 445 0062 00BF     	 .align 2
 446              	.L26:
 447 0064 00000000 	 .word FPGA_setaddr
 448 0068 00000000 	 .word xram
 449              	 .cfi_endproc
 450              	.LFE187:
 452              	 .section .text.safe_readuint32,"ax",%progbits
 453              	 .align 1
 454              	 .global safe_readuint32
 455              	 .syntax unified
 456              	 .thumb
 457              	 .thumb_func
 458              	 .fpu softvfp
 460              	safe_readuint32:
 461              	.LFB188:
  90:usb_xmem.c    **** 
  91:usb_xmem.c    **** uint32_t safe_readuint32(uint16_t fpgaaddr)
  92:usb_xmem.c    **** {
 462              	 .loc 1 92 0
 463              	 .cfi_startproc
 464              	 
 465              	 
 466 0000 80B5     	 push {r7,lr}
 467              	.LCFI27:
 468              	 .cfi_def_cfa_offset 8
 469              	 .cfi_offset 7,-8
 470              	 .cfi_offset 14,-4
 471 0002 84B0     	 sub sp,sp,#16
 472              	.LCFI28:
 473              	 .cfi_def_cfa_offset 24
 474 0004 00AF     	 add r7,sp,#0
 475              	.LCFI29:
 476              	 .cfi_def_cfa_register 7
 477 0006 0346     	 mov r3,r0
 478 0008 FB80     	 strh r3,[r7,#6]
  93:usb_xmem.c    ****   //TODO - This timeout to make GUI responsive in case of USB errors, but data will be invalid
  94:usb_xmem.c    ****   uint32_t timeout = 10000;
 479              	 .loc 1 94 0
 480 000a 42F21073 	 movw r3,#10000
 481 000e FB60     	 str r3,[r7,#12]
 482              	.L31:
  95:usb_xmem.c    ****   do{
  96:usb_xmem.c    ****     timeout--;
 483              	 .loc 1 96 0
 484 0010 FB68     	 ldr r3,[r7,#12]
 485 0012 013B     	 subs r3,r3,#1
 486 0014 FB60     	 str r3,[r7,#12]
  97:usb_xmem.c    ****     if(timeout == 0){return 0xffffffff;};
 487              	 .loc 1 97 0
 488 0016 FB68     	 ldr r3,[r7,#12]
 489 0018 002B     	 cmp r3,#0
 490 001a 02D1     	 bne .L29
 491              	 .loc 1 97 0 is_stmt 0 discriminator 1
 492 001c 4FF0FF33 	 mov r3,#-1
 493 0020 2EE0     	 b .L30
 494              	.L29:
  98:usb_xmem.c    ****   }while(!try_enter_cs());
 495              	 .loc 1 98 0 is_stmt 1
 496 0022 194B     	 ldr r3,.L32
 497 0024 9847     	 blx r3
 498              	.LVL11:
 499 0026 0346     	 mov r3,r0
 500 0028 002B     	 cmp r3,#0
 501 002a F1D0     	 beq .L31
  99:usb_xmem.c    ****   uint32_t data;
 100:usb_xmem.c    **** 
 101:usb_xmem.c    ****   FPGA_setaddr(fpgaaddr);
 502              	 .loc 1 101 0
 503 002c FB88     	 ldrh r3,[r7,#6]
 504 002e 1846     	 mov r0,r3
 505 0030 164B     	 ldr r3,.L32+4
 506 0032 9847     	 blx r3
 507              	.LVL12:
 102:usb_xmem.c    ****   data = *xram;
 508              	 .loc 1 102 0
 509 0034 164B     	 ldr r3,.L32+8
 510 0036 1B68     	 ldr r3,[r3]
 511 0038 1B78     	 ldrb r3,[r3]
 512 003a DBB2     	 uxtb r3,r3
 513 003c BB60     	 str r3,[r7,#8]
 103:usb_xmem.c    ****   data |= *(xram+1) << 8;
 514              	 .loc 1 103 0
 515 003e 144B     	 ldr r3,.L32+8
 516 0040 1B68     	 ldr r3,[r3]
 517 0042 0133     	 adds r3,r3,#1
 518 0044 1B78     	 ldrb r3,[r3]
 519 0046 DBB2     	 uxtb r3,r3
 520 0048 1B02     	 lsls r3,r3,#8
 521 004a 1A46     	 mov r2,r3
 522 004c BB68     	 ldr r3,[r7,#8]
 523 004e 1343     	 orrs r3,r3,r2
 524 0050 BB60     	 str r3,[r7,#8]
 104:usb_xmem.c    ****   data |= *(xram+2) << 16;
 525              	 .loc 1 104 0
 526 0052 0F4B     	 ldr r3,.L32+8
 527 0054 1B68     	 ldr r3,[r3]
 528 0056 0233     	 adds r3,r3,#2
 529 0058 1B78     	 ldrb r3,[r3]
 530 005a DBB2     	 uxtb r3,r3
 531 005c 1B04     	 lsls r3,r3,#16
 532 005e 1A46     	 mov r2,r3
 533 0060 BB68     	 ldr r3,[r7,#8]
 534 0062 1343     	 orrs r3,r3,r2
 535 0064 BB60     	 str r3,[r7,#8]
 105:usb_xmem.c    ****   data |= *(xram+3) << 24;
 536              	 .loc 1 105 0
 537 0066 0A4B     	 ldr r3,.L32+8
 538 0068 1B68     	 ldr r3,[r3]
 539 006a 0333     	 adds r3,r3,#3
 540 006c 1B78     	 ldrb r3,[r3]
 541 006e DBB2     	 uxtb r3,r3
 542 0070 1B06     	 lsls r3,r3,#24
 543 0072 1A46     	 mov r2,r3
 544 0074 BB68     	 ldr r3,[r7,#8]
 545 0076 1343     	 orrs r3,r3,r2
 546 0078 BB60     	 str r3,[r7,#8]
 106:usb_xmem.c    ****   exit_cs();
 547              	 .loc 1 106 0
 548 007a 064B     	 ldr r3,.L32+12
 549 007c 9847     	 blx r3
 550              	.LVL13:
 107:usb_xmem.c    ****   return data;
 551              	 .loc 1 107 0
 552 007e BB68     	 ldr r3,[r7,#8]
 553              	.L30:
 108:usb_xmem.c    **** }
 554              	 .loc 1 108 0
 555 0080 1846     	 mov r0,r3
 556 0082 1037     	 adds r7,r7,#16
 557              	.LCFI30:
 558              	 .cfi_def_cfa_offset 8
 559 0084 BD46     	 mov sp,r7
 560              	.LCFI31:
 561              	 .cfi_def_cfa_register 13
 562              	 
 563 0086 80BD     	 pop {r7,pc}
 564              	.L33:
 565              	 .align 2
 566              	.L32:
 567 0088 00000000 	 .word try_enter_cs
 568 008c 00000000 	 .word FPGA_setaddr
 569 0090 00000000 	 .word xram
 570 0094 00000000 	 .word exit_cs
 571              	 .cfi_endproc
 572              	.LFE188:
 574              	 .section .text.unsafe_readbytes,"ax",%progbits
 575              	 .align 1
 576              	 .global unsafe_readbytes
 577              	 .syntax unified
 578              	 .thumb
 579              	 .thumb_func
 580              	 .fpu softvfp
 582              	unsafe_readbytes:
 583              	.LFB189:
 109:usb_xmem.c    **** 
 110:usb_xmem.c    **** 
 111:usb_xmem.c    **** 
 112:usb_xmem.c    **** // Read numBytes bytes from memory
 113:usb_xmem.c    **** void unsafe_readbytes(uint16_t fpgaaddr, uint8_t* data, int numBytes)
 114:usb_xmem.c    **** {
 584              	 .loc 1 114 0
 585              	 .cfi_startproc
 586              	 
 587              	 
 588 0000 80B5     	 push {r7,lr}
 589              	.LCFI32:
 590              	 .cfi_def_cfa_offset 8
 591              	 .cfi_offset 7,-8
 592              	 .cfi_offset 14,-4
 593 0002 86B0     	 sub sp,sp,#24
 594              	.LCFI33:
 595              	 .cfi_def_cfa_offset 32
 596 0004 00AF     	 add r7,sp,#0
 597              	.LCFI34:
 598              	 .cfi_def_cfa_register 7
 599 0006 0346     	 mov r3,r0
 600 0008 B960     	 str r1,[r7,#8]
 601 000a 7A60     	 str r2,[r7,#4]
 602 000c FB81     	 strh r3,[r7,#14]
 115:usb_xmem.c    ****   FPGA_setaddr(fpgaaddr);
 603              	 .loc 1 115 0
 604 000e FB89     	 ldrh r3,[r7,#14]
 605 0010 1846     	 mov r0,r3
 606 0012 0D4B     	 ldr r3,.L37
 607 0014 9847     	 blx r3
 608              	.LVL14:
 609              	.LBB2:
 116:usb_xmem.c    **** 
 117:usb_xmem.c    ****   for(int i = 0; i < numBytes; i++)
 610              	 .loc 1 117 0
 611 0016 0023     	 movs r3,#0
 612 0018 7B61     	 str r3,[r7,#20]
 613 001a 0CE0     	 b .L35
 614              	.L36:
 118:usb_xmem.c    ****   {
 119:usb_xmem.c    ****     data[i] = *(xram+i);
 615              	 .loc 1 119 0 discriminator 3
 616 001c 0B4B     	 ldr r3,.L37+4
 617 001e 1A68     	 ldr r2,[r3]
 618 0020 7B69     	 ldr r3,[r7,#20]
 619 0022 1A44     	 add r2,r2,r3
 620 0024 7B69     	 ldr r3,[r7,#20]
 621 0026 B968     	 ldr r1,[r7,#8]
 622 0028 0B44     	 add r3,r3,r1
 623 002a 1278     	 ldrb r2,[r2]
 624 002c D2B2     	 uxtb r2,r2
 625 002e 1A70     	 strb r2,[r3]
 117:usb_xmem.c    ****   {
 626              	 .loc 1 117 0 discriminator 3
 627 0030 7B69     	 ldr r3,[r7,#20]
 628 0032 0133     	 adds r3,r3,#1
 629 0034 7B61     	 str r3,[r7,#20]
 630              	.L35:
 117:usb_xmem.c    ****   {
 631              	 .loc 1 117 0 is_stmt 0 discriminator 1
 632 0036 7A69     	 ldr r2,[r7,#20]
 633 0038 7B68     	 ldr r3,[r7,#4]
 634 003a 9A42     	 cmp r2,r3
 635 003c EEDB     	 blt .L36
 636              	.LBE2:
 120:usb_xmem.c    ****   }
 121:usb_xmem.c    **** }
 637              	 .loc 1 121 0 is_stmt 1
 638 003e 00BF     	 nop
 639 0040 1837     	 adds r7,r7,#24
 640              	.LCFI35:
 641              	 .cfi_def_cfa_offset 8
 642 0042 BD46     	 mov sp,r7
 643              	.LCFI36:
 644              	 .cfi_def_cfa_register 13
 645              	 
 646 0044 80BD     	 pop {r7,pc}
 647              	.L38:
 648 0046 00BF     	 .align 2
 649              	.L37:
 650 0048 00000000 	 .word FPGA_setaddr
 651 004c 00000000 	 .word xram
 652              	 .cfi_endproc
 653              	.LFE189:
 655              	 .section .text.safe_readbytes,"ax",%progbits
 656              	 .align 1
 657              	 .global safe_readbytes
 658              	 .syntax unified
 659              	 .thumb
 660              	 .thumb_func
 661              	 .fpu softvfp
 663              	safe_readbytes:
 664              	.LFB190:
 122:usb_xmem.c    **** 
 123:usb_xmem.c    **** // Safely read bytes from memory by disabling interrupts first
 124:usb_xmem.c    **** // Blocks until able to read
 125:usb_xmem.c    **** void safe_readbytes(uint16_t fpgaaddr, uint8_t* data, int numBytes)
 126:usb_xmem.c    **** {
 665              	 .loc 1 126 0
 666              	 .cfi_startproc
 667              	 
 668              	 
 669 0000 80B5     	 push {r7,lr}
 670              	.LCFI37:
 671              	 .cfi_def_cfa_offset 8
 672              	 .cfi_offset 7,-8
 673              	 .cfi_offset 14,-4
 674 0002 86B0     	 sub sp,sp,#24
 675              	.LCFI38:
 676              	 .cfi_def_cfa_offset 32
 677 0004 00AF     	 add r7,sp,#0
 678              	.LCFI39:
 679              	 .cfi_def_cfa_register 7
 680 0006 0346     	 mov r3,r0
 681 0008 B960     	 str r1,[r7,#8]
 682 000a 7A60     	 str r2,[r7,#4]
 683 000c FB81     	 strh r3,[r7,#14]
 127:usb_xmem.c    ****   //TODO - This timeout to make GUI responsive in case of USB errors, but data will be invalid
 128:usb_xmem.c    ****   uint32_t timeout = 10000;
 684              	 .loc 1 128 0
 685 000e 42F21073 	 movw r3,#10000
 686 0012 7B61     	 str r3,[r7,#20]
 687              	.L42:
 129:usb_xmem.c    ****   do{
 130:usb_xmem.c    ****     timeout--;
 688              	 .loc 1 130 0
 689 0014 7B69     	 ldr r3,[r7,#20]
 690 0016 013B     	 subs r3,r3,#1
 691 0018 7B61     	 str r3,[r7,#20]
 131:usb_xmem.c    ****     if(timeout == 0){*data = 0xFF; return;};
 692              	 .loc 1 131 0
 693 001a 7B69     	 ldr r3,[r7,#20]
 694 001c 002B     	 cmp r3,#0
 695 001e 03D1     	 bne .L40
 696              	 .loc 1 131 0 is_stmt 0 discriminator 1
 697 0020 BB68     	 ldr r3,[r7,#8]
 698 0022 FF22     	 movs r2,#255
 699 0024 1A70     	 strb r2,[r3]
 700 0026 1EE0     	 b .L39
 701              	.L40:
 132:usb_xmem.c    ****   }while(!try_enter_cs());
 702              	 .loc 1 132 0 is_stmt 1
 703 0028 104B     	 ldr r3,.L45
 704 002a 9847     	 blx r3
 705              	.LVL15:
 706 002c 0346     	 mov r3,r0
 707 002e 002B     	 cmp r3,#0
 708 0030 F0D0     	 beq .L42
 133:usb_xmem.c    **** 
 134:usb_xmem.c    ****   FPGA_setaddr(fpgaaddr);
 709              	 .loc 1 134 0
 710 0032 FB89     	 ldrh r3,[r7,#14]
 711 0034 1846     	 mov r0,r3
 712 0036 0E4B     	 ldr r3,.L45+4
 713 0038 9847     	 blx r3
 714              	.LVL16:
 715              	.LBB3:
 135:usb_xmem.c    **** 
 136:usb_xmem.c    ****   for(int i = 0; i < numBytes; i++)
 716              	 .loc 1 136 0
 717 003a 0023     	 movs r3,#0
 718 003c 3B61     	 str r3,[r7,#16]
 719 003e 0CE0     	 b .L43
 720              	.L44:
 137:usb_xmem.c    ****   {
 138:usb_xmem.c    ****     data[i] = *(xram+i);
 721              	 .loc 1 138 0 discriminator 3
 722 0040 0C4B     	 ldr r3,.L45+8
 723 0042 1A68     	 ldr r2,[r3]
 724 0044 3B69     	 ldr r3,[r7,#16]
 725 0046 1A44     	 add r2,r2,r3
 726 0048 3B69     	 ldr r3,[r7,#16]
 727 004a B968     	 ldr r1,[r7,#8]
 728 004c 0B44     	 add r3,r3,r1
 729 004e 1278     	 ldrb r2,[r2]
 730 0050 D2B2     	 uxtb r2,r2
 731 0052 1A70     	 strb r2,[r3]
 136:usb_xmem.c    ****   {
 732              	 .loc 1 136 0 discriminator 3
 733 0054 3B69     	 ldr r3,[r7,#16]
 734 0056 0133     	 adds r3,r3,#1
 735 0058 3B61     	 str r3,[r7,#16]
 736              	.L43:
 136:usb_xmem.c    ****   {
 737              	 .loc 1 136 0 is_stmt 0 discriminator 1
 738 005a 3A69     	 ldr r2,[r7,#16]
 739 005c 7B68     	 ldr r3,[r7,#4]
 740 005e 9A42     	 cmp r2,r3
 741 0060 EEDB     	 blt .L44
 742              	.LBE3:
 139:usb_xmem.c    ****   }
 140:usb_xmem.c    ****   exit_cs();
 743              	 .loc 1 140 0 is_stmt 1
 744 0062 054B     	 ldr r3,.L45+12
 745 0064 9847     	 blx r3
 746              	.LVL17:
 747              	.L39:
 141:usb_xmem.c    **** }
 748              	 .loc 1 141 0
 749 0066 1837     	 adds r7,r7,#24
 750              	.LCFI40:
 751              	 .cfi_def_cfa_offset 8
 752 0068 BD46     	 mov sp,r7
 753              	.LCFI41:
 754              	 .cfi_def_cfa_register 13
 755              	 
 756 006a 80BD     	 pop {r7,pc}
 757              	.L46:
 758              	 .align 2
 759              	.L45:
 760 006c 00000000 	 .word try_enter_cs
 761 0070 00000000 	 .word FPGA_setaddr
 762 0074 00000000 	 .word xram
 763 0078 00000000 	 .word exit_cs
 764              	 .cfi_endproc
 765              	.LFE190:
 767              	 .section .text.unsafe_writebytes,"ax",%progbits
 768              	 .align 1
 769              	 .global unsafe_writebytes
 770              	 .syntax unified
 771              	 .thumb
 772              	 .thumb_func
 773              	 .fpu softvfp
 775              	unsafe_writebytes:
 776              	.LFB191:
 142:usb_xmem.c    **** 
 143:usb_xmem.c    **** // Write 4 bytes to memory
 144:usb_xmem.c    **** void unsafe_writebytes(uint16_t fpgaaddr, uint8_t* data, int numBytes)
 145:usb_xmem.c    **** {
 777              	 .loc 1 145 0
 778              	 .cfi_startproc
 779              	 
 780              	 
 781 0000 80B5     	 push {r7,lr}
 782              	.LCFI42:
 783              	 .cfi_def_cfa_offset 8
 784              	 .cfi_offset 7,-8
 785              	 .cfi_offset 14,-4
 786 0002 86B0     	 sub sp,sp,#24
 787              	.LCFI43:
 788              	 .cfi_def_cfa_offset 32
 789 0004 00AF     	 add r7,sp,#0
 790              	.LCFI44:
 791              	 .cfi_def_cfa_register 7
 792 0006 0346     	 mov r3,r0
 793 0008 B960     	 str r1,[r7,#8]
 794 000a 7A60     	 str r2,[r7,#4]
 795 000c FB81     	 strh r3,[r7,#14]
 146:usb_xmem.c    ****   FPGA_setaddr(fpgaaddr);
 796              	 .loc 1 146 0
 797 000e FB89     	 ldrh r3,[r7,#14]
 798 0010 1846     	 mov r0,r3
 799 0012 0C4B     	 ldr r3,.L50
 800 0014 9847     	 blx r3
 801              	.LVL18:
 802              	.LBB4:
 147:usb_xmem.c    **** 
 148:usb_xmem.c    ****   for(int i = 0; i < numBytes; i++)
 803              	 .loc 1 148 0
 804 0016 0023     	 movs r3,#0
 805 0018 7B61     	 str r3,[r7,#20]
 806 001a 0BE0     	 b .L48
 807              	.L49:
 149:usb_xmem.c    ****   {
 150:usb_xmem.c    ****     *(xram+i) = data[i];
 808              	 .loc 1 150 0 discriminator 3
 809 001c 7B69     	 ldr r3,[r7,#20]
 810 001e BA68     	 ldr r2,[r7,#8]
 811 0020 1A44     	 add r2,r2,r3
 812 0022 094B     	 ldr r3,.L50+4
 813 0024 1968     	 ldr r1,[r3]
 814 0026 7B69     	 ldr r3,[r7,#20]
 815 0028 0B44     	 add r3,r3,r1
 816 002a 1278     	 ldrb r2,[r2]
 817 002c 1A70     	 strb r2,[r3]
 148:usb_xmem.c    ****   {
 818              	 .loc 1 148 0 discriminator 3
 819 002e 7B69     	 ldr r3,[r7,#20]
 820 0030 0133     	 adds r3,r3,#1
 821 0032 7B61     	 str r3,[r7,#20]
 822              	.L48:
 148:usb_xmem.c    ****   {
 823              	 .loc 1 148 0 is_stmt 0 discriminator 1
 824 0034 7A69     	 ldr r2,[r7,#20]
 825 0036 7B68     	 ldr r3,[r7,#4]
 826 0038 9A42     	 cmp r2,r3
 827 003a EFDB     	 blt .L49
 828              	.LBE4:
 151:usb_xmem.c    ****   }
 152:usb_xmem.c    **** }
 829              	 .loc 1 152 0 is_stmt 1
 830 003c 00BF     	 nop
 831 003e 1837     	 adds r7,r7,#24
 832              	.LCFI45:
 833              	 .cfi_def_cfa_offset 8
 834 0040 BD46     	 mov sp,r7
 835              	.LCFI46:
 836              	 .cfi_def_cfa_register 13
 837              	 
 838 0042 80BD     	 pop {r7,pc}
 839              	.L51:
 840              	 .align 2
 841              	.L50:
 842 0044 00000000 	 .word FPGA_setaddr
 843 0048 00000000 	 .word xram
 844              	 .cfi_endproc
 845              	.LFE191:
 847              	 .section .text.smc_normaltiming,"ax",%progbits
 848              	 .align 1
 849              	 .global smc_normaltiming
 850              	 .syntax unified
 851              	 .thumb
 852              	 .thumb_func
 853              	 .fpu softvfp
 855              	smc_normaltiming:
 856              	.LFB192:
 153:usb_xmem.c    **** 
 154:usb_xmem.c    **** //Set timing for normal mode
 155:usb_xmem.c    **** void smc_normaltiming(void){
 857              	 .loc 1 155 0
 858              	 .cfi_startproc
 859              	 
 860              	 
 861 0000 80B5     	 push {r7,lr}
 862              	.LCFI47:
 863              	 .cfi_def_cfa_offset 8
 864              	 .cfi_offset 7,-8
 865              	 .cfi_offset 14,-4
 866 0002 00AF     	 add r7,sp,#0
 867              	.LCFI48:
 868              	 .cfi_def_cfa_register 7
 156:usb_xmem.c    ****   smc_set_setup_timing(SMC, 0,
 869              	 .loc 1 156 0
 870 0004 4FF48072 	 mov r2,#256
 871 0008 0021     	 movs r1,#0
 872 000a 0A48     	 ldr r0,.L53
 873 000c 0A4B     	 ldr r3,.L53+4
 874 000e 9847     	 blx r3
 875              	.LVL19:
 157:usb_xmem.c    ****   SMC_SETUP_NWE_SETUP(0) |
 158:usb_xmem.c    ****   SMC_SETUP_NCS_WR_SETUP(1) |
 159:usb_xmem.c    ****   SMC_SETUP_NRD_SETUP(0) |
 160:usb_xmem.c    ****   SMC_SETUP_NCS_RD_SETUP(0)
 161:usb_xmem.c    ****   );
 162:usb_xmem.c    **** 
 163:usb_xmem.c    ****   smc_set_pulse_timing(SMC, 0,
 876              	 .loc 1 163 0
 877 0010 0A4A     	 ldr r2,.L53+8
 878 0012 0021     	 movs r1,#0
 879 0014 0748     	 ldr r0,.L53
 880 0016 0A4B     	 ldr r3,.L53+12
 881 0018 9847     	 blx r3
 882              	.LVL20:
 164:usb_xmem.c    ****   SMC_PULSE_NWE_PULSE(1) |
 165:usb_xmem.c    ****   SMC_PULSE_NCS_WR_PULSE(1) |
 166:usb_xmem.c    ****   SMC_PULSE_NRD_PULSE(4) |
 167:usb_xmem.c    ****   SMC_PULSE_NCS_RD_PULSE(4)
 168:usb_xmem.c    ****   );
 169:usb_xmem.c    **** 
 170:usb_xmem.c    ****   smc_set_cycle_timing(SMC, 0,
 883              	 .loc 1 170 0
 884 001a 0A4A     	 ldr r2,.L53+16
 885 001c 0021     	 movs r1,#0
 886 001e 0548     	 ldr r0,.L53
 887 0020 094B     	 ldr r3,.L53+20
 888 0022 9847     	 blx r3
 889              	.LVL21:
 171:usb_xmem.c    ****   SMC_CYCLE_NWE_CYCLE(2) |
 172:usb_xmem.c    ****   SMC_CYCLE_NRD_CYCLE(5)
 173:usb_xmem.c    ****   );
 174:usb_xmem.c    **** 
 175:usb_xmem.c    ****   smc_set_mode(SMC, 0,
 890              	 .loc 1 175 0
 891 0024 0322     	 movs r2,#3
 892 0026 0021     	 movs r1,#0
 893 0028 0248     	 ldr r0,.L53
 894 002a 084B     	 ldr r3,.L53+24
 895 002c 9847     	 blx r3
 896              	.LVL22:
 176:usb_xmem.c    ****   SMC_MODE_READ_MODE_NRD_CTRL |
 177:usb_xmem.c    ****   SMC_MODE_WRITE_MODE_NWE_CTRL |
 178:usb_xmem.c    ****   SMC_MODE_DBW_BIT_8
 179:usb_xmem.c    ****   );
 180:usb_xmem.c    **** }
 897              	 .loc 1 180 0
 898 002e 00BF     	 nop
 899 0030 80BD     	 pop {r7,pc}
 900              	.L54:
 901 0032 00BF     	 .align 2
 902              	.L53:
 903 0034 00000E40 	 .word 1074659328
 904 0038 00000000 	 .word smc_set_setup_timing
 905 003c 01010404 	 .word 67371265
 906 0040 00000000 	 .word smc_set_pulse_timing
 907 0044 02000500 	 .word 327682
 908 0048 00000000 	 .word smc_set_cycle_timing
 909 004c 00000000 	 .word smc_set_mode
 910              	 .cfi_endproc
 911              	.LFE192:
 913              	 .section .text.smc_fasttiming,"ax",%progbits
 914              	 .align 1
 915              	 .global smc_fasttiming
 916              	 .syntax unified
 917              	 .thumb
 918              	 .thumb_func
 919              	 .fpu softvfp
 921              	smc_fasttiming:
 922              	.LFB193:
 181:usb_xmem.c    **** 
 182:usb_xmem.c    **** void smc_fasttiming(void){
 923              	 .loc 1 182 0
 924              	 .cfi_startproc
 925              	 
 926              	 
 927 0000 80B5     	 push {r7,lr}
 928              	.LCFI49:
 929              	 .cfi_def_cfa_offset 8
 930              	 .cfi_offset 7,-8
 931              	 .cfi_offset 14,-4
 932 0002 00AF     	 add r7,sp,#0
 933              	.LCFI50:
 934              	 .cfi_def_cfa_register 7
 183:usb_xmem.c    **** 
 184:usb_xmem.c    **** 
 185:usb_xmem.c    ****   smc_set_setup_timing(SMC, 0,
 935              	 .loc 1 185 0
 936 0004 4FF48072 	 mov r2,#256
 937 0008 0021     	 movs r1,#0
 938 000a 0A48     	 ldr r0,.L56
 939 000c 0A4B     	 ldr r3,.L56+4
 940 000e 9847     	 blx r3
 941              	.LVL23:
 186:usb_xmem.c    ****   SMC_SETUP_NWE_SETUP(0) |
 187:usb_xmem.c    ****   SMC_SETUP_NCS_WR_SETUP(1) |
 188:usb_xmem.c    ****   SMC_SETUP_NRD_SETUP(0) |
 189:usb_xmem.c    ****   SMC_SETUP_NCS_RD_SETUP(0)
 190:usb_xmem.c    ****   );
 191:usb_xmem.c    **** 
 192:usb_xmem.c    ****   smc_set_pulse_timing(SMC, 0,
 942              	 .loc 1 192 0
 943 0010 0A4A     	 ldr r2,.L56+8
 944 0012 0021     	 movs r1,#0
 945 0014 0748     	 ldr r0,.L56
 946 0016 0A4B     	 ldr r3,.L56+12
 947 0018 9847     	 blx r3
 948              	.LVL24:
 193:usb_xmem.c    ****   SMC_PULSE_NWE_PULSE(1) |
 194:usb_xmem.c    ****   SMC_PULSE_NCS_WR_PULSE(1) |
 195:usb_xmem.c    ****   SMC_PULSE_NRD_PULSE(3) |
 196:usb_xmem.c    ****   SMC_PULSE_NCS_RD_PULSE(3)
 197:usb_xmem.c    ****   );
 198:usb_xmem.c    **** 
 199:usb_xmem.c    ****   smc_set_cycle_timing(SMC, 0,
 949              	 .loc 1 199 0
 950 001a 0A4A     	 ldr r2,.L56+16
 951 001c 0021     	 movs r1,#0
 952 001e 0548     	 ldr r0,.L56
 953 0020 094B     	 ldr r3,.L56+20
 954 0022 9847     	 blx r3
 955              	.LVL25:
 200:usb_xmem.c    ****   SMC_CYCLE_NWE_CYCLE(2) |
 201:usb_xmem.c    ****   SMC_CYCLE_NRD_CYCLE(4)
 202:usb_xmem.c    ****   );
 203:usb_xmem.c    **** 
 204:usb_xmem.c    ****   smc_set_mode(SMC, 0,
 956              	 .loc 1 204 0
 957 0024 0322     	 movs r2,#3
 958 0026 0021     	 movs r1,#0
 959 0028 0248     	 ldr r0,.L56
 960 002a 084B     	 ldr r3,.L56+24
 961 002c 9847     	 blx r3
 962              	.LVL26:
 205:usb_xmem.c    ****   SMC_MODE_READ_MODE_NRD_CTRL |
 206:usb_xmem.c    ****   SMC_MODE_WRITE_MODE_NWE_CTRL |
 207:usb_xmem.c    ****   SMC_MODE_DBW_BIT_8
 208:usb_xmem.c    ****   );
 209:usb_xmem.c    **** }
 963              	 .loc 1 209 0
 964 002e 00BF     	 nop
 965 0030 80BD     	 pop {r7,pc}
 966              	.L57:
 967 0032 00BF     	 .align 2
 968              	.L56:
 969 0034 00000E40 	 .word 1074659328
 970 0038 00000000 	 .word smc_set_setup_timing
 971 003c 01010303 	 .word 50528513
 972 0040 00000000 	 .word smc_set_pulse_timing
 973 0044 02000400 	 .word 262146
 974 0048 00000000 	 .word smc_set_cycle_timing
 975 004c 00000000 	 .word smc_set_mode
 976              	 .cfi_endproc
 977              	.LFE193:
 979              	 .text
 980              	.Letext0:
 981              	 .file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 982              	 .file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 983              	 .file 4 ".././hal/sam3u1c/inc/sam3u1c.h"
 984              	 .file 5 ".././hal/sam3u1c/inc/core_cm3.h"
 985              	 .file 6 ".././hal/sam3u1c/inc/system_sam3u.h"
 986              	 .file 7 ".././hal/sam3u1c/inc/component/component_pio.h"
 987              	 .file 8 ".././hal/sam3u1c/inc/component/component_smc.h"
 988              	 .file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include\\sys\\lock.h"
 989              	 .file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include\\sys\\_types.h"
 990              	 .file 11 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\stddef.h"
 991              	 .file 12 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include\\sys\\reent.h"
 992              	 .file 13 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include\\stdlib.h"
 993              	 .file 14 ".././hal/sam3u1c/inc/interrupt/interrupt_sam_nvic.h"
 994              	 .file 15 ".././hal/sam3u1c/inc/compiler.h"
 995              	 .file 16 ".././hal/sam3u1c/inc/sam/sleepmgr.h"
 996              	 .file 17 "./conf_usb.h"
 997              	 .file 18 ".././hal/sam3u1c/inc/usb_protocol.h"
 998              	 .file 19 ".././hal/sam3u1c/inc/udi.h"
 999              	 .file 20 ".././hal/sam3u1c/inc/udc_desc.h"
 1000              	 .file 21 ".././hal/sam3u1c/inc/udd.h"
 1001              	 .file 22 ".././hal/sam3u1c/inc/udi_vendor.h"
 1002              	 .file 23 "usb_xmem.h"
 1003              	 .file 24 ".././hal/sam3u1c/inc/smc.h"
 1004              	 .file 25 ".././hal/sam3u1c/inc/pio.h"
DEFINED SYMBOLS
                            *ABS*:00000000 usb_xmem.c
    {standard input}:16     .bss.cpu_irq_critical_section_counter:00000000 $d
    {standard input}:19     .bss.cpu_irq_critical_section_counter:00000000 cpu_irq_critical_section_counter
    {standard input}:24     .bss.cpu_irq_prev_interrupt_state:00000000 cpu_irq_prev_interrupt_state
    {standard input}:25     .bss.cpu_irq_prev_interrupt_state:00000000 $d
    {standard input}:31     .data.xram:00000000 xram
    {standard input}:28     .data.xram:00000000 $d
    {standard input}:36     .bss._fpga_locked:00000000 _fpga_locked
    {standard input}:37     .bss._fpga_locked:00000000 $d
    {standard input}:39     .text.FPGA_setlock:00000000 $t
    {standard input}:46     .text.FPGA_setlock:00000000 FPGA_setlock
    {standard input}:106    .text.FPGA_setlock:00000034 $d
    {standard input}:113    .text.FPGA_releaselock:00000000 $t
    {standard input}:120    .text.FPGA_releaselock:00000000 FPGA_releaselock
    {standard input}:152    .text.FPGA_releaselock:00000014 $d
    {standard input}:157    .text.FPGA_lockstatus:00000000 $t
    {standard input}:164    .text.FPGA_lockstatus:00000000 FPGA_lockstatus
    {standard input}:196    .text.FPGA_lockstatus:00000014 $d
    {standard input}:201    .text.try_enter_cs:00000000 $t
    {standard input}:208    .text.try_enter_cs:00000000 try_enter_cs
    {standard input}:251    .text.try_enter_cs:00000024 $d
    {standard input}:258    .text.exit_cs:00000000 $t
    {standard input}:265    .text.exit_cs:00000000 exit_cs
    {standard input}:293    .text.exit_cs:00000010 $d
    {standard input}:299    .text.FPGA_setaddr:00000000 $t
    {standard input}:306    .text.FPGA_setaddr:00000000 FPGA_setaddr
    {standard input}:353    .text.FPGA_setaddr:00000024 $d
    {standard input}:361    .text.unsafe_readuint32:00000000 $t
    {standard input}:368    .text.unsafe_readuint32:00000000 unsafe_readuint32
    {standard input}:447    .text.unsafe_readuint32:00000064 $d
    {standard input}:453    .text.safe_readuint32:00000000 $t
    {standard input}:460    .text.safe_readuint32:00000000 safe_readuint32
    {standard input}:567    .text.safe_readuint32:00000088 $d
    {standard input}:575    .text.unsafe_readbytes:00000000 $t
    {standard input}:582    .text.unsafe_readbytes:00000000 unsafe_readbytes
    {standard input}:650    .text.unsafe_readbytes:00000048 $d
    {standard input}:656    .text.safe_readbytes:00000000 $t
    {standard input}:663    .text.safe_readbytes:00000000 safe_readbytes
    {standard input}:760    .text.safe_readbytes:0000006c $d
    {standard input}:768    .text.unsafe_writebytes:00000000 $t
    {standard input}:775    .text.unsafe_writebytes:00000000 unsafe_writebytes
    {standard input}:842    .text.unsafe_writebytes:00000044 $d
    {standard input}:848    .text.smc_normaltiming:00000000 $t
    {standard input}:855    .text.smc_normaltiming:00000000 smc_normaltiming
    {standard input}:903    .text.smc_normaltiming:00000034 $d
    {standard input}:914    .text.smc_fasttiming:00000000 $t
    {standard input}:921    .text.smc_fasttiming:00000000 smc_fasttiming
    {standard input}:969    .text.smc_fasttiming:00000034 $d
                           .group:00000000 wm4.0.7d8dd4860124405c65f5049e8a79afcb
                           .group:00000000 wm4.stddef.h.39.99b5021e28f91cdb161c889e07266673
                           .group:00000000 wm4.parts.h.45.afc900689b2c82332e69d798acedc875
                           .group:00000000 wm4.tpaste.h.45.af3ee36765243b162c88f7f944858426
                           .group:00000000 wm4.stringz.h.45.c4f6cbe0005e6c1d2139bc6c0e4f4722
                           .group:00000000 wm4.mrepeat.h.59.c5daaed201a4340b0edf435161d0b77f
                           .group:00000000 wm4._newlib_version.h.4.875b979a44719054cd750d0952ad3fd6
                           .group:00000000 wm4.features.h.33.5bd1eea2d80518b50f7af0b5ce6750e0
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.cce27fed8484c08a33f522034c30d2b5
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.sam3u1c.h.220.c0b54b5a55bc87791749ae17b1487779
                           .group:00000000 wm4.core_cm3.h.32.5c59c312db585622d253fdb887b0afb1
                           .group:00000000 wm4.core_cmInstr.h.25.d8165482ef3061013a2fc83e2d85f3d9
                           .group:00000000 wm4.core_cm3.h.127.b561404f2a159dc517b409bc244d16c1
                           .group:00000000 wm4.component_adc.h.43.d49887380d07d1cd08cc4e37b3485e31
                           .group:00000000 wm4.component_adc12b.h.43.eadc09f1073923fb91f1f393cc397dcb
                           .group:00000000 wm4.component_chipid.h.43.15825c969b1cc9eeea3d9416499874c8
                           .group:00000000 wm4.component_dmac.h.43.cc8187b1cf6bfeadc91b14fdd28b9e8b
                           .group:00000000 wm4.component_efc.h.43.cb1b3997ad9ea3733ad421ecbfd02fdd
                           .group:00000000 wm4.component_gpbr.h.43.49b7e13894fe38b29f2243bbbe530227
                           .group:00000000 wm4.component_hsmci.h.43.7b7194c92e1480c038f3342f7cec440a
                           .group:00000000 wm4.component_matrix.h.43.1d209838fb75b4827119203a357141ee
                           .group:00000000 wm4.component_pdc.h.43.19528a5f9ef5a348234ea06f89069c55
                           .group:00000000 wm4.component_pio.h.43.163b46c3683ccf92e8de39a5554f50e8
                           .group:00000000 wm4.component_pmc.h.43.ee4f030602866917aeed15fb2b948de8
                           .group:00000000 wm4.component_pwm.h.43.ab6262a86f0aea354b43fe6dce7e7eb3
                           .group:00000000 wm4.component_rstc.h.43.4eb59dc2ddcf585fabf251d0c329fcdd
                           .group:00000000 wm4.component_rtc.h.43.ba8ccafc772b11d562a3cceab8b95072
                           .group:00000000 wm4.component_rtt.h.43.3206ef8f067e5e747c3c4c7e719c1429
                           .group:00000000 wm4.component_smc.h.43.907847915f1a5616734199d7e34424fa
                           .group:00000000 wm4.component_spi.h.43.a2a09df64ab768c0a32be55285c74ded
                           .group:00000000 wm4.component_ssc.h.43.d7c78f990c13fc511671b64798c4bcd0
                           .group:00000000 wm4.component_supc.h.43.7d17f8e5ed3ba815e84381152735062f
                           .group:00000000 wm4.component_tc.h.43.662eac8137408372b4f9d26c0b5f8621
                           .group:00000000 wm4.component_twi.h.43.eda18625bd851fc4605861f5b3240c0b
                           .group:00000000 wm4.component_uart.h.43.2d92735c5ea05c973661e1ba99a2f37c
                           .group:00000000 wm4.component_udphs.h.43.21cecd26a4e44df0013037f29f2716e4
                           .group:00000000 wm4.component_usart.h.43.7872f8f455adb38b67b9fbdb15657fbe
                           .group:00000000 wm4.component_wdt.h.43.e31e10a5469b62c3660b49ab250f802f
                           .group:00000000 wm4.instance_hsmci.h.43.e233236cc7fd5a805539a7ecc0e1d8d2
                           .group:00000000 wm4.instance_ssc.h.43.c0cfabc3b9f3bb60745c913111bce965
                           .group:00000000 wm4.instance_spi.h.43.570ae46af19e4179d9796872b9a8b9bc
                           .group:00000000 wm4.instance_tc0.h.43.049b3a82387d2961594190609e896a29
                           .group:00000000 wm4.instance_twi0.h.43.255dc0afa9e0d45eaea0a935eca2f103
                           .group:00000000 wm4.instance_twi1.h.43.652d1d407893f259f2a817544ba662c2
                           .group:00000000 wm4.instance_pwm.h.43.88294acec3ca56d6fc521038521a1567
                           .group:00000000 wm4.instance_usart0.h.43.e26677512aee3dd3bedd71d394410000
                           .group:00000000 wm4.instance_usart1.h.43.1ba97dbc6610d9fb3132b9d845688201
                           .group:00000000 wm4.instance_usart2.h.43.baa1bf30b3c5acdee90c4a1f50fe9ebd
                           .group:00000000 wm4.instance_udphs.h.43.b1ce94181e0d1f22877b81c6040a4363
                           .group:00000000 wm4.instance_adc12b.h.43.d73ed59e867ccdfdb846d9ef32a50c0c
                           .group:00000000 wm4.instance_adc.h.43.2b7611a00afeb4c555339b844d4b8456
                           .group:00000000 wm4.instance_dmac.h.43.ee72691d84889c8f285932be4a075ddb
                           .group:00000000 wm4.instance_smc.h.43.29610fd00979caaaa65821ad40e9da06
                           .group:00000000 wm4.instance_matrix.h.43.01ee474141594385374c41a29daeeefe
                           .group:00000000 wm4.instance_pmc.h.43.37430325ed7b8b24c3fe640c41c29ef5
                           .group:00000000 wm4.instance_uart.h.43.bd378395ba022bc8670c82ebe656fbbd
                           .group:00000000 wm4.instance_chipid.h.43.29cd8fb600f149aa58830fcc78fe36f9
                           .group:00000000 wm4.instance_efc0.h.43.6b85dba20721a7e9fc4350e78d193680
                           .group:00000000 wm4.instance_efc1.h.43.2c5e94fc4d2742678318d73450d08d57
                           .group:00000000 wm4.instance_pioa.h.43.eeb46cc3bfe01a1f28e67aa3a6851ed8
                           .group:00000000 wm4.instance_piob.h.43.652ce26b6c37ac56f9ed42a9216d9aca
                           .group:00000000 wm4.instance_rstc.h.43.c5de224364a50a85f237c0b864aa4c8f
                           .group:00000000 wm4.instance_supc.h.43.a5f1a5ca08f468ccf34ed3653e045f1f
                           .group:00000000 wm4.instance_rtt.h.43.8622b192c23334996132415e3095df7f
                           .group:00000000 wm4.instance_wdt.h.43.407ea53e133eacf09acf2c7fcb6b7524
                           .group:00000000 wm4.instance_rtc.h.43.f70b77f9180401c8d9d920cb4a1cd166
                           .group:00000000 wm4.instance_gpbr.h.43.9066cb40d557f6755101368854272348
                           .group:00000000 wm4.sam3u1c.h.312.ae446d8e874d34ca3df78faf190c678f
                           .group:00000000 wm4.pio_sam3u1c.h.43.18b24f16e1710ff2a400d88fe33c5107
                           .group:00000000 wm4.sam3u1c.h.442.cd4bbc3af493e98bc9b60c2905132ed0
                           .group:00000000 wm4.newlib.h.8.f6e543eac3f2f65163ba2ffe3b04987b
                           .group:00000000 wm4.ieeefp.h.77.220d9cccac42cd58761758bee2df4ce6
                           .group:00000000 wm4.config.h.220.6cac6a9685cfce5e83c17784171638d9
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:00000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:00000000 wm4.cdefs.h.47.14fad0b327eb9dcf106599b738d85132
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:00000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:00000000 wm4._types.h.184.03611d4f6b5bec9997bcf4279eceba07
                           .group:00000000 wm4.reent.h.17.90c2574d4acdcfce933db5cb09ff35fe
                           .group:00000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:00000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:00000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:00000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:00000000 wm4.select.h.19.97ca6fd0c752a0f3b6719fd314d361e6
                           .group:00000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:00000000 wm4.sched.h.22.c60982713a5c428609783c78f9c78d95
                           .group:00000000 wm4._pthreadtypes.h.36.fcee9961c35163dde6267ef772ad1972
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.81.932d0c162786b883f622b8d05c120c78
                           .group:00000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.d4493cd3736e51e9d56335045f26df45
                           .group:00000000 wm4.compiler.h.88.0e6ad966134fa012ce9a34053d3f48aa
                           .group:00000000 wm4.interrupt_sam_nvic.h.45.4876da6c127868305d66389e87e0876f
                           .group:00000000 wm4.compiler.h.425.66dd29c210af3287ed85ec3553a3e6b1
                           .group:00000000 wm4.conf_clock.h.45.5dc276d21b4d793a62f1a9757cc18d5c
                           .group:00000000 wm4.board.h.48.ce8d06c36cc583d9bf62738411f62e4d
                           .group:00000000 wm4.cw521.h.62.d34c289ace4a92d90be8fb389db40479
                           .group:00000000 wm4.pmc.h.45.bbe1bf97a811e3b283420b2eeadf0b35
                           .group:00000000 wm4.osc.h.94.b766cddafe899eca01d775f7b2906680
                           .group:00000000 wm4.pll.h.45.a605c31ca466ae25752a678e8572be48
                           .group:00000000 wm4.sysclk.h.156.541a142b0016a365728ea1f7c0e3db84
                           .group:00000000 wm4.cycle_counter.h.44.fde38fb1acfd6555d72e65fae6e86af5
                           .group:00000000 wm4.delay.h.105.f2a8ab5e71eab0684cf6985b5c2fc9e8
                           .group:00000000 wm4.efc.h.45.ec5734119c630498df26106bacf9a684
                           .group:00000000 wm4.flash_efc.h.90.a4a39259055880dc10b861c5fe1b99e7
                           .group:00000000 wm4.pio.h.45.95f22b0ea02ddc698ec54fc56bf6f38c
                           .group:00000000 wm4.sam_gpio.h.50.76a45c51855d665134f8211cd601d693
                           .group:00000000 wm4.ioport_pio.h.44.373b34364b4ef25fac62017cd942a761
                           .group:00000000 wm4.sleep.h.45.ef10e1aee6f903405be19980a8333b7f
                           .group:00000000 wm4.smc.h.45.17a94aa976bb62b1109d03e8a314a569
                           .group:00000000 wm4.spi.h.45.712c66be09ffbac297c2e00923077297
                           .group:00000000 wm4.conf_sleepmgr.h.44.d825b913294720022fefe7201514fca3
                           .group:00000000 wm4.twi.h.45.ba70de99d200dafba570ce8f7058737a
                           .group:00000000 wm4.twi_master.h.90.08c062d0fa8f8aeea342ceeb79263395
                           .group:00000000 wm4.twi_slave.h.45.8b3d1a3d2e43ebc7d0161f4142989871
                           .group:00000000 wm4.uart.h.45.a5af743b8064bd84d1a6438457096e18
                           .group:00000000 wm4.usart.h.46.eae6fe592b7ea0768efef8d312e7f44f
                           .group:00000000 wm4.conf_uart_serial.h.45.245cdceaa1a3811fd043bf660ce38054
                           .group:00000000 wm4.conf_usb.h.45.dde1b096e128cb4c70cbe39d63ef79bf
                           .group:00000000 wm4.udi_vendor_conf.h.56.4348c8e521d040f44df868219dae6785
                           .group:00000000 wm4.usb_atmel.h.45.c31b525dbe01f8d9e2022a03356ec174
                           .group:00000000 wm4.usb_protocol.h.63.850c58f3469fce50a9ac9a6854f7594b
                           .group:00000000 wm4.usb_protocol_vendor.h.45.83dfe073428ff799abc3ed1c7b04c77d
                           .group:00000000 wm4.udc_desc.h.77.5fec235bd7553e7256e345e020840072
                           .group:00000000 wm4.udd.h.103.3ccc59b50c14ec70568e6136eeb22d56
                           .group:00000000 wm4.udi_vendor.h.125.7b9085237d4d4a9757f4c148fba1918d
                           .group:00000000 wm4.usb_xmem.h.16.2bfdefafb315212fe60310212368ffbb

UNDEFINED SYMBOLS
cpu_irq_enter_critical
cpu_irq_leave_critical
pio_sync_output_write
pio_set_pin_low
pio_set_pin_high
smc_set_setup_timing
smc_set_pulse_timing
smc_set_cycle_timing
smc_set_mode
